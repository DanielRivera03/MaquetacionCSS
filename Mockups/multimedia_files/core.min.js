!function(a){"use strict";var b=a.Ractive,c=null,d=function(){var a,b;return a={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,noCssTransform:!1,adapt:[],sanitize:!1,stripComments:!0,isolated:!1,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null},b={keys:Object.keys(a),defaults:a}}(c),e=function(){var a;return a="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),f={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},g=function(a,b){var c;return c=a?function(a,c){return c&&c!==b.html?document.createElementNS(c,a):document.createElement(a)}:function(a,c){if(c&&c!==b.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)}}(e,f),h=function(){var a="object"==typeof document;return a}(),i=function(a){var b;try{Object.defineProperty({},"test",{value:0}),a&&Object.defineProperty(document.createElement("div"),"test",{value:0}),b=Object.defineProperty}catch(c){b=function(a,b,c){a[b]=c.value}}return b}(h),j=function(a,b,c){var d;try{try{Object.defineProperties({},{test:{value:0}})}catch(e){throw e}c&&Object.defineProperties(a("div"),{test:{value:0}}),d=Object.defineProperties}catch(e){d=function(a,c){var d;for(d in c)c.hasOwnProperty(d)&&b(a,d,c[d])}}return d}(g,i,h),k=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},l=function(a){return function(b,c,d){var e;if("string"!=typeof c||!a(d))throw new Error("Bad arguments");if(e=+b.get(c)||0,!a(e))throw new Error("Cannot add to a non-numeric value");return b.set(c,e+d)}}(k),m=function(a){return function(b,c){return a(this,b,void 0===c?1:+c)}}(l),n=function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b},o=function(){function a(a){setTimeout(a,0)}function b(a,b){return function(){for(var c;c=a.shift();)c(b)}}function c(a,b,e,f){var g;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof d)b.then(e,f);else if(!b||"object"!=typeof b&&"function"!=typeof b)e(b);else{try{g=b.then}catch(h){return void f(h)}if("function"==typeof g){var i,j,k;j=function(b){i||(i=!0,c(a,b,e,f))},k=function(a){i||(i=!0,f(a))};try{g.call(b,j,k)}catch(h){if(!i)return f(h),void (i=!0)}}else e(b)}}var d,e={},f={},g={};return"function"==typeof o?d=o:(d=function(h){var i,j,k,l,m,n,o=[],p=[],q=e;return k=function(c){return function(d){q===e&&(i=d,q=c,j=b(q===f?o:p,i),a(j))}},l=k(f),m=k(g),h(l,m),n={then:function(b,f){var g=new d(function(d,h){var i=function(a,b,e){b.push("function"==typeof a?function(b){var e;try{e=a(b),c(g,e,d,h)}catch(f){h(f)}}:e)};i(b,o,d),i(f,p,h),q!==e&&a(j)});return g}},n["catch"]=function(a){return this.then(null,a)},n},d.all=function(a){return new d(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},d.resolve=function(a){return new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})}),d}(),p=function(){var a=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(b){return(b||"").replace(a,".$1")}}(),q=["o","ms","moz","webkit"],r=function(a){var b;return"undefined"==typeof window?b=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(a,0,window),b=window.requestAnimationFrame),b}(q),s=function(){var a;return a="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),t=[],u=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},v=function(a,b,c){var d,e,f,g,h,i,j="/* Ractive.js component styles */\n",k={},l=[];return b?(a.push(function(){e=a.runloop}),f=document.createElement("style"),f.type="text/css",g=document.getElementsByTagName("head")[0],i=!1,h=f.styleSheet,d={add:function(a){a.css&&(k[a._guid]||(k[a._guid]=0,l.push(a.css),e.scheduleCssUpdate()),k[a._guid]+=1)},remove:function(a){a.css&&(k[a._guid]-=1,k[a._guid]||(c(l,a.css),e.scheduleCssUpdate()))},update:function(){var a;l.length?(a=j+l.join(" "),h?h.cssText=a:f.innerHTML=a,i||g.appendChild(f)):i&&g.removeChild(f)}}):d=null,d}(t,h,u),w=function(a,b){var c,d,e,f,g,h;for(c=[],h=a._rendering?a.fragment.docFrag:a.el,d=h.querySelectorAll('input[type="checkbox"][name="{{'+b+'}}"]'),f=d.length,g=0;f>g;g+=1)e=d[g],(e.hasAttribute("checked")||e.checked)&&c.push(e._ractive.value);return c},x=Object.prototype.hasOwnProperty,y=function(a){do if(a.context)return a.context;while(a=a.parent);return""},z=function(a,b,c,d){function e(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error(g);c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}var f,g,h;return a.push(function(){f=a.get}),g='Could not resolve reference - too many "../" prefixes',h={evaluateWrapped:!0},function(a,g,i){var j,k,l,m;if(g=b(g),"."===g.charAt(0))return e(d(i),g);k=g.split(".")[0];do if(j=i.context,j&&(m=!0,l=f(a,j,h),l&&("object"==typeof l||"function"==typeof l)&&k in l))return j+"."+g;while(i=i.parent);return m||a._parent&&!a.isolated?c.call(a.data,k)?g:void 0!==f(a,g)?g:void 0:g}}(t,p,x,y),A=function(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),f[e]!==!0&&(f.push(e),f[e]=!0);return f},B=function(a){function b(a,b,d){var e;for(a._patternObservers.length&&f(a,b,b,d,!0),e=0;e<a._deps.length;e+=1)c(a,b,e,d)}function c(a,b,c,f){var g,h,j=a._deps[c];j&&(g=i(a,b),h=i(a,b,l),d(j[b],g,h),f||e(a._depsMap[b],a,c))}function d(a,b,c){a&&a.forEach(function(a){return a.setValue(b,c)})}function e(a,b,d,e){var f;if(a)for(f=a.length;f--;)c(b,a[f],d,e)}function f(a,b,c,d,e){var h,i,k,l,m,n,o,p;for(h=a._patternObservers.length;h--;)i=a._patternObservers[h],i.regex.test(c)&&i.update(c);d||(p=function(b){if(k=a._depsMap[b])for(h=k.length;h--;)l=k[h],m=j.exec(l)[0],n=c?c+"."+m:m,f(a,l,n)},e?(o=g(c),o.forEach(p)):p(b))}function g(a){var b,c,d,e,f,g;for(b=a.split("."),c=h(b.length),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f[g]||(f.push(g),f[g]=!0);return f}function h(a){var b,c,d,e,f,g="";if(!k[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}k[a]=d}return k[a]}var i,j=/[^\.]+$/,k={},l={evaluateWrapped:!0};return a.push(function(){i=a.get}),b.multiple=function(a,b,d){var e,g,h;if(h=b.length,a._patternObservers.length)for(e=h;e--;)f(a,b[e],b[e],d,!0);for(e=0;e<a._deps.length;e+=1)if(a._deps[e])for(g=h;g--;)c(a,b[g],e,d)},b}(t),C=function(a){var b,c,d,e;return b=function(a,b){var f=[];return f.detachQueue=[],f.remove=d,f.init=e,f._check=c,f._callback=a,f._previous=b,b&&b.push(f),f},c=function(){var a;if(this._ready&&!this.length){for(;a=this.detachQueue.pop();)a.detach();"function"==typeof this._callback&&this._callback(),this._previous&&this._previous.remove(this)}},d=function(b){a(this,b),this._check()},e=function(){this._ready=!0,this._check()},b}(u),D=function(a,b,c,d,e,f,g,h){function i(){var a,c,e,h,i;for(e=z.length;e--;)a=z[e],a._changes.length&&(c=f(a._changes),g.multiple(a,c,!0));for(j();p;){for(p=!1;a=v.pop();)a.update(),a.dirty=!1;for(;a=y.pop();)a();for(;a=t.pop();)m(a.root,a.keypath,d(a.root,a.keypath)),s[a.keypath]=!1;j()}for(;a=w.pop();)a.update();for(;a=x.pop();)a();for(;a=r.pop();)a.locked=!1;for(;a=z.pop();)if(z[a._guid]=!1,a._changes.length){for(h={};i=a._changes.pop();)h[i]=l(a,i);a.fire("change",h)}n&&(b.update(),n=!1)}function j(){var a,b,c;if(u.length)for(a=u.splice(0,u.length);b=a.pop();)b.keypath||(c=e(b.root,b.ref,b.parentFragment),void 0!==c?b.resolve(c):u.push(b))}a.push(function(){l=a.get,m=a.set});var k,l,m,n,o,p=!1,q=!1,r=[],s={},t=[],u=[],v=[],w=[],x=[],y=[],z=[];return k={start:function(a,b){this.addInstance(a),q||(o=h(b,o))},end:function(){if(q)return void j();q=!0;do i();while(p);q=!1,o.init(),o=o._previous},addInstance:function(a){a&&!z[a._guid]&&(z.push(a),z[z._guid]=!0)},registerTransition:function(a){a._manager=o,o.push(a)},viewUpdate:function(a){p=!0,w.push(a)},lockAttribute:function(a){a.locked=!0,r.push(a)},scheduleCssUpdate:function(){q?n=!0:b.update()},modelUpdate:function(a){p=!0,v.push(a)},addCheckboxBinding:function(a){s[a.keypath]||(p=!0,t.push(a),s[a.keypath]=!0)},addUnresolved:function(a){p=!0,u.push(a)},removeUnresolved:function(a){c(u,a)},detachWhenReady:function(a){o.detachQueue.push(a)},afterModelUpdate:function(a){p=!0,y.push(a)},afterViewUpdate:function(a){p=!0,x.push(a)}},a.runloop=k,k}(t,v,u,w,z,A,B,C),E=function(a,b,c){var d=[],e={tick:function(){var f,g,h;for(h=b(),c.start(),f=0;f<d.length;f+=1)g=d[f],g.tick(h)||d.splice(f--,1);c.end(),d.length?a(e.tick):e.running=!1},add:function(b){d.push(b),e.running||(e.running=!0,a(e.tick))},abort:function(a,b){for(var c,e=d.length;e--;)c=d[e],c.root===b&&c.keypath===a&&c.stop()}};return e}(r,s,D),F=function(){var a=Object.prototype.toString;return function(b){return"[object Array]"===a.call(b)}}(),G=function(a){return function(b){var c,d;if(!b||"object"!=typeof b)return b;if(a(b))return b.slice();c={};for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}}(F),H={},I=function(a,b,c){switch(b){case"splice":return c;case"sort":case"reverse":return null;case"pop":return a.length?[-1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}},J=function(a,b){var c,d,e,f,g,h,i;return b?(c=+(b[0]<0?a.length+b[0]:b[0]),g=Math.max(0,b.length-2),h=void 0!==b[1]?b[1]:a.length-c,h=Math.min(h,a.length-c),i=g-h,f=a.length+i,i?(d=Math.max(a.length,f),e=Math.max(a.length,f)):d=e=c+g,{rangeStart:c,rangeEnd:d,clearEnd:e,balance:i,added:g,removed:h}):null},K={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53},L=function gu(a,b,c){var d,e,f;if(c||(e=a._wrapped[b])&&e.teardown()!==!1&&(a._wrapped[b]=null),(f=a._computations[b])&&f.compute(),a._cache[b]=void 0,d=a._cacheMap[b])for(;d.length;)gu(a,d.pop())},M=function(){var a=/^\s*[0-9]+\s*$/;return function(b){return a.test(b)?[]:{}}}(),N=function(a,b,c,d,e){function f(a,h,i,j){var k,l,m,n,o,p,q,r;b(a._cache[h],i)||(o=a._computations[h],p=a._wrapped[h],q=a._evaluators[h],o&&!o.setting&&o.set(i),p&&p.reset&&(r=p.reset(i)!==!1,r&&(i=p.get())),q&&(q.value=i),o||q||r||(k=h.split("."),l=k.pop(),m=k.join("."),p=a._wrapped[m],p&&p.set?p.set(l,i):(n=p?p.get():g(a,m),n||(n=c(l),f(a,m,n,!0)),n[l]=i)),d(a,h,r),j||(a._changes.push(h),e(a,h)))}var g;return a.push(function(){g=a.get}),a.set=f,f}(t,n,M,L,B),O=function(a,b,c,d,e){var f;return e.push(function(){f=e.get}),function(e,g,h,i){var j,k,l,m,n,o;if(j=e.root,k=e.keypath,j._changes.push(k),"sort"===h||"reverse"===h)return void d(j,k,g);if(i){for(m=i.rangeStart;m<i.clearEnd;m+=1)b(j,k+"."+m);if(j._patternObservers.length&&(o=j._patternObservers.filter(function(a){return a.regex.test(k+".x")}),o.length&&o.forEach(function(a){var b;for(b=i.rangeStart;b<i.rangeEnd;b+=1)a.update(k+"."+b)})),l=function(b){b.keypath===k&&b.type===a.SECTION&&!b.inverted&&b.docFrag?b.splice(i):b.setValue(f(b.root,b.keypath))},j._deps.forEach(function(a){var b=a[k];b&&b.forEach(l)}),i.added&&i.removed)for(m=i.rangeStart;m<i.rangeEnd;m+=1)n=k+"."+m,c(j,n);i.balance&&(b(j,k+".length"),c(j,k+".length",!0))}}}(K,L,B,N,t),P=function(a,b,c,d,e){var f,g,h,i=[],j=["pop","push","reverse","shift","sort","splice","unshift"];return j.forEach(function(f){var g=function(){var b,g,h,i,j;for(b=c(this,f,Array.prototype.slice.call(arguments)),g=d(this,b),h=Array.prototype[f].apply(this,arguments),this._ractive.setting=!0,j=this._ractive.wrappers.length;j--;)i=this._ractive.wrappers[j],a.start(i.root),e(i,this,f,g),a.end();return this._ractive.setting=!1,h};b(i,f,{value:g})}),f={},f.__proto__?(g=function(a){a.__proto__=i},h=function(a){a.__proto__=Array.prototype}):(g=function(a){var c,d;for(c=j.length;c--;)d=j[c],b(a,d,{value:i[d],configurable:!0})},h=function(a){var b;for(b=j.length;b--;)delete a[j[b]]}),g.unpatch=h,g}(D,i,I,J,O),Q=function(a,b,c){var d,e,f;return d={filter:function(a){return b(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new e(a,b,c)}},e=function(b,d,e){this.root=b,this.value=d,this.keypath=e,d._ractive||(a(d,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),c(d)),d._ractive.instances[b._guid]||(d._ractive.instances[b._guid]=0,d._ractive.instances.push(b)),d._ractive.instances[b._guid]+=1,d._ractive.wrappers.push(this)},e.prototype={get:function(){return this.value},teardown:function(){var a,b,d,e,g;if(a=this.value,b=a._ractive,d=b.wrappers,e=b.instances,b.setting)return!1;if(g=d.indexOf(this),-1===g)throw new Error(f);if(d.splice(g,1),d.length){if(e[this.root._guid]-=1,!e[this.root._guid]){if(g=e.indexOf(this.root),-1===g)throw new Error(f);e.splice(g,1)}}else delete a._ractive,c.unpatch(this.value)}},f="Something went wrong in a rather interesting way",d}(i,F,P),R=function(a,b,c,d,e){function f(b,c,f){function g(b){var f,g;b.value=c,b.updating||(g=b.ractive,f=b.keypath,b.updating=!0,a.start(g),g._changes.push(f),d(g,f),e(g,f),a.end(),b.updating=!1)}var h,i,j,k,l,m;if(h=b.obj,i=b.prop,f&&!f.configurable){if("length"===i)return;throw new Error('Cannot use magic mode with property "'+i+'" - object is not configurable')}f&&(j=f.get,k=f.set),l=j||function(){return c},m=function(a){k&&k(a),c=j?j():a,m._ractiveWrappers.forEach(g)},m._ractiveWrappers=[b],Object.defineProperty(h,i,{get:l,set:m,enumerable:!0,configurable:!0})}var g,h;try{Object.defineProperty({},"test",{value:0}),g={filter:function(a,b,d){var e,f,g,h,i;return b?(e=b.split("."),f=e.pop(),g=e.join("."),(h=d._wrapped[g])&&!h.magic?!1:(i=d.get(g),c(i)&&/^[0-9]+$/.test(f)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(a,b,c){return new h(a,b,c)}},h=function(a,b,c){var d,e,g,h;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,g=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),g&&g.set&&(h=g.set._ractiveWrappers)?void (-1===h.indexOf(this)&&h.push(this)):void f(this,b,g)},h.prototype={get:function(){return this.value},reset:function(a){this.updating||(this.updating=!0,this.obj[this.prop]=a,d(this.ractive,this.keypath),this.updating=!1)},set:function(a,c){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=b(a),this.updating=!1),this.obj[this.prop][a]=c)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void (b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(i){g=!1}return g}(D,M,F,L,B),S=function(a,b){var c,d;return a&&(c={filter:function(c,d,e){return a.filter(c,d,e)&&b.filter(c)},wrap:function(a,b,c){return new d(a,b,c)}},d=function(c,d,e){this.value=d,this.magic=!0,this.magicWrapper=a.wrap(c,d,e),this.arrayWrapper=b.wrap(c,d,e)},d.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}}),c}(R,Q),T=function(a,b,c,d){function e(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function f(a){var b;return g[a]||(b=a?a+".":"",g[a]=function(c,d){var f;return"string"==typeof c?(f={},f[b+c]=d,f):"object"==typeof c?b?e(c,a):c:void 0}),g[a]}var g={};return function(e,g,h,i){var j,k,l,m;for(j=e.adapt.length,k=0;j>k;k+=1){if(l=e.adapt[k],"string"==typeof l){if(!a[l])throw new Error('Missing adaptor "'+l+'"');l=e.adapt[k]=a[l]}if(l.filter(h,g,e))return m=e._wrapped[g]=l.wrap(e,h,g,f(g)),m.value=h,h}return i||(e.magic?d.filter(h,g,e)?e._wrapped[g]=d.wrap(e,h,g):c.filter(h,g,e)&&(e._wrapped[g]=c.wrap(e,h,g)):e.modifyArrays&&b.filter(h,g,e)&&(e._wrapped[g]=b.wrap(e,h,g))),h}}(H,Q,R,S),U=function(){function a(a,b){var c,d,e;for(c=b.split(".");c.length;)c.pop(),d=c.join("."),e=a._depsMap[d]||(a._depsMap[d]=[]),void 0===e[b]&&(e[b]=0,e[e.length]=b),e[b]+=1,b=d}return function(b){var c,d,e,f,g;e=b.root,f=b.keypath,g=b.priority,c=e._deps[g]||(e._deps[g]={}),d=c[f]||(c[f]=[]),d.push(b),b.registered=!0,f&&a(e,f)}}(),V=function(){function a(a,b){var c,d,e;for(c=b.split(".");c.length;)c.pop(),d=c.join("."),e=a._depsMap[d],e[b]-=1,e[b]||(e.splice(e.indexOf(b),1),e[b]=void 0),b=d}return function(b){var c,d,e,f,g;if(e=b.root,f=b.keypath,g=b.priority,c=e._deps[g][f],d=c.indexOf(b),-1===d||!b.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");c.splice(d,1),b.registered=!1,f&&a(e,f)}}(),W=function(a,b,c,d,e,f){var g,h;a.push(function(){g=a.get,h=a.set});var i=function(a,b,c,d,f){this.root=a,this.keypath=b,this.priority=f,this.otherInstance=c,this.otherKeypath=d,e(this),this.value=g(this.root,this.keypath)};return i.prototype={setValue:function(a){this.updating||this.counterpart&&this.counterpart.updating||c(a)&&a._ractive&&a._ractive.setting||d(a,this.value)||(this.updating=!0,b.addInstance(this.otherInstance),h(this.otherInstance,this.otherKeypath,a),this.value=a,this.updating=!1)},rebind:function(a){f(this),f(this.counterpart),this.keypath=a,this.counterpart.otherKeypath=a,e(this),e(this.counterpart)},teardown:function(){f(this)}},function(a,b,c,d){var e,f,g,h,j,k;e=c+"="+d,g=a.bindings,g[e]||(g[e]=!0,f=a.instance,h=a.parentFragment.priority,j=new i(b,c,f,d,h),g.push(j),f.twoway&&(k=new i(f,d,b,c,1),g.push(k),j.counterpart=k,k.counterpart=j))}}(t,D,F,n,U,V),X=function(a,b,c){function d(a,d,e,f,g){c(d,f,g,!0),b(d.component,a,e,f)}var e;return a.push(function(){e=a.get}),function(a,b){var c,f,g,h,i;if(c=a._parent,f=a.component.parentFragment,f.indexRefs&&void 0!==(i=f.indexRefs[b]))return a.component.indexRefBindings[b]=b,i;do if(f.context&&(g=f.context+"."+b,h=e(c,g),void 0!==h))return d(c,a,g,b,h),h;while(f=f.parent);return h=e(c,b),void 0!==h?(d(c,a,b,b,h),h):void 0}}(t,W,N),Y={FAILED_LOOKUP:!0},Z=function(a,b,c,d,e,f){function g(a,b,c){var i,j,k,l,m,n,o=a._cache;return void 0===o[b]?((l=a._computations[b])?i=l.value:(m=a._wrapped[b])?i=m.value:b?i=(n=a._evaluators[b])?n.value:h(a,b):(d(a,"",a.data),i=a.data),o[b]=i):i=o[b],i===f&&(j=b.split(".")[0],k=j===b||void 0===g(a,j),i=a._parent&&!a.isolated&&k?e(a,b,c):void 0),c&&c.evaluateWrapped&&(m=a._wrapped[b])&&(i=m.get()),i}function h(a,e){var h,i,j,k,l,m,n,o;return h=e.split("."),i=h.pop(),j=h.join("."),k=g(a,j),(n=a._wrapped[j])&&(k=n.get()),null!==k&&void 0!==k?((l=a._cacheMap[j])?-1===l.indexOf(e)&&l.push(e):a._cacheMap[j]=[e],"object"!=typeof k||i in k?(o=!b.call(k,i),m=o?c(k[i]):k[i],m=d(a,e,m,!1),a._cache[e]=m,m):a._cache[e]=f):void 0}return a.get=g,g}(t,x,G,T,X,Y),$=function(){var a;return a="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),_=function(){var a=Object.prototype.toString;return function(b){return b&&"[object Object]"===a.call(b)}}(),ba=function(a,b,c,d,e){var f,g,h;return a.push(function(){g=a.interpolate}),h=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,f={number:function(a,b){var c;return e(a)&&e(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var d,e,f,h;if(!c(a)||!c(b))return null;for(d=[],e=[],h=f=Math.min(a.length,b.length);h--;)e[h]=g(a[h],b[h]);for(h=f;h<a.length;h+=1)d[h]=a[h];for(h=f;h<b.length;h+=1)d[h]=b[h];return function(a){for(var b=f;b--;)d[b]=e[b](a);return d}},object:function(a,c){var e,f,h,i,j;if(!d(a)||!d(c))return null;e=[],i={},h={};for(j in a)b.call(a,j)&&(b.call(c,j)?(e.push(j),h[j]=g(a[j],c[j])):i[j]=a[j]);for(j in c)b.call(c,j)&&!b.call(a,j)&&(i[j]=c[j]);return f=e.length,function(a){for(var b,c=f;c--;)b=e[c],i[b]=h[b](a);return i}},cssLength:function(a,b){var c,d,e,f,g,i,j,k;return 0!==a&&"string"!=typeof a||0!==b&&"string"!=typeof b?null:(c=h.exec(a),d=h.exec(b),e=c?c[2]:"",f=d?d[2]:"",e&&f&&e!==f?null:(j=e||f,g=c?+c[1]:0,i=d?+d[1]:0,k=i-g,k?function(a){return g+a*k+j}:function(){return g+j}))}}}(t,x,F,_,k),bb=function(a,b,c){function d(a){return function(){return a}}var e=function(a,e,f,g){if(a===e)return d(e);if(g){if(f.interpolators[g])return f.interpolators[g](a,e)||d(e);b('Missing "'+g+'" interpolator. You may need to download a plugin from [TODO]')}return c.number(a,e)||c.array(a,e)||c.object(a,e)||c.cssLength(a,e)||d(e)};return a.interpolate=e,e}(t,$,ba),bc=function(a,b,c,d){var e=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=c(this.from,this.to,this.root,this.interpolator),this.running=!0};return e.prototype={tick:function(){var c,e,f,g,h,i;return i=this.keypath,this.running?(g=Date.now(),c=g-this.startTime,c>=this.duration?(null!==i&&(b.start(this.root),d(this.root,i,this.to),b.end()),this.step&&this.step(1,this.to),this.complete(this.to),h=this.root._animations.indexOf(this),-1===h&&a("Animation was not found"),this.root._animations.splice(h,1),this.running=!1,!1):(e=this.easing?this.easing(c/this.duration):c/this.duration,null!==i&&(f=this.interpolator(e),b.start(this.root),d(this.root,i,f),b.end()),this.step&&this.step(e,f),!0)):!1},stop:function(){var b;this.running=!1,b=this.root._animations.indexOf(this),-1===b&&a("Animation was not found"),this.root._animations.splice(b,1)}},e}($,D,bb,N),bd=function(a,b,c,d,e,f){function g(b,g,h,j){var k,l,m,n;return g&&(g=c(g)),null!==g&&(n=e(b,g)),d.abort(g,b),a(n,h)?(j.complete&&j.complete(j.to),i):(j.easing&&(k="function"==typeof j.easing?j.easing:b.easing[j.easing],"function"!=typeof k&&(k=null)),l=void 0===j.duration?400:j.duration,m=new f({keypath:g,from:n,to:h,root:b,duration:l,easing:k,interpolator:j.interpolator,step:j.step,complete:j.complete}),d.add(m),b._animations.push(m),m)}var h=function(){},i={stop:h};return function(a,c,d){var e,f,i,j,k,l,m,n,o,p,q,r,s,t;if(e=new b(function(a){f=a}),"object"==typeof a){d=c||{},l=d.easing,m=d.duration,k=[],n=d.step,o=d.complete,(n||o)&&(q={},d.step=null,d.complete=null,p=function(a){return function(b,c){q[a]=c}});for(i in a)a.hasOwnProperty(i)&&((n||o)&&(r=p(i),d={easing:l,duration:m},n&&(d.step=r)),d.complete=o?r:h,k.push(g(this,i,a[i],d)));return(n||o)&&(t={easing:l,duration:m},n&&(t.step=function(a){n(a,q)}),o&&e.then(function(a){o(a,q)}),t.complete=f,s=g(this,null,null,t),k.push(s)),{stop:function(){for(var a;a=k.pop();)a.stop();s&&s.stop()}}}return d=d||{},d.complete&&e.then(d.complete),d.complete=f,j=g(this,a,c,d),e.stop=function(){j.stop()},e}}(n,o,p,E,Z,bc),be=function(a){return function(){return this.el&&a(this.el.__ractive_instances__,this),this.fragment.detach()}}(u),bf=function(a){return this.el?this.fragment.find(a):null},bg=function(a,b,c){var d,e,f,g,h,i,j,k;if(a){for(e=c("div"),f=["matches","matchesSelector"],k=function(a){return function(b,c){return b[a](c)}},i=f.length;i--&&!d;)if(g=f[i],e[g])d=k(g);else for(j=b.length;j--;)if(h=b[i]+g.substr(0,1).toUpperCase()+g.substring(1),e[h]){d=k(h);break}d||(d=function(a,b){var c,d,f;for(d=a.parentNode,d||(e.innerHTML="",d=e,a=a.cloneNode(),e.appendChild(a)),c=d.querySelectorAll(b),f=c.length;f--;)if(c[f]===a)return!0;return!1})}else d=null;return d}(h,q,g),bh=function(a){return function(b,c){var d=this._isComponentQuery?!this.selector||b.name===this.selector:a(b.node,this.selector);return d?(this.push(b.node||b.instance),c||this._makeDirty(),!0):void 0}}(bg),bi=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},bj=function(){function a(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function b(b){var c,d;for(c=[b],d=a(b);d;)c.push(d),d=a(d);return c}return function(a,c){var d,e,f,g,h,i,j,k,l,m;for(d=b(a.component||a._ractive.proxy),e=b(c.component||c._ractive.proxy),f=d[d.length-1],g=e[e.length-1];f&&f===g;)d.pop(),e.pop(),h=f,f=d[d.length-1],g=e[e.length-1];if(f=f.component||f,g=g.component||g,l=f.parentFragment,m=g.parentFragment,l===m)return i=l.items.indexOf(f),j=m.items.indexOf(g),i-j||d.length-e.length;if(k=h.fragments)return i=k.indexOf(l),j=k.indexOf(m),i-j||d.length-e.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),bk=function(a){return function(b,c){var d;return b.compareDocumentPosition?(d=b.compareDocumentPosition(c),2&d?1:-1):a(b,c)}}(bj),bl=function(a,b){return function(){this.sort(this._isComponentQuery?b:a),this._dirty=!1}}(bk,bj),bm=function(a){return function(){var b=this;this._dirty||(this._dirty=!0,a.afterViewUpdate(function(){b._sort()}))}}(D),bn=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},bo=function(a,b,c,d,e,f){return function(g,h,i,j){var k=[];return a(k,{selector:{value:h},live:{value:i},_isComponentQuery:{value:j},_test:{value:b}}),i?(a(k,{cancel:{value:c},_root:{value:g},_sort:{value:d},_makeDirty:{value:e},_remove:{value:f},_dirty:{value:!1,writable:!0}}),k):k}}(j,bh,bi,bl,bm,bn),bp=function(a){return function(b,c){var d,e;return this.el?(c=c||{},d=this._liveQueries,(e=d[b])?c&&c.live?e:e.slice():(e=a(this,b,!!c.live,!1),e.live&&(d.push(b),d["_"+b]=e),this.fragment.findAll(b,e),e)):[]}}(bo),bq=function(a){return function(b,c){var d,e;return c=c||{},d=this._liveComponentQueries,(e=d[b])?c&&c.live?e:e.slice():(e=a(this,b,!!c.live,!0),e.live&&(d.push(b),d["_"+b]=e),this.fragment.findAllComponents(b,e),e)}}(bo),br=function(a){return this.fragment.findComponent(a)},bs=function(a){var b,c,d,e=this._subs[a];if(e)for(b=Array.prototype.slice.call(arguments,1),c=0,d=e.length;d>c;c+=1)e[c].apply(this,b)},bt=function(a,b,c,d){var e,f={};a.push(function(){e=a.get});var g=function(a,b){this.root=a,this.ref=b,this.parentFragment=f,a._unresolvedImplicitDependencies[b]=!0,a._unresolvedImplicitDependencies.push(this),c.addUnresolved(this)};return g.prototype={resolve:function(){var a=this.root;d(a,this.ref),a._unresolvedImplicitDependencies[this.ref]=!1,b(a._unresolvedImplicitDependencies,this)},teardown:function(){c.removeUnresolved(this)}},g}(t,u,D,B),bu=function(a,b,c){var d={isTopLevel:!0};return function(e){var f;return e=a(e),f=b(this,e,d),this._captured&&this._captured[e]!==!0&&(this._captured.push(e),this._captured[e]=!0,void 0===f&&this._unresolvedImplicitDependencies[e]!==!0&&new c(this,e)),f}}(p,Z,bt),bv=function(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null},bw=function(a){return function(b,c){if(!this.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this)}}(bv),bx=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g}),e.unchanged=!f,e},by=function(a,b){return function(c,d,e,f){var g;c._changes.push(d),g=function(b){b.type===a.REFERENCE?b.update():b.keypath===d&&b.type===a.SECTION&&!b.inverted&&b.docFrag?b.merge(e):b.update()},c._deps.forEach(function(a){var b=a[d];b&&b.forEach(g)}),f||b(c,d+".length",!0)}}(K,B),bz=function(a,b,c,d,e,f,g){function h(a){return JSON.stringify(a)}function i(a){if(a===!0)return h;if("string"==typeof a)return j[a]||(j[a]=function(b){return b[a]}),j[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var j={};return function(h,j,k){var l,m,n,o,p,q,r,s;if(l=this.get(h),!c(l)||!c(j))return this.set(h,j,k&&k.complete);if(p=l.length===j.length,k&&k.compare){o=i(k.compare);try{m=l.map(o),n=j.map(o)}catch(t){if(this.debug)throw t;b("Merge operation: comparison failed. Falling back to identity checking"),m=l,n=j}}else m=l,n=j;return q=f(m,n),r=new d(function(a){s=a}),a.start(this,s),e(this,h,j,!0),g(this,h,q,p),a.end(),k&&k.complete&&r.then(k.complete),r}}(D,$,F,o,N,bx,by),bA=function(a,b,c){var d=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.debug=d.debug,this.priority=0,this.context=d&&d.context?d.context:a};return d.prototype={init:function(a){this.value=c(this.root,this.keypath),a!==!1&&this.update()},setValue:function(c){var d=this;b(c,this.oldValue)||(this.value=c,this.defer&&this.ready?a.afterViewUpdate(function(){return d.update()}):a.afterModelUpdate(function(){return d.update()}))},update:function(){if(!this.updating){this.updating=!0;try{this.callback.call(this.context,this.value,this.oldValue,this.keypath)}catch(a){if(this.debug||this.root.debug)throw a}this.oldValue=this.value,this.updating=!1}}},d}(D,n,Z),bB=function(a){return function(b,c){var d,e,f,g,h,i,j;for(d=c.split("."),g=[""],i=function(c){var d,e,f;d=b._wrapped[c]?b._wrapped[c].get():b.get(c);for(e in d)!d.hasOwnProperty(e)||"_ractive"===e&&a(d)||(f=c?c+"."+e:e,h.push(f))},j=function(a){return a+"."+e};e=d.shift();)"*"===e?(h=[],g.forEach(i),g=h):g[0]?g=g.map(j):g[0]=e;return f={},g.forEach(function(a){f[a]=b.get(a)}),f}}(F),bC=function(a,b,c,d,e){var f,g=/\*/,h=Array.prototype.slice;return f=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.debug=d.debug,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=d&&d.context?d.context:a},f.prototype={init:function(a){var b,c;if(b=e(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(b){var f,h;if(g.test(b)){f=e(this.root,b);for(b in f)f.hasOwnProperty(b)&&this.update(b)}else if(!(".length"===b.substr(-7)&&(h=d(this.root,b.substr(0,b.length-7)),c(h)&&h._ractive&&h._ractive.setting)))return this.defer&&this.ready?void a.addObserver(this.getProxy(b)):void this.reallyUpdate(b)},reallyUpdate:function(a){var c,e,f;if(c=d(this.root,a),this.updating)return void (this.values[a]=c);if(this.updating=!0,!b(c,this.values[a])||!this.ready){e=h.call(this.regex.exec(a),1),f=[c,this.values[a],a].concat(e);try{this.callback.apply(this.context,f)}catch(g){if(this.debug||this.root.debug)throw g}this.values[a]=c}this.updating=!1},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){b.reallyUpdate(a)}}),this.proxies[a]}},f}(D,n,F,Z,bB),bD=function(a,b,c,d,e){var f=/\*/,g={};return function(h,i,j,k){var l,m;return i=a(i),k=k||g,f.test(i)?(l=new e(h,i,j,k),h._patternObservers.push(l),m=!0):l=new d(h,i,j,k),b(l),l.init(k.init),l.ready=!0,{cancel:function(){var a;m&&(a=h._patternObservers.indexOf(l),-1!==a&&h._patternObservers.splice(a,1)),c(l)}}}}(p,U,V,bA,bC),bE=function(a,b){return function(c,d,e){var f,g,h,i;if(a(c)){e=d,g=c,f=[];for(c in g)g.hasOwnProperty(c)&&(d=g[c],f.push(this.observe(c,d,e)));return{cancel:function(){for(;f.length;)f.pop().cancel()}}}if("function"==typeof c)return e=d,d=c,c="",b(this,c,d,e);if(h=c.split(" "),1===h.length)return b(this,c,d,e);for(f=[],i=h.length;i--;)c=h[i],c&&f.push(b(this,c,d,e));return{cancel:function(){for(;f.length;)f.pop().cancel()}}}}(_,bD),bF=function(a,b){var c,d;if(!b)if(a)this._subs[a]=[];else for(a in this._subs)delete this._subs[a];c=this._subs[a],c&&(d=c.indexOf(b),-1!==d&&c.splice(d,1))},bG=function(a,b){var c,d,e=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return this._subs[a]?this._subs[a].push(b):this._subs[a]=[b],{cancel:function(){e.off(a,b)}}},bH=function(a,b,c,d){function e(a){a.init&&a.init(a.initOptions),a._childInitQueue.splice(0).forEach(e)}return function(f,g){var h,i,j;if(this._rendering=!0,h=new c(function(a){i=a}),a.start(this,i),this.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return f=d(f)||this.el,g=d(g)||this.anchor,this.el=f,this.anchor=g,this.constructor.css&&b.add(this.constructor),f&&((j=f.__ractive_instances__)?j.push(this):f.__ractive_instances__=[this],g?f.insertBefore(this.fragment.render(),g):f.appendChild(this.fragment.render())),this._parent&&this._parent._rendering?this._parent._childInitQueue.push(this):e(this),delete this._rendering,a.end(),this.rendered=!0,h}}(D,v,o,bv),bI=function(a){return function(){return a("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}($),bJ=function(){this.dirtyValue=this.dirtyArgs=!0,this.inited&&this.owner.bubble&&this.owner.bubble()},bK=function(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.detach())}),a)},bL=function(a){return function(b){var c,d,e,f,g;if(this.nodes){for(d=this.nodes.length,c=0;d>c;c+=1)if(f=this.nodes[c],1===f.nodeType){if(a(f,b))return f;if(g=f.querySelector(b))return g}return null}if(this.items){for(d=this.items.length,c=0;d>c;c+=1)if(e=this.items[c],e.find&&(g=e.find(b)))return g;return null}}}(bg),bM=function(a){return function(b,c){var d,e,f,g,h,i,j;if(this.nodes){for(e=this.nodes.length,d=0;e>d;d+=1)if(g=this.nodes[d],1===g.nodeType&&(a(g,b)&&c.push(g),h=g.querySelectorAll(b)))for(i=h.length,j=0;i>j;j+=1)c.push(h[j])}else if(this.items)for(e=this.items.length,d=0;e>d;d+=1)f=this.items[d],f.findAll&&f.findAll(b,c);return c}}(bg),bN=function(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b},bO=function(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}},bP=function(a){var b=a.index;return this.items[b+1]?this.items[b+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},bQ=function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},bR=function(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.el},bS=function(){var a;try{Object.create(null),a=Object.create}catch(b){a=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}return a}(),bT={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},bU=function(a){var b=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(c){var d;return(d=c.matchPattern(b))?{t:a.NUMBER_LITERAL,v:d}:null}}(K),bV=function(a){return function(b){var c=b.remaining();return"true"===c.substr(0,4)?(b.pos+=4,{t:a.BOOLEAN_LITERAL,v:"true"}):"false"===c.substr(0,5)?(b.pos+=5,{t:a.BOOLEAN_LITERAL,v:"false"}):null}}(K),bW=function(){var a,b,c;return a=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,b=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,c=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(d){return function(e){var f,g,h,i;for(f=e.pos,g='"',h=!1;!h;)i=e.matchPattern(a)||e.matchPattern(b)||e.matchString(d),i?g+='"'===i?'\\"':"\\'"===i?"'":i:(i=e.matchPattern(c),i?g+="\\u"+("000"+i.charCodeAt(1).toString(16)).slice(-4):h=!0);return g+='"',JSON.parse(g)}}}(),bX=function(a){return a('"')}(bW),bY=function(a){return a("'")}(bW),bZ=function(a,b,c){return function(d){var e,f;return e=d.pos,d.matchString('"')?(f=c(d),d.matchString('"')?{t:a.STRING_LITERAL,v:f}:(d.pos=e,null)):d.matchString("'")?(f=b(d),d.matchString("'")?{t:a.STRING_LITERAL,v:f}:(d.pos=e,null)):null}}(K,bX,bY),b$={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},b_=function(a,b,c){var d=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(e){var f;return(f=a(e))?d.test(f.v)?f.v:'"'+f.v.replace(/"/g,'\\"')+'"':(f=b(e))?f.v:(f=e.matchPattern(c.name))?f:void 0}}(bZ,bU,b$),ca=function(a,b){return function(c){var d,e,f;return d=c.pos,c.allowWhitespace(),e=b(c),null===e?(c.pos=d,null):(c.allowWhitespace(),c.matchString(":")?(c.allowWhitespace(),f=c.readExpression(),null===f?(c.pos=d,null):{t:a.KEY_VALUE_PAIR,k:e,v:f}):(c.pos=d,null))}}(K,b_),cb=function(a){return function b(c){var d,e,f,g;return d=c.pos,f=a(c),null===f?null:(e=[f],c.matchString(",")?(g=b(c),g?e.concat(g):(c.pos=d,null)):e)}}(ca),cc=function(a,b){return function(c){var d,e;return d=c.pos,c.allowWhitespace(),c.matchString("{")?(e=b(c),c.allowWhitespace(),c.matchString("}")?{t:a.OBJECT_LITERAL,m:e}:(c.pos=d,null)):(c.pos=d,null)}}(K,cb),cd=function(a){return function b(c){function d(a){f.push(a)}var e,f,g,h;return e=c.pos,c.allowWhitespace(),g=c.readExpression(),null===g?null:(f=[g],c.allowWhitespace(),c.matchString(",")&&(h=b(c),null===h&&c.error(a.expectedExpression),h.forEach(d)),f)}}(bT),ce=function(a,b){return function(c){var d,e;return d=c.pos,c.allowWhitespace(),c.matchString("[")?(e=b(c),c.matchString("]")?{t:a.ARRAY_LITERAL,m:e}:(c.pos=d,null)):(c.pos=d,null)}}(K,cd),cf=function(a,b,c,d,e){return function(f){var g=a(f)||b(f)||c(f)||d(f)||e(f);return g}}(bU,bV,bZ,cc,ce),cg=function(a,b){var c,d,e,f;return c=/^\.[a-zA-Z_$0-9]+/,e=function(a){var b=a.matchPattern(d);return b?"."+b:null},d=/^\[(0|[1-9][0-9]*)\]/,f=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(d){var g,h,i,j,k,l,m;for(g=d.pos,h="";d.matchString("../");)h+="../";if(h||(j=d.matchString(".")||""),i=d.matchPattern(/^@(?:index|key)/)||d.matchPattern(b.name)||"",!h&&!j&&f.test(i))return{t:a.GLOBAL,v:i};if(k=(h||j)+i,!k)return null;for(;l=d.matchPattern(c)||e(d);)k+=l;return d.matchString("(")&&(m=k.lastIndexOf("."),-1!==m?(k=k.substr(0,m),d.pos=g+k.length):d.pos-=1),{t:a.REFERENCE,n:k.replace(/^this\./,"./").replace(/^this$/,".")}}}(K,b$),ch=function(a,b){return function(c){var d,e;return d=c.pos,c.matchString("(")?(c.allowWhitespace(),e=c.readExpression(),e||c.error(b.expectedExpression),c.allowWhitespace(),c.matchString(")")||c.error(b.expectedParen),{t:a.BRACKETED,x:e}):null}}(K,bT),ci=function(a,b,c){return function(d){return a(d)||b(d)||c(d)}}(cf,cg,ch),cj=function(a,b,c){return function(d){var e,f,g;if(e=d.pos,d.allowWhitespace(),d.matchString(".")){if(d.allowWhitespace(),f=d.matchPattern(c.name))return{t:a.REFINEMENT,n:f};d.error("Expected a property name")}return d.matchString("[")?(d.allowWhitespace(),g=d.readExpression(),g||d.error(b.expectedExpression),d.allowWhitespace(),d.matchString("]")||d.error("Expected ']'"),{t:a.REFINEMENT,x:g}):null}}(K,bT,b$),ck=function(a,b,c,d,e){return function(f){var g,h,i,j;if(h=b(f),!h)return null;for(;h;)if(g=f.pos,i=d(f))h={t:a.MEMBER,x:h,r:i};else{if(!f.matchString("("))break;f.allowWhitespace(),j=c(f),f.allowWhitespace(),f.matchString(")")||f.error(e.expectedParen),h={t:a.INVOCATION,x:h},j&&(h.o=j)}return h}}(K,ci,cd,cj,bT),cl=function(a,b,c){var d,e;return e=function(c,d){return function(e){var f;return e.matchString(c)?(e.allowWhitespace(),f=e.readExpression(),f||e.error(b.expectedExpression),{s:c,o:f,t:a.PREFIX_OPERATOR}):d(e)}},function(){var a,b,f,g,h;for(g="! ~ + - typeof".split(" "),h=c,a=0,b=g.length;b>a;a+=1)f=e(g[a],h),h=f;d=h}(),d}(K,bT,ck),cm=function(a,b){var c,d;return d=function(b,c){return function(d){var e,f,g;if(f=c(d),!f)return null;for(;;){if(e=d.pos,d.allowWhitespace(),!d.matchString(b))return d.pos=e,f;if("in"===b&&/[a-zA-Z_$0-9]/.test(d.remaining().charAt(0)))return d.pos=e,f;if(d.allowWhitespace(),g=c(d),!g)return d.pos=e,f;f={t:a.INFIX_OPERATOR,s:b,o:[f,g]}}}},function(){var a,e,f,g,h;for(g="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),h=b,a=0,e=g.length;e>a;a+=1)f=d(g[a],h),h=f;c=h}(),c}(K,cl),cn=function(a,b,c){return function(d){var e,f,g,h;return(f=b(d))?(e=d.pos,d.allowWhitespace(),d.matchString("?")?(d.allowWhitespace(),g=d.readExpression(),g||d.error(c.expectedExpression),d.allowWhitespace(),d.matchString(":")||d.error('Expected ":"'),d.allowWhitespace(),h=d.readExpression(),h||d.error(c.expectedExpression),{t:a.CONDITIONAL,o:[f,g,h]}):(d.pos=e,f)):null}}(K,cm,bT),co=function(a,b){function c(a){return JSON.stringify(String(a))}function d(c,e){var f,g;if(c.t===a.REFERENCE&&-1===e.indexOf(c.n)&&e.unshift(c.n),g=c.o||c.m)if(b(g))d(g,e);else for(f=g.length;f--;)d(g[f],e);c.x&&d(c.x,e),c.r&&d(c.r,e),c.v&&d(c.v,e)}function e(b,d,f){var g=function(a){return e(b,a,f)};switch(d.t){case a.BOOLEAN_LITERAL:case a.GLOBAL:case a.NUMBER_LITERAL:return d.v;case a.STRING_LITERAL:return c(d.v);case a.ARRAY_LITERAL:return"["+(d.m?d.m.map(g).join(","):"")+"]";case a.OBJECT_LITERAL:return"{"+(d.m?d.m.map(g).join(","):"")+"}";case a.KEY_VALUE_PAIR:return d.k+":"+e(b,d.v,f);case a.PREFIX_OPERATOR:return("typeof"===d.s?"typeof ":d.s)+e(b,d.o,f);case a.INFIX_OPERATOR:return e(b,d.o[0],f)+("in"===d.s.substr(0,2)?" "+d.s+" ":d.s)+e(b,d.o[1],f);case a.INVOCATION:return e(b,d.x,f)+"("+(d.o?d.o.map(g).join(","):"")+")";case a.BRACKETED:return"("+e(b,d.x,f)+")";case a.MEMBER:return e(b,d.x,f)+e(b,d.r,f);case a.REFINEMENT:return d.n?"."+d.n:"["+e(b,d.x,f)+"]";case a.CONDITIONAL:return e(b,d.o[0],f)+"?"+e(b,d.o[1],f)+":"+e(b,d.o[2],f);case a.REFERENCE:return"${"+f.indexOf(d.n)+"}";default:b.error("Expected legal JavaScript")}}return function(a){var b,c=[];return d(a,c),b={r:c,s:e(this,a,c)}}}(K,_),cp=function(a,b,c,d,e){var f,g,h=/^\s+/;return g=function(a){this.name="ParseError",this.message=a},g.prototype=Error.prototype,f=function(a,b){var c,d;for(this.str=a,this.options=b||{},this.pos=0,this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},f.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return d(this)},flattenExpression:e,getLinePos:function(){var a,b,c,d,e,f;a=this.str.split("\n"),e=-1,d=0;do c=d,e++,b=a[e],d+=b.length+1;while(d<=this.pos);return f=this.pos-c,{line:e+1,ch:f+1,text:b,toJSON:function(){return[this.line,this.ch]},toString:function(){return"line "+this.line+" character "+this.ch+":\n"+this.text+"\n"+this.text.substr(0,this.ch-1).replace(/[\S]/g," ")+"^----"}}},error:function(a){var b,c;throw b=this.getLinePos(),c=a+" at "+b,new g(c)},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(h)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},f.extend=function(a){var d,e,g=this;d=function(a,b){f.call(this,a,b)},d.prototype=b(g.prototype);for(e in a)c.call(a,e)&&(d.prototype[e]=a[e]);return d.extend=f.extend,d},a.Parser=f,f}(t,bS,x,cn,co),cq=function(a,b,c){function d(a){var b,d,e;return a.allowWhitespace(),(b=c(a))?(e={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(d=a.read())?(e.value=d.v,e):null):null):null}var e,f,g,h,i,j,k;return f={"true":!0,"false":!1,"undefined":void 0,"null":null},g=new RegExp("^(?:"+Object.keys(f).join("|")+")"),h=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,i=/\$\{([^\}]+)\}/g,j=/^\$\{([^\}]+)\}/,k=/^\s*$/,e=a.extend({init:function(a,b){this.values=b.values},postProcess:function(a){return 1===a.length&&k.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(j),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(g))?{v:f[b]}:void 0},function(a){var b;return(b=a.matchPattern(h))?{v:+b}:void 0},function(a){var c,d=b(a);return d&&(c=a.values)?{v:d.v.replace(i,function(a,b){return b in c?c[b]:b})}:d},function(a){var b,c;if(!a.matchString("{"))return null;for(b={};c=d(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;for(b=[],a.allowWhitespace();c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]}),function(a,b){var c=new e(a,{values:b});return c.result}}(cp,bZ,b_),cr=function(a,b){function c(a,b,d,e){return e=e||0,a.map(function(a){var f,g,h;return a.text?a.text:a.fragments?a.fragments.map(function(a){return c(a.items,b,d,e)}).join(""):(f=d+"-"+e++,h=(g=a.root._wrapped[a.keypath])?g.value:a.value,b[f]=h,"${"+f+"}")}).join("")}var d={};return function(e){var f,g,h,i,j,k,l,m,n;return e=e||d,f=e.args,g=f||e.parse,l=f?"argsList":"value",m=f?"dirtyArgs":"dirtyValue",(this[m]||!this.hasOwnProperty(l))&&(1===this.items.length&&this.items[0].type===a.INTERPOLATOR?(h=this.items[0].value,void 0!==h&&(n=f?[h]:h)):(g&&(i={},j=c(this.items,i,this.root._guid),k=b(f?"["+j+"]":j,i)),n=k?k.value:f?[this+""]:this+""),this[l]=n,this[m]=!1),this[l]}}(K,cq),cs=function(){var a=/</g,b=/>/g;return function(c){return c.replace(a,"&lt;").replace(b,"&gt;")}}(),ct=function(){},cu=function(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a},cv=function(a){return function(){return a(this.node)}}(cu),cw=function(a,b,c,d){var e=function(b){this.type=a.TEXT,this.text=b.template};return e.prototype={detach:d,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},teardown:c,toString:function(a){return a?b(this.text):this.text},unrender:function(a){return a?this.detach():void 0}},e}(K,cs,ct,cv),cx=function(a,b){return function(){this.keypath?b(this):a.removeUnresolved(this)}}(D,V),cy=function(a){var b=function(b,c,d,e){this.root=b,this.ref=c,this.parentFragment=d,this.resolve=e,a.addUnresolved(this)};return b.prototype={teardown:function(){a.removeUnresolved(this)}},b}(D),cz=function(a,b,c,d,e,f){function g(a,b,d){var e,f,g;if(!i.test(a+""))return c(a,"_nowrap",{value:!0}),a;if(!a["_"+b._guid]){c(a,"_"+b._guid,{value:function(){var c,d,e,g;if(c=b._captured,c||(b._captured=[]),d=a.apply(b,arguments),b._captured.length)for(e=f.length;e--;)g=f[e],g.updateSoftDependencies(b._captured);return b._captured=c,d},writable:!0});for(e in a)a.hasOwnProperty(e)&&(a["_"+b._guid][e]=a[e]);a["_"+b._guid+"_evaluators"]=[]}return f=a["_"+b._guid+"_evaluators"],g=f.indexOf(d),-1===g&&f.push(d),a["_"+b._guid]}var h,i;return i=/this/,h=function(b,c,d,f,h){var i;this.evaluator=d,this.keypath=c,this.root=b,this.argNum=f,this.type=a.REFERENCE,this.priority=h,i=b.get(c),"function"!=typeof i||i._nowrap||(i=g(i,b,d)),this.value=d.values[f]=i,e(this)},h.prototype={setValue:function(a){"function"!=typeof a||a._nowrap||(a=g(a,this.root,this.evaluator)),b(a,this.value)||(this.evaluator.values[this.argNum]=a,this.evaluator.bubble(),this.value=a)},invalidate:function(){this.setValue(d(this.root,this.keypath))},teardown:function(){f(this)}},h}(K,n,i,Z,U,V),cA=function(a,b,c){var d=function(a,c,d){this.root=a,this.keypath=c,this.priority=d.priority,this.evaluator=d,b(this)};return d.prototype={setValue:function(b){a(b,this.value)||(this.evaluator.bubble(),this.value=b)},teardown:function(){c(this)}},d}(n,U,V),cB=function(a,b,c,d,e,f,g,h){function i(a,b){var c,d;if(a=a.replace(/\$\{([0-9]+)\}/g,"_$1"),k[a])return k[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),k[a]=c,c}var j,k={};return j=function(a,b,c,d,e,f){var h=this;h.root=a,h.uniqueString=c,h.keypath=b,h.priority=f,h.fn=i(d,e.length),h.values=[],h.refs=[],e.forEach(function(b,c){b&&(b.indexRef?h.values[c]=b.value:h.refs.push(new g(a,b.keypath,h,c,f)))})},j.prototype={bubble:function(){this.dirty||(this.dirty=!0,a.modelUpdate(this))},getValue:function(){var a;try{a=this.fn.apply(null,this.values)}catch(c){this.root.debug&&b('Error evaluating "'+this.uniqueString+'": '+c.message||c),a=void 0}return a},update:function(){var a=this.getValue();return c(a,this.value)||(this.value=a,d(this.root,this.keypath),f(this.root,this.keypath,a,!0),e(this.root,this.keypath)),this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();d(this.root,this.keypath),this.root._evaluators[this.keypath]=null},invalidate:function(){this.refs.forEach(function(a){return a.invalidate()}),d(this.root,this.keypath),this.value=this.getValue()},updateSoftDependencies:function(a){var b,c,d;for(this.softRefs||(this.softRefs=[]),b=this.softRefs.length;b--;)d=this.softRefs[b],a[d.keypath]||(this.softRefs.splice(b,1),this.softRefs[d.keypath]=!1,d.teardown());for(b=a.length;b--;)c=a[b],this.softRefs[c]||(d=new h(this.root,c,this),this.softRefs.push(d),this.softRefs[c]=!0)}},j}(D,$,n,L,B,T,cz,cA),cC=function(a,b){return a.substr(0,b.length+1)===b+"."},cD=function(a){return function(b,c,d){return b===c?d:a(b,c)?b.replace(c+".",d+"."):void 0}}(cC),cE=function(a,b,c,d,e){function f(a,b){return a.replace(/\$\{([0-9]+)\}/g,function(a,c){return b[c]?b[c].value||b[c].keypath:"undefined"})}function g(a){return"${"+a.replace(/[\.\[\]]/g,"-")+"}"}var h=function(d,e,f,g){var h,i,j,k=this;return h=d.root,this.root=h,this.callback=g,this.owner=d,this.str=f.s,this.args=j=[],this.unresolved=[],this.pending=0,i=e.indexRefs,f.r&&f.r.length?(f.r.forEach(function(d,f){var g,l,m;return i&&void 0!==(g=i[d])?void (j[f]={indexRef:d,value:g}):(l=b(h,d,e))?void (j[f]={keypath:l}):(j[f]=null,k.pending+=1,m=new c(h,d,e,function(b){k.resolve(f,b),a(k.unresolved,m)}),void k.unresolved.push(m))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return h.prototype={bubble:function(){this.ready&&(this.uniqueString=f(this.str,this.args),this.keypath=g(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var a;a=this.unresolved.pop();)a.teardown()},resolve:function(a,b){this.args[a]={keypath:b},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var a=this.root._evaluators[this.keypath];a?a.invalidate():(a=new d(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root._evaluators[this.keypath]=a,a.update())},rebind:function(a,b,c,d){var f;this.args.forEach(function(g){var h;g&&(g.keypath&&(h=e(g.keypath,c,d))?(g.keypath=h,f=!0):g.indexRef&&g.indexRef===a&&(g.value=b,f=!0))}),f&&this.bubble()}},h}(u,z,cy,cB,cD),cF=function(a,b,c,d,e,f,g,h){var i=function(c,f,g){var i,k,l,m,n,o=this;return i=c.root,k=c.parentFragment,this.ref=f.r,this.root=c.root,this.mustache=c,this.callback=g,this.pending=0,this.unresolved=[],n=this.members=[],this.indexRefMembers=[],this.keypathObservers=[],this.expressionResolvers=[],f.m.forEach(function(f,g){var p,q,r,s,t,u;return"string"==typeof f?void (o.members[g]=f):f.t===a.REFERENCE?(p=f.n,q=k.indexRefs,q&&void 0!==(r=q[p])?(n[g]=r,void o.indexRefMembers.push({ref:p,index:g})):(m=!0,(l=d(i,p,k))?(s=new j(i,l,c.priority,o,g),void o.keypathObservers.push(s)):(n[g]=void 0,o.pending+=1,t=new e(i,p,k,function(a){o.resolve(g,a),b(o.unresolved,t)}),o.unresolved.push(t),null))):(m=!0,o.pending+=1,u=new h(o,k,f,function(a){o.resolve(g,a),b(o.unresolved,u)}),void o.unresolved.push(u))}),m?(this.ready=!0,void this.bubble()):(l=this.getKeypath(),void g(l))};i.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){this.ready&&!this.pending&&this.callback(this.getKeypath())},resolve:function(a,b){var c=new j(this.root,b,this.mustache.priority,this,a);this.keypathObservers.push(c),this.resolved=!--this.pending,this.bubble()},teardown:function(){for(var a;a=this.unresolved.pop();)a.teardown()},rebind:function(a,b){var c,d,e;for(d=this.indexRefMembers.length;d--;)e=this.indexRefMembers[d],e.ref===a&&(c=!0,this.members[e.index]=b);c&&this.bubble()}};var j=function(a,b,d,e,g){this.root=a,this.keypath=b,this.priority=d,this.resolver=e,this.index=g,f(this),this.setValue(c(a,b))};return j.prototype={setValue:function(a){var b=this.resolver;b.members[this.index]=a,b.bubble()},teardown:function(){g(this)}},i}(K,u,Z,z,cy,U,V,cE),cG=function(a,b,c,d,e){return function(f,g){function h(a){f.resolve(a)}function i(a){var d=c(f.root,a,f.parentFragment);void 0!==d?h(d):(f.ref=a,b.addUnresolved(f))}var j,k,l,m,n;m=g.parentFragment,n=g.template,f.root=m.root,f.parentFragment=m,f.pElement=m.pElement,f.template=g.template,f.index=g.index||0,f.priority=m.priority,f.type=g.template.t,(j=n.r)&&(k=m.indexRefs,k&&void 0!==(l=k[j])?(f.indexRef=j,f.setValue(l)):i(j)),g.template.x&&(f.resolver=new e(f,m,g.template.x,h)),g.template.rx&&(f.resolver=new d(f,g.template.rx,i)),f.template.n!==a.SECTION_UNLESS||f.hasOwnProperty("value")||f.setValue(void 0)}}(K,D,z,cF,cE),cH=function(a,b,c){return function(d){var e;d!==this.keypath&&(this.registered&&(c(this),e=this.parentFragment&&this.parentFragment.owner&&this.parentFragment.owner.element?this.parentFragment.owner.element:this,e.rebind(null,null,this.keypath,d),d===this.keypath)||(this.keypath=d,b(this),this.setValue(a(this.root,d))))}}(Z,U,V),cI=function(a){return function(b,c,d,e){var f;this.fragments&&this.fragments.forEach(function(a){return a.rebind(b,c,d,e)}),this.resolver&&this.resolver.rebind(b,c,d,e),this.keypath?(f=a(this.keypath,d,e),f&&this.resolve(f)):void 0!==b&&this.indexRef===b&&this.setValue(c)}}(cD),cJ=function(a,b,c){return{init:a,resolve:b,rebind:c}}(cG,cH,cI),cK=function(a,b,c,d,e,f,g){var h=function(b){this.type=a.INTERPOLATOR,f.init(this,b)};return h.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:f.resolve,rebind:f.rebind,detach:g,teardown:e,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&d(this.node)},setValue:function(a){var c;(c=this.root._wrapped[this.keypath])&&(a=c.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.node&&b.viewUpdate(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?c(b):b}},h}(K,D,cs,cu,cx,cJ,cv),cL=function(){this.parentFragment.bubble()},cM=function(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)},cN=function(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null},cO=function(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)},cP=function(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)},cQ=function(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null},cR=function(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)},cS=function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},cT=function(a){var b;return a.push(function(){b=a.Fragment}),function(a){var c,d,e,f,g,h,i,j,k=this;if(c=this.parentFragment,g=[],a.forEach(function(a,b){var c,e,f,h;return a===b?void (g[a]=k.fragments[b]):(c=k.fragments[b],void 0===d&&(d=b),-1===a?(c.unrender(!0),void c.teardown()):(e=a-b,f=k.keypath+"."+b,h=k.keypath+"."+a,c.rebind(k.template.i,a,f,h),void (g[a]=c)))}),void 0===d&&(d=this.length),this.length=this.fragments.length=f=this.root.get(this.keypath).length,f!==d){for(h={template:this.template.f,root:this.root,owner:this},this.template.i&&(h.indexRef=this.template.i),e=d;f>e;e+=1)(i=g[e])?this.docFrag.appendChild(i.detach(!1)):(h.context=this.keypath+"."+e,h.index=e,i=new b(h),this.docFrag.appendChild(i.render())),this.fragments[e]=i;j=c.findNextNode(this),this.parentFragment.getNode().insertBefore(this.docFrag,j)}}}(t),cU=function(){var a;return a=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,a},cV=function(a,b,c,d,e){function f(d,e){var f={template:d.template.f,root:d.root,pElement:d.parentFragment.pElement,owner:d};if(d.template.n)switch(d.template.n){case a.SECTION_IF:return j(d,e,!1,f);case a.SECTION_UNLESS:return j(d,e,!0,f);case a.SECTION_WITH:return i(d,f);case a.SECTION_EACH:if(c(e))return h(d,e,f)}return b(e)?g(d,e,f):c(e)||"function"==typeof e?d.template.i?h(d,e,f):i(d,f):j(d,e,!1,f)}function g(a,b,c){var d,e,f,g;if(e=b.length,e===a.length)return!1;if(e<a.length)g=a.fragments.splice(e,a.length-e),g.forEach(k);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=a.keypath+"."+d,c.index=d,a.template.i&&(c.indexRef=a.template.i),f=new l(c),a.unrenderedFragments.push(a.fragments[d]=f);return a.length=e,!0}function h(a,b,c){var d,e,f,g,h;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.index in b||(h=!0,k(a.fragments[e]),a.fragments.splice(e,1),f[g.index]=!1);for(d in b)f[d]||(h=!0,c.context=a.keypath+"."+d,c.index=d,a.template.i&&(c.indexRef=a.template.i),g=new l(c),a.unrenderedFragments.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function i(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new l(b),a.unrenderedFragments.push(a.fragments[0]=c),a.length=1,!0)}function j(a,c,d,e){var f,g,h;if(g=b(c)&&0===c.length,f=d?g||!c:c&&!g){if(!a.length)return e.index=0,h=new l(e),a.unrenderedFragments.push(a.fragments[0]=h),a.length=1,!0;if(a.length>1)return a.fragments.splice(1).forEach(k),!0}else if(a.length)return a.fragments.splice(0).forEach(k),a.length=0,!0}function k(a){a.unrender(!0),a.teardown()}var l;return e.push(function(){l=e.Fragment}),function(a){var b;(b=this.root._wrapped[this.keypath])&&(a=b.get()),f(this,a)&&(this.bubble(),this.rendered&&d.viewUpdate(this)),this.value=a}}(K,F,_,D,t),cW=function(a,b){function c(a){a.unrender(!0),a.teardown()}function d(b,c,d){var e,g,h;for(e={template:b.template.f,root:b.root,pElement:b.pElement,owner:b,indexRef:b.template.i},h=c;d>h;h+=1)e.context=b.keypath+"."+h,e.index=h,g=new f(e),b.unrenderedFragments.push(b.fragments[h]=g);b.insertionPoint=b.fragments[d]?b.fragments[d].firstNode():b.parentFragment.findNextNode(b),a.viewUpdate(b)}function e(a,b,c,d){var e,f,g,h,i;for(g=a.template.i,e=b;c>e;e+=1)f=a.fragments[e],h=a.keypath+"."+(e-d),i=a.keypath+"."+e,f.index=e,f.rebind(g,e,h,i)}var f;return b.push(function(){f=b.Fragment}),function(a){var b,f,g,h,i,j=this;if(b=a.balance){if(f=a.rangeStart,j.length+=b,0>b)return j.fragments.splice(f,-b).forEach(c),void e(j,f,j.length,b);g=f+a.removed,h=f+a.added,i=[g,0],i.length+=b,j.fragments.splice.apply(j.fragments,i),e(j,h,j.length,b),d(j,g,h)}}}(D,t),cX=function(a){return function(){this.fragments.splice(0).forEach(function(a){return a.teardown()}),a.call(this)}}(cx),cY=function(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b},cZ=function(a){this.fragments.forEach(function(b){return b.unrender(a)})},c$=function(){var a,b,c;if(this.unrenderedFragments.length){for(;a=this.unrenderedFragments.shift();)this.docFrag.appendChild(a.render());this.rendered&&(b=this.insertionPoint||this.parentFragment.findNextNode(this),c=this.parentFragment.getNode(),c.insertBefore(this.docFrag,b),this.insertionPoint=null)}},c_=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=function(c){this.type=a.SECTION,this.inverted=!!c.template.n,this.pElement=c.pElement,this.fragments=[],this.unrenderedFragments=[],this.length=0,b.init(this,c)};return s.prototype={bubble:c,detach:d,find:e,findAll:f,findAllComponents:g,findComponent:h,findNextNode:i,firstNode:j,merge:k,rebind:b.rebind,render:l,resolve:b.resolve,setValue:m,splice:n,teardown:o,toString:p,unrender:q,update:r},s}(K,cJ,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c$),da=function(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}},db=function(a){return function(b){var c,d,e,f;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType){if(a(e,b))return e;if(f=e.querySelector(b))return f}return null}}(bg),dc=function(a){return function(b,c){var d,e,f,g,h,i;for(e=this.nodes.length,d=0;e>d;d+=1)if(f=this.nodes[d],1===f.nodeType&&(a(f,b)&&c.push(f),g=f.querySelectorAll(b)))for(h=g.length,i=0;h>i;i+=1)c.push(g[i])}}(bg),dd=function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},de=function(a,b){function c(a){return f[a]||(f[a]=b(a))}var d,e,f={};try{b("table").innerHTML="foo"}catch(g){d=!0,e={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(b,f,g){var h,i,j=[];if(b)for(d&&(i=e[f.tagName])?(h=c("DIV"),h.innerHTML=i[0]+b+i[1],h=h.querySelector(".x")):f.namespaceURI===a.svg?(h=c("DIV"),h.innerHTML='<svg class="x">'+b+"</svg>",h=h.querySelector(".x")):(h=c(f.tagName),h.innerHTML=b);h.firstChild;)j.push(h.firstChild),g.appendChild(h.firstChild);return j}}(f,g),df=function(){var a="option[selected]";return function(b){var c,d,e;b&&"select"===b.name&&b.binding&&(b.getAttribute("multiple")?(c=b.findAll(a),e=c.map(function(a){return a.value})):(d=b.find(a))&&(e=d.value),void 0!==e&&b.binding.setValue(e),b.bubble())}}(),dg=function(a,b){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=a(this.value,this.parentFragment.getNode(),this.docFrag),b(this.pElement),this.rendered=!0,this.docFrag}}(de,df),dh=function(a){return function(b){var c;(c=this.root._wrapped[this.keypath])&&(b=c.get()),b!==this.value&&(this.value=b,this.parentFragment.bubble(),this.rendered&&a.viewUpdate(this))}}(D),di=function(){return void 0!=this.value?this.value:""},dj=function(a){return function(b){this.rendered&&b&&(this.nodes.forEach(a),this.rendered=!1)}}(cu),dk=function(a,b){return function(){var c,d;if(this.rendered){for(;this.nodes&&this.nodes.length;)c=this.nodes.pop(),c.parentNode.removeChild(c);d=this.parentFragment.getNode(),this.nodes=a(this.value,d,this.docFrag),d.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),b(this.pElement)}}}(de,df),dl=function(a,b,c,d,e,f,g,h,i,j,k,l){var m=function(c){this.type=a.TRIPLE,b.init(this,c)};return m.prototype={detach:c,find:d,findAll:e,firstNode:f,rebind:b.rebind,render:g,resolve:b.resolve,setValue:h,teardown:l,toString:i,unrender:j,update:k},m}(K,cJ,da,db,dc,dd,dg,dh,di,dj,dk,cx),dm=function(){this.parentFragment.bubble()},dn=function(a,b){return function(){var c;if(this.node)return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node;if(this.cssDetachQueue.length){for(a.start();c===this.cssDetachQueue.pop();)b.remove(c);a.end()}}}(D,v),dp=function(a){return function(b){return a(this.node,b)?this.node:this.fragment&&this.fragment.find?this.fragment.find(b):void 0}}(bg),dq=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},dr=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},ds=function(a){return this.fragment?this.fragment.findComponent(a):void 0},dt=function(){return null},du=function(){return this.node},dv=function(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0},dw=function(){var a,b,c,d;return a="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),b="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),c=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},d=c(a.concat(b)),function(a){var b=a.toLowerCase();return d[b]||b}}(),dx=function(a){var b={svg:a.svg,foreignObject:a.html};return function(c,d){return c.a&&c.a.xmlns?c.a.xmlns:b[c.e]||d&&d.namespace||a.html}}(f),dy=function(a){return function(){var b=this.fragment.getValue();b!==this.value&&(this.value=b,"value"===this.name&&this.node&&(this.node._ractive.value=b),this.rendered&&a.viewUpdate(this))}}(D),dz=function(a,b){return function(c,d){var e,f;if(e=d.indexOf(":"),-1===e||(f=d.substr(0,e),"xmlns"===f))c.name=c.element.namespace!==a.html?b(d):d;else if(d=d.substring(e+1),c.name=b(d),c.namespace=a[f.toLowerCase()],!c.namespace)throw'Unknown namespace ("'+f+'")'}}(f,dw),dA=function(a){return function(b){var c,d;return c=b.fragment.items,1===c.length&&(d=c[0],d.type===a.INTERPOLATOR&&(d.keypath||d.ref))?d:void 0}}(K),dB=function(a){var b={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(c,d){var e;!c.pNode||c.namespace||d.pNode.namespaceURI&&d.pNode.namespaceURI!==a.html||(e=b[c.name]||c.name,void 0!==d.pNode[e]&&(c.propertyName=e),("boolean"==typeof d.pNode[e]||"value"===e)&&(c.useProperty=!0))}}(f),dC=function(a,b,c,d,e){var f;return e.push(function(){f=e.Fragment}),function(e){return this.type=a.ATTRIBUTE,this.element=e.element,this.root=e.root,b(this,e.name),e.value&&"string"!=typeof e.value?(this.parentFragment=this.element.parentFragment,this.fragment=new f({template:e.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=c(this),this.isBindable=!!this.interpolator,d(this,e),void (this.ready=!0)):void (this.value=e.value||!0)}}(K,dz,dA,dB,t),dD=function(a,b,c,d){this.fragment&&(this.fragment.rebind(a,b,c,d),this.twoway&&this.updateBindings())},dE=function(a){var b={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(c){var d;this.node=c,c.namespaceURI&&c.namespaceURI!==a.html||(d=b[this.name]||this.name,void 0!==c[d]&&(this.propertyName=d),("boolean"==typeof c[d]||"value"===d)&&(this.useProperty=!0),"value"===d&&(this.useProperty=!0,c._ractive.value=this.value)),this.rendered=!0,this.update()}}(f),dF=function(){var a;if(this.boundEvents)for(a=this.boundEvents.length;a--;)this.node.removeEventListener(this.boundEvents[a],this.updateModel,!1);this.fragment&&this.fragment.teardown()},dG=function(){function a(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var b=/allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|spellcheck|translate|trueSpeed|typeMustMatch|visible/;return function(){var c,d;if(null===this.value)return this.name;if("value"!==this.name||"select"!==this.element.name)return"name"===this.name&&"input"===this.element.name&&(d=this.interpolator)?"name={{"+(d.keypath||d.ref)+"}}":b.test(this.name)?this.fragment?this.fragment.getValue()?this.name:null:this.value?this.name:null:(c=a(this.fragment?this.fragment+"":this.value),this.name+(c?'="'+c+'"':""))}}(),dH=function(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}},dI=function(a){return function(){var b,c,d,e,f=this.value;for(a(f)||(f=[f]),b=this.node.options,c=b.length;c--;)d=b[c],e=d._ractive?d._ractive.value:d.value,d.selected=-1!==f.indexOf(e)}}(F),dJ=function(){var a,b;a=this.node,b=this.value,a.checked=b==a._ractive.value},dK=function(a){return function(){var b,c;b=this.node,c=this.value,b.checked=a(c)?-1!==c.indexOf(b._ractive.value):c==b._ractive.value}}(F),dL=function(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b},dM=function(){var a,b;a=this.node,b=this.value,void 0!==b&&(this.root.nodes[b]=void 0),this.root.nodes[b]=a,a.id=b},dN=function(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)},dO=function(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),this.locked||(a.innerHTML=b)},dP=function(){var a,b;a=this.node,b=this.value,a._ractive.value=b,this.locked||(a.value=void 0==b?"":b)},dQ=function(){this.locked||(this.node[this.propertyName]=this.value)},dR=function(){var a,b;a=this.node,b=this.value,this.namespace?a.setAttributeNS(this.namespace,this.name,b):a.setAttribute(this.name,b)},dS=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return function(){var n,o,p;n=this.name,o=this.element,p=this.node,"id"===n?this.update=h:"select"===o.name&&"value"===n?this.update=p.multiple?d:c:"input"===o.name&&"file"===p.type&&"value"===n?this.update=b:this.twoway&&"name"===n?"radio"===p.type?this.update=e:"checkbox"===p.type&&(this.update=f):this.update="style"===n&&p.style.setAttribute?i:"class"!==n||p.namespaceURI&&p.namespaceURI!==a.html?p.getAttribute("contenteditable")&&"value"===this.name?j:"value"===n?k:this.useProperty?l:m:g,this.update()}}(f,ct,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR),dT=function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.node.name="{{"+this.keypath+"}}")},dU=function(a,b,c,d,e,f,g,h){var i=function(a){this.init(a)};return i.prototype={bubble:a,init:b,rebind:c,render:d,teardown:e,toString:f,update:g,updateBindings:h},i}(dy,dC,dD,dE,dF,dG,dS,dT),dV=function(a){return function(b,c){var d,e,f=[];for(d in c)c.hasOwnProperty(d)&&(e=new a({element:b,name:d,value:c[d],root:b.root}),f.push(f[d]=e));return f}}(dU),dW=function(a){for(var b,c,d=Array.prototype.slice,e=d.call(arguments,1);c=e.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a},dX=function(a,b,c,d,e){var f=function(a){var c;return this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],c=this.attribute.interpolator,c.keypath&&"${"===c.keypath.substr?(b("Two-way binding does not work with expressions: "+c.keypath),!1):(c.keypath||c.resolve(c.ref),void (this.keypath=this.attribute.interpolator.keypath))};return f.prototype={handleChange:function(){a.lockAttribute(this.attribute),a.start(this.root),e(this.root,this.keypath,this.getValue()),a.end()},rebind:function(a,b,c,d){var e;this.keypath.substr(0,c.length)===c&&(e=this.root._twowayBindings[this.keypath],e.splice(e.indexOf(this),1),this.keypath=this.keypath.replace(c,d),e=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),e.push(this))}},f.extend=function(a){var b,e=this;return b=function(a){f.call(this,a),this.init&&this.init()},b.prototype=c(e.prototype),d(b.prototype,a),b.extend=f.extend,b},f}(D,$,bS,dW,N),dY=function(){this._ractive.binding.handleChange()},dZ=function(a,b){var c=a.extend({render:function(){var a=this.element.node;a.addEventListener("change",b,!1),this.root.lazy||(a.addEventListener("input",b,!1),a.attachEvent&&a.addEventListener("keyup",b,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",b,!1),a.removeEventListener("input",b,!1),a.removeEventListener("keyup",b,!1)}});return c}(dX,dY),d$=function(a,b,c,d){var e=c.extend({name:"name",init:function(){this.radioName=!0},render:function(){var c,e=this,f=this.element.node;f.name="{{"+this.keypath+"}}",f.addEventListener("change",d,!1),f.attachEvent&&f.addEventListener("click",d,!1),c=b(this.root,this.keypath),void 0!==c?f.checked=c==f._ractive.value:a.afterModelUpdate(function(){return e.handleChange()})},unrender:function(){var a=this.element.node;a.removeEventListener("change",d,!1),a.removeEventListener("click",d,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){var a=this.element.node;a.checked&&c.prototype.handleChange.call(this)},rebind:function(a,b,d,e){c.prototype.rebind.call(this,a,b,d,e),this.element.node.name="{{"+this.keypath+"}}"}});return e}(D,Z,dX,dY),d_=function(a,b,c,d,e,f){var g=e.extend({name:"name",init:function(){this.checkboxName=!0,this.isChecked=this.element.getAttribute("checked"),this.siblings=this.root._checkboxNameBindings[this.keypath]||(this.root._checkboxNameBindings[this.keypath]=[]),this.siblings.push(this)},teardown:function(){b(this.siblings,this)},render:function(){var b,c,e=this.element.node;this.element.node.name="{{"+this.keypath+"}}",e.addEventListener("change",f,!1),e.attachEvent&&e.addEventListener("click",f,!1),b=d(this.root,this.keypath),void 0!==b?(c=-1!==b.indexOf(e._ractive.value),e.checked=c):a.addCheckboxBinding(this)},unrender:function(){var a=this.element.node;a.removeEventListener("change",f,!1),a.removeEventListener("click",f,!1)},changed:function(){return this.element.node.checked!==!!this.checked},handleChange:function(){var b=[];this.isChecked=this.element.node.checked,this.siblings.forEach(function(a){a.isChecked&&b.push(a.element.getAttribute("value"))}),a.start(this.root),c(this.root,this.keypath,b),a.end()},getValue:function(){throw new Error("This code should not execute!")}});return g}(D,u,N,Z,dX,dY),ea=function(a,b){var c=a.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",b,!1),a.attachEvent&&a.addEventListener("click",b,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",b,!1),a.removeEventListener("click",b,!1)},getValue:function(){return this.element.node.checked}});return c}(dX,dY),eb=function(a,b,c,d){var e=c.extend({render:function(){this.element.node.addEventListener("change",d,!1)},unrender:function(){this.element.node.removeEventListener("change",d,!1)},setValue:function(a){b(this.root,this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},updateModel:function(){void 0===this.attribute.value&&b(this.root,this.keypath,this.initialValue)},dirty:function(){var b=this;this._dirty||(this._dirty=!0,a.afterModelUpdate(function(){return b.updateModel()}))}});return e}(D,N,dX,dY),ec=function(a){return function(b,c){var d;if(!a(b)||!a(c))return!1;if(b.length!==c.length)return!1;for(d=b.length;d--;)if(b[d]!==c[d])return!1;return!0}}(F),ed=function(a,b,c,d,e){var f=d.extend({render:function(){var b;this.element.node.addEventListener("change",e,!1),b=a(this.root,this.keypath),void 0===b&&this.handleChange()},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,e;return a=this.attribute,b=a.value,e=this.getValue(),void 0!==b&&c(e,b)||d.prototype.handleChange.call(this),this},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||b(this.root,this.keypath,this.initialValue)}});return f}(Z,N,ec,eb,dY),ee=function(a,b){var c=a.extend({render:function(){this.element.node.addEventListener("change",b,!1)},unrender:function(){this.element.node.removeEventListener("change",b,!1)},getValue:function(){return this.element.node.files}});return c}(dX,dY),ef=function(a,b,c){function d(){var b;c.call(this),b=a(this._ractive.root,this._ractive.binding.keypath,f),this.value=void 0==b?"":b}var e,f;return f={evaluateWrapped:!0},e=b.extend({render:function(){var a=this.element.node;a.addEventListener("change",c,!1),this.root.lazy||(a.addEventListener("input",c,!1),a.attachEvent&&a.addEventListener("keyup",c,!1)),a.addEventListener("blur",d,!1)},getValue:function(){var a=this.element.node.value;return+a+""===a&&-1===a.indexOf("e")&&(a=+a),a},unrender:function(){var a=this.element.node;a.removeEventListener("change",c,!1),a.removeEventListener("input",c,!1),a.removeEventListener("keyup",c,!1),a.removeEventListener("blur",d,!1)}})}(Z,dX,dY),eg=function(a,b,c,d,e,f,g,h){function i(a){return a&&a.isBindable}return function(j){var k,l,m=j.attributes;return j.binding&&(j.binding.teardown(),j.binding=null),j.getAttribute("contenteditable")&&i(m.value)?l=a:"input"===j.name?(k=j.getAttribute("type"),"radio"===k||"checkbox"===k?(i(m.name)&&(l="radio"===k?b:c),i(m.checked)&&(l=d)):"file"===k?l=g:i(m.value)&&(l=h)):"select"===j.name&&i(m.value)?l=j.getAttribute("multiple")?f:e:"textarea"===j.name&&i(m.value)&&(l=h),l?new l(j):void 0}}(dZ,d$,d_,ea,eb,ed,ee,ef),eh=function(a){this.root.fire(this.action+"",a)},ei=function(a){function b(a){this.root.fire.apply(this.root,[this.action+"",a].concat(this.params))}function c(a){var b=this.dynamicParams.getValue(e);"string"==typeof b&&(b=b.substr(1,b.length-2)),this.root.fire.apply(this.root,[this.action+"",a].concat(b))}var d,e={args:!0};return a.push(function(){d=a.Fragment}),function(a,e,f){var g;this.element=a,this.root=a.root,this.name=e,this.proxies=[],g=f.n||f,"string"!=typeof g&&(g=new d({template:g,root:this.root,owner:this.element})),this.action=g,f.d?(this.dynamicParams=new d({template:f.d,root:this.root,owner:this.element}),this.fire=c):f.a&&(this.params=f.a,this.fire=b)}}(t),ej=function(a,b,c,d){"string"!=typeof this.action&&this.action.rebind(a,b,c,d),this.dynamicParams&&this.dynamicParams.rebind(a,b,c,d)},ek=function(a){function b(a){var b,c;b=this._ractive,c=b.events[a.type],c.fire({node:this,original:a,index:b.index,keypath:b.keypath,context:b.root.get(b.keypath)})}function c(a){return e[a]||(e[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),e[a]}var d={},e={};return function(){var e,f=this.name;this.node=this.element.node,(e=this.root.events[f])?this.custom=e(this.node,c(f)):("on"+f in this.node||d[f]||(a('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),d[f]=!0),this.node.addEventListener(f,b,!1)),this.node._ractive.events[f]=this}}($),el=function(){"string"!=typeof this.action&&this.action.teardown(),this.dynamicParams&&this.dynamicParams.teardown()},em=function(){},en=function(a,b,c,d,e,f){var g=function(a,b,c){this.init(a,b,c)};return g.prototype={fire:a,init:b,rebind:c,render:d,teardown:e,unrender:f},g}(eh,ei,ej,ek,el,em),eo=function(a){return function(b,c){var d,e,f,g,h=[];for(e in c)if(c.hasOwnProperty(e))for(f=e.split("-"),d=f.length;d--;)g=new a(b,f[d],c[e]),h.push(g);return h}}(en),ep=function(a,b){var c,d,e;return b.push(function(){c=b.Fragment}),d={args:!0},e=function(b,e){var f,g,h,i,j=this;if(j.element=b,j.root=f=b.root,g=e.n||e,"string"!=typeof g&&(h=new c({template:g,root:f,owner:b}),g=h+"",h.teardown()),e.a?j.params=e.a:e.d&&(j.fragment=new c({template:e.d,root:f,owner:b}),j.params=j.fragment.getValue(d),j.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,j.params=this.getValue(d),j.ready&&j.update()}),j.fn=f.decorators[g],!j.fn){if(i='Missing "'+g+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators',f.debug)throw new Error(i);a(i)}},e.prototype={init:function(){var a,b,c,d=this;if(a=d.element.node,d.params?(c=[a].concat(d.params),b=d.fn.apply(d.root,c)):b=d.fn.call(d.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");d.actual=b,d.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(a){this.actual.teardown(),!a&&this.fragment&&this.fragment.teardown()}},e}($,t),eq=function(a,b){var c,d={};return b.push(function(){c=b.Fragment}),function(b,e){var f,g,h,i,j=this;if(j.element=b,j.root=f=b.root,g=e.n||e,"string"!=typeof g&&(h=new c({template:g,root:f,owner:b}),g=h+"",h.teardown()),j.name=g,e.a?j.params=e.a:e.d&&(h=new c({template:e.d,root:f,owner:b}),j.params=h.getValue(d),h.teardown()),j._fn=f.transitions[g],!j._fn){if(i='Missing "'+g+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions',f.debug)throw new Error(i);return void a(i)}}}($,t),er=function(a,b,c){var d,e,f;return a?(e={},f=c("div").style,d=function(a){var c,d,g;if(!e[a])if(void 0!==f[a])e[a]=a;else for(g=a.charAt(0).toUpperCase()+a.substring(1),c=b.length;c--;)if(d=b[c],void 0!==f[d+g]){e[a]=d+g;break}return e[a]}):d=null,d}(h,q,g),es=function(a,b,c,d){var e,f;return b?(f=window.getComputedStyle||a.getComputedStyle,e=function(a){var b,e,f,g,h;if(b=window.getComputedStyle(this.node),"string"==typeof a)return h=b[d(a)],"0px"===h&&(h=0),h;if(!c(a))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(e={},f=a.length;f--;)g=a[f],h=b[d(g)],"0px"===h&&(h=0),e[g]=h;return e}):e=null,e}(c,h,F,er),et=function(a){return function(b,c){var d;if("string"==typeof b)this.node.style[a(b)]=c;else for(d in b)b.hasOwnProperty(d)&&(this.node.style[a(d)]=b[d]);return this}}(er),eu=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})},ev=function(a,b,c){function d(a){return a}var e=function(e){var f;this.duration=e.duration,this.step=e.step,this.complete=e.complete,"string"==typeof e.easing?(f=e.root.easing[e.easing],f||(a('Missing easing function ("'+e.easing+'"). You may need to download a plugin from [TODO]'),f=d)):f="function"==typeof e.easing?e.easing:d,this.easing=f,this.start=b(),this.end=this.start+this.duration,this.running=!0,c.add(this)};return e.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},e}($,s,E),ew=function(a){var b=new RegExp("^-(?:"+a.join("|")+")-");return function(a){return a.replace(b,"")}}(q),ex=function(a){var b=new RegExp("^(?:"+a.join("|")+")([A-Z])");return function(a){var c;return a?(b.test(a)&&(a="-"+a),c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""}}(q),ey=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r={},s={};return a?(k=c("div").style,function(){void 0!==k.transition?(l="transition",m="transitionend",n=!0):void 0!==k.webkitTransition?(l="webkitTransition",m="webkitTransitionEnd",n=!0):n=!1}(),l&&(o=l+"Duration",p=l+"Property",q=l+"TimingFunction"),j=function(a,c,j,k,l,n){setTimeout(function(){var t,u,v,w;w=function(){u&&v&&n()},t=a.node.namespaceURI+a.node.tagName,a.node.style[p]=k.map(g).map(i).join(","),a.node.style[q]=i(j.easing||"linear"),a.node.style[o]=j.duration/1e3+"s",l=function(b){var c;c=k.indexOf(d(h(b.propertyName))),-1!==c&&k.splice(c,1),k.length||(a.root.fire(a.name+":end"),a.node.removeEventListener(m,l,!1),v=!0,w())},a.node.addEventListener(m,l,!1),setTimeout(function(){for(var h,i,n,o,p=k.length,q=[];p--;)o=k[p],h=t+o,r[h]?a.node.style[g(o)]=c[o]:i=a.getStyle(o),void 0===r[h]&&(a.node.style[g(o)]=c[o],r[h]=a.getStyle(o)!=c[o],s[h]=!r[h]),s[h]&&(n=k.indexOf(o),-1===n?b("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):k.splice(n,1),a.node.style[g(o)]=i,q.push({name:g(o),interpolator:e(i,c[o])}));q.length?new f({root:a.root,duration:j.duration,easing:d(j.easing),step:function(b){var c,d;for(d=q.length;d--;)c=q[d],a.node.style[c.name]=c.interpolator(b)},complete:function(){u=!0,w()}}):u=!0,k.length||(a.node.removeEventListener(m,l,!1),v=!0,w())},0)},j.delay||0)}):j=null,j}(h,$,g,eu,bb,ev,er,ew,ex),ez=function(a,b,c,d,e,f){var g,h;return b?(h=window.getComputedStyle||a.getComputedStyle,g=function(a,b,g,h){var i,j=this;"string"==typeof a?(i={},i[a]=b):(i=a,h=g,g=b),g||(c('The "'+j.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),g=j,h=j.complete);var k=new d(function(a){var b,c,d,h,k,l,m,n;if(!g.duration)return j.setStyle(i),void a();for(b=Object.keys(i),c=[],d=window.getComputedStyle(j.node),k={},m=b.length;m--;)n=b[m],h=d[e(n)],"0px"===h&&(h=0),h!=i[n]&&(c.push(n),j.node.style[e(n)]=h);return c.length?void f(j,i,g,c,l,a):void a()});return h&&(c("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),k.then(h)),k}):g=null,g}(c,h,$,o,er,ey),eA=function(a,b){var c;for(c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c]);return a},eB=function(a){return function(b,c){return"number"==typeof b?b={duration:b}:"string"==typeof b?b="slow"===b?{duration:600}:"fast"===b?{duration:200}:{duration:400}:b||(b={}),a(b,c)}}(eA),eC=function(){function a(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}return function(b){var c,d,e=this;c=e.node=e.element.node,d=c.getAttribute("style"),e.isIntro=!!b,e.complete=function(b){!b&&e.isIntro&&a(c,d),c._ractive.transition=null,e._manager.remove(e)},e._fn.apply(e.root,[e].concat(e.params))}}(),eD=function(a,b,c,d,e,f,g){var h,i,j;return g.push(function(){h=g.Fragment}),i={args:!0},j=function(a,b){this.init(a,b)},j.prototype={init:a,start:f,getStyle:b,setStyle:c,animateStyle:d,processParams:e},j}(eq,es,et,ez,eB,eC,t),eE=function(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b},eF=function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}return function(e){var f,g,h,i,j,k,l;if(f=e.node)if(i=a(f.options),g=e.getAttribute("value"),h=e.getAttribute("multiple"),void 0!==g)i.forEach(function(a){var b,c;b=a._ractive?a._ractive.value:a.value,c=h?d(g,b):g==b,c&&(l=!0),a.selected=c}),l||(i[0]&&(i[0].selected=!0),e.binding&&(g=h?[]:i[0]?i[0]._ractive?i[0]._ractive.value:i[0].value:void 0,c(e.root,e.binding.keypath,g)));else if(e.binding){if(h)j=i.reduce(function(a,b){return b.selected&&a.push(b.value),a},[]);else for(k=i.length;k--;)if(i[k].selected){j=i[k].value;break}b.lockAttribute(e.attributes.value),c(e.root,e.binding.keypath)}}}(eE,D,N),eG=function(a,b){return function(){var c=this;this.dirty||(this.dirty=!0,a.afterViewUpdate(function(){c.dirty=!1,b(c)})),this.parentFragment.bubble()}}(D,eF),eH=function(a){do if("select"===a.name)return a;while(a=a.parent)},eI=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;return l.push(function(){m=l.Fragment}),function(l){var n,o,p,q,r,s;this.type=a.ELEMENT,n=this.parentFragment=l.parentFragment,o=this.template=l.template,this.parent=l.pElement||n.pElement,this.root=q=n.root,this.index=l.index,this.cssDetachQueue=[],this.namespace=d(o,this.parent),this.name=p!==b.html?c(o.e):o.e,"option"===this.name&&(this.select=k(this.parent),this.select.options.push(this),o.a||(o.a={}),o.a.value||(o.a.value=o.f),"selected"in o.a&&void 0!==this.select.getAttribute("value")&&delete o.a.selected),this.attributes=e(this,o.a),q.twoway&&(r=f(this,o.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath]||(this.root._twowayBindings[r.keypath]=[]),s.push(r)),"option"===this.name&&this.select.binding&&(this.select.binding.dirty(),this.select.getAttribute("multiple")?this.getAttribute("selected")&&(this.select.binding.initialValue||(this.select.binding.initialValue=[]),this.select.binding.initialValue.push(this.getAttribute("value"))):(this.getAttribute("selected")||void 0===this.select.binding.initialValue)&&(this.select.binding.initialValue=this.getAttribute("value"))),"select"===this.name&&(this.options=[],this.getAttribute("multiple")&&this.binding&&(this.binding.initialValue=[]),this.bubble=j),o.f&&(this.fragment=new m({template:o.f,root:q,owner:this,pElement:this})),o.v&&(this.eventHandlers=g(this,o.v)),o.o&&(this.decorator=new h(this,o.o)),o.t0&&(this.intro=this.outro=new i(this,o.t0)),o.t1&&(this.intro=new i(this,o.t1)),o.t2&&(this.outro=new i(this,o.t2))}}(K,f,dw,dx,dV,eg,eo,ep,eD,eG,eH,t),eJ=function(a){return function(b,c){return b===c||a(b,c)}}(cC),eK=function(a,b){return function(c,d,e,f){c[d]&&!a(c[d],f)&&(c[d]=b(c[d],e,f))}}(eJ,cD),eL=function(a){return function(b,c,d,e){function f(a){a.rebind(b,c,d,e)}var g,h,i,j;if(this.attributes&&this.attributes.forEach(f),this.eventHandlers&&this.eventHandlers.forEach(f),this.binding&&f(this.binding),this.fragment&&f(this.fragment),i=this.liveQueries)for(j=this.root,g=i.length;g--;)i[g]._makeDirty();(h=this.node._ractive)&&(a(h,"keypath",d,e),void 0!=b&&(h.index[b]=c))}}(eK),eM=function(a,b,c,d,e,f,g){function h(b){var c,d,e;if(d=b.select.getAttribute("value"),void 0!==d)if(c=b.getAttribute("value"),b.select.node.multiple&&a(d)){for(e=d.length;e--;)if(c==d[e]){b.node.selected=!0;break}}else b.node.selected=c==d}function i(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b._parent)}var j,k;return j=function(){var a=this.node,b=this.fragment.toString(!1);if(a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},k=function(){this.node.type&&"text/javascript"!==this.node.type||b("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},function(){var a,b,l=this,m=this.root;return a=this.node=d(this.name,this.namespace),m.css&&this.parentFragment.getNode()===m.el&&this.node.setAttribute("data-rvcguid",m.constructor._guid||m._guid),e(this.node,"_ractive",{value:{proxy:this,keypath:g(this.parentFragment),index:this.parentFragment.indexRefs,events:c(null),root:m}}),this.attributes.forEach(function(b){return b.render(a)}),this.fragment&&("script"===this.name?(this.bubble=k,this.node.text=this.fragment.toString(!1)):"style"===this.name?(this.bubble=j,this.bubble()):this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding,this.node.getAttribute("contenteditable")&&this.node._ractive.binding&&this.node._ractive.binding.update()),this.decorator&&this.decorator.fn&&f.afterViewUpdate(function(){l.decorator.init()}),(b=this.intro)&&(f.registerTransition(b),f.afterViewUpdate(function(){return b.start(!0)})),"option"===this.name&&h(this),this.node.autofocus&&f.afterViewUpdate(function(){return l.node.focus()}),i(this),this.node}}(F,$,bS,g,i,D,y),eN=function(){for(this.fragment&&this.fragment.teardown();this.attributes.length;)this.attributes.pop().teardown()},eO=function(){var a=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return a}(),eP=function(a,b){function c(a){var c,d,e,f,g,h,i;if(d=a.attributes.value,d.value)c=d.value;else{if(e=d.interpolator,!e)return;c=a.root.get(e.keypath||e.ref)}if(f=a.select.attributes.value,g=f.interpolator){if(h=a.root.get(g.keypath||g.ref),h==c)return!0;if(a.select.attributes.multiple&&b(h))for(i=h.length;i--;)if(h[i]==c)return!0}}function d(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function e(a){var b=a+"";return b?" "+b:""}return function(){var b,f;return b="<"+(this.template.y?"!doctype":this.template.e),b+=this.attributes.map(e).join(""),"option"===this.name&&c(this)&&(b+=" selected"),"input"===this.name&&d(this)&&(b+=" checked"),b+=">",this.fragment&&(f="script"!==this.name&&"style"!==this.name,b+=this.fragment.toString(f)),a.test(this.template.e)||(b+="</"+this.template.e+">"),b}}(eO,F),eQ=function(a){function b(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}return function(c){var d,e,f;c&&(this.willDetach=!0,a.detachWhenReady(this)),this.fragment&&this.fragment.unrender(!1),(d=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,e=this.root._twowayBindings[d.keypath],e.splice(e.indexOf(d),1)),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.unrender()}),this.decorator&&this.decorator.teardown(),(f=this.outro)&&(a.registerTransition(f),a.afterViewUpdate(function(){return f.start(!1)})),this.liveQueries&&b(this)}}(D),eR=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=function(a){this.init(a)};return p.prototype={bubble:a,detach:b,find:c,findAll:d,findAllComponents:e,findComponent:f,findNextNode:g,firstNode:h,getAttribute:i,init:j,rebind:k,render:l,teardown:m,toString:n,unrender:o},p}(dm,dn,dp,dq,dr,ds,dt,du,dv,eI,eL,eM,eN,eP,eQ),eS={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},eT={},eU=function(){var a=/^[^\s=]+/,b=/^\s+/;return function(c){var d,e,f;return c.matchString("=")?(d=c.pos,c.allowWhitespace(),(e=c.matchPattern(a))?c.matchPattern(b)?(f=c.matchPattern(a))?(c.allowWhitespace(),c.matchString("=")?[e,f]:(c.pos=d,null)):(c.pos=d,null):null:(c.pos=d,null)):null}}(),eV=function(a){var b={"#":a.SECTION,"^":a.INVERTED,"/":a.CLOSING,">":a.PARTIAL,"!":a.COMMENT,"&":a.TRIPLE};return function(a){var c=b[a.str.charAt(a.pos)];return c?(a.pos+=1,c):null}}(K),eW=function(a,b){function c(b,c){for(var d,e=[];c.t===a.MEMBER&&c.r.t===a.REFINEMENT;)d=c.r,e.unshift(d.x?d.x.t===a.REFERENCE?d.x:b.flattenExpression(d.x):d.n),c=c.x;return c.t!==a.REFERENCE?null:{r:c.n,m:e}}var d,e,f=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,g=/^[0-9][1-9]*$/,h=/(if|unless|with|each|try)\b/;return d={"if":a.SECTION_IF,unless:a.SECTION_UNLESS,"with":a.SECTION_WITH,each:a.SECTION_EACH},e=/^[a-zA_Z$_0-9]+(?:(\.[a-zA_Z$_0-9]+)|(\[[a-zA_Z$_0-9]+\]))*$/,function(i,j){var k,l,m,n,o,p,q,r,s,t,u;if(k=i.pos,m={},j)m.t=a.TRIPLE;else if((p=i.readExpression())&&(m.t=a.INTERPOLATOR,i.allowWhitespace(),i.matchString(i.delimiters[1])?i.pos-=i.delimiters[1].length:(i.pos=k,p=null)),!p)if(n=b(i),m.t=n||a.INTERPOLATOR,n===a.SECTION&&i.handlebars)o=i.matchPattern(h),o&&d[o]&&(m.n=d[o],i.allowWhitespace());else if(n===a.INVERTED)m.t=a.SECTION,m.n=a.SECTION_UNLESS;else if((n===a.COMMENT||n===a.CLOSING)&&(r=i.remaining(),s=r.indexOf(i.delimiters[1]),-1!==s))return m.r=r.substr(0,s),i.pos+=s,m;if(!p&&(i.allowWhitespace(),p=i.readExpression(),r=i.remaining(),t=j?i.tripleDelimiters[1]:i.delimiters[1],r.substr(0,t.length)!==t&&":"!==r.charAt(0))){if(l=i.pos,i.pos=k,r=i.remaining(),s=r.indexOf(i.delimiters[1]),-1!==s)return m.r=r.substr(0,s).trim(),e.test(m.r)||i.error("Expected a legal Mustache reference"),i.pos+=s,m;i.pos=l}if(p){for(;p.t===a.BRACKETED&&p.x;)p=p.x;p.t===a.REFERENCE?m.r=p.n:p.t===a.NUMBER_LITERAL&&g.test(p.v)?m.r=p.v:(u=c(i,p))?m.rx=u:m.x=i.flattenExpression(p)}return(q=i.matchPattern(f))&&(m.i=q),m}}(K,eV),eX=function(a,b,c){function d(a){var b=a.tripleDelimiters[0].length>a.delimiters[0].length;return e(a,b)||e(a,!b)}function e(d,e){var g,h,j,k,l,m,n,o,p,q;if(g=d.pos,h=d.getLinePos(),k=e?d.tripleDelimiters:d.delimiters,!d.matchString(k[0]))return null;if(j=b(d))return d.matchString(k[1])?(d[e?"tripleDelimiters":"delimiters"]=j,i):null;if(d.allowWhitespace(),j=c(d,e),null===j)return d.pos=g,null;if(d.allowWhitespace(),d.matchString(k[1])||d.error("Expected closing delimiter '"+k[1]+"' after reference"),j.t===a.COMMENT&&(j.exclude=!0),j.t===a.SECTION){if(l=[],o=l,d.options.strict||d.handlebars)switch(j.n){case a.SECTION_IF:m="if";break;case a.SECTION_EACH:m="each";break;case a.SECTION_UNLESS:m="unless";break;case a.SECTION_WITH:m="with"}for(;p=d.read();){if(p.t===a.CLOSING){m&&p.r!==m&&d.error("Expected {{/"+m+"}}");break}if(d.handlebars&&p.t===a.INTERPOLATOR&&"else"===p.r)switch(j.n){case a.SECTION_IF:case a.SECTION_EACH:o=n=[];continue;case a.SECTION_UNLESS:d.error("{{else}} not allowed in {{#unless}}");break;case a.SECTION_WITH:d.error("{{else}} not allowed in {{#with}}")}o.push(p)}l.length&&(j.f=l,!j.i&&j.n===a.SECTION_EACH&&(q=f(j.f))&&(j.i=q)),n&&n.length&&(j.l=n)}return d.includeLinePositions&&(j.p=h.toJSON()),j}function f(b){var c,d,e;for(c=b.length;c--;){if(d=b[c],d.t===a.ELEMENT&&d.f&&(e=f(d.f)))return e;if(d.t===a.INTERPOLATOR||d.t===a.TRIPLE||d.t===a.SECTION){if(d.r&&j.test(d.r))return d.r;if(d.x&&(e=g(d.x)))return e;if(d.rx&&(e=h(d.rx)))return e}}}function g(a){var b;for(b=a.r.length;b--;)if(j.test(a.r[b]))return a.r[b]}function h(b){var c,d,e;for(c=b.m.length;c--;){if(e=b.m[c],e.r&&(d=g(e)))return d;if(e.t===a.REFERENCE&&j.test(e.n))return e.n}}var i={t:a.DELIMCHANGE,exclude:!0},j=/^@(?:index|key)$/;return d}(K,eU,eW),eY=function(a){var b="<!--",c="-->";return function(d){var e,f,g,h,i;return e=d.getLinePos(),d.matchString(b)?(g=d.remaining(),h=g.indexOf(c),-1===h&&d.error("Illegal HTML - expected closing comment sequence ('-->')"),f=g.substr(0,h),d.pos+=h+3,i={t:a.COMMENT,c:f},d.includeLinePositions&&(i.p=e.toJSON()),i):null}}(K),eZ=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},e$=function(){function a(a){return a?10===a?32:128>a?a:159>=a?c[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}var b,c,d,e,f;return b={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},c=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],d=new RegExp("&("+Object.keys(b).join("|")+");?","g"),e=/&#x([0-9]+);?/g,f=/&#([0-9]+);?/g,function(c){var g;return g=c.replace(d,function(a,c){return b[c]?String.fromCharCode(b[c]):a}),g=g.replace(e,function(b,c){return String.fromCharCode(a(parseInt(c,16)))}),g=g.replace(f,function(b,c){return String.fromCharCode(a(c))})}}(),e_=function(a,b){return function(c){var d,e,f;return e=c.remaining(),f=c.inside?"</"+c.inside:"<",(d=c.inside&&!c.interpolate[c.inside]?e.indexOf(f):a(e,[f,c.delimiters[0],c.tripleDelimiters[0]]))?(-1===d&&(d=e.length),c.pos+=d,b(e.substr(0,d))):null}}(eZ,e$),fa=function(a){var b=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(c){var d;return c.matchString("</")?(d=c.matchPattern(b))?{t:a.CLOSING_TAG,e:d}:(c.pos-=2,void c.error("Illegal closing tag")):null}}(K),fb=function(a,b){function c(a){var b,c,e;return a.allowWhitespace(),(c=a.matchPattern(i))?(b={name:c},e=d(a),e&&(b.value=e),b):null}function d(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=g(a,"'")||g(a,'"')||f(a),null===c?(a.pos=b,null):1===c.length&&"string"==typeof c[0]?c[0]:c):(a.pos=b,null)}function e(a){var b,c,d;return b=a.pos,(c=a.matchPattern(j))?(-1!==(d=c.indexOf(a.delimiters[0]))&&(c=c.substr(0,d),a.pos=b+c.length),c):null}function f(a){var c,d;for(c=[],d=b(a)||e(a);null!==d;)c.push(d),d=b(a)||e(a);return c.length?c:null}function g(a,c){var d,e,f;if(d=a.pos,!a.matchString(c))return null;for(e=[],f=b(a)||h(a,c);null!==f;)e.push(f),f=b(a)||h(a,c);return a.matchString(c)?e:(a.pos=d,null)}function h(b,c){var d,e,f;return d=b.pos,f=b.remaining(),e=a(f,[c,b.delimiters[0],b.delimiters[1]]),-1===e&&b.error("Quoted attribute value must have a closing quote"),e?(b.pos+=e,f.substr(0,e)):null}var i=/^[^\s"'>\/=]+/,j=/^[^\s"'=<>`]+/;return c}(eZ,eX),fc=function(a){return function(b){var c,d,e,f,g,h;if("string"==typeof b){if(-1===b.indexOf(":"))return b;b=[b]}for(c={},f=[],g=[];b.length;)if(d=b.shift(),"string"==typeof d){if(e=d.indexOf(":"),-1!==e){e&&f.push(d.substr(0,e)),d.length>e+1&&(g[0]=d.substring(e+1));break}f.push(d)}else f.push(d);return g=g.concat(b),g.length||"string"!=typeof f?(c={n:1===f.length&&"string"==typeof f[0]?f[0]:f},1===g.length&&"string"==typeof g[0]?(h=a("["+g[0]+"]"),c.a=h?h.value:g[0]):c.d=g):c=f,c}}(cq),fd=function(a,b,c,d,e,f,g,h){function i(c){var d,e,f,i,r,s,t,u,v,w,x,y;if(d=c.pos,e=c.getLinePos(),c.inside)return null;if(!c.matchString("<"))return null;if("/"===c.nextChar())return null;if(f={t:a.ELEMENT},c.includeLinePositions&&(f.p=e.toJSON()),c.matchString("!")&&(f.y=1),f.e=c.matchPattern(k),!f.e)return null;for(l.test(c.nextChar())||c.error("Illegal tag name"),t=function(a,b){var d=b.n||b;o.test(d)&&(c.pos-=d.length,c.error("Cannot use reserved event names (change, reset, teardown, update)")),f.v[a]=b};u=g(c);)(r=p[u.name])?f[r]=h(u.value):(s=n.exec(u.name))?(f.v||(f.v={}),v=h(u.value),t(s[1],v)):c.sanitizeEventAttributes&&m.test(u.name)||(f.a||(f.a={}),f.a[u.name]=u.value||0);if(c.allowWhitespace(),c.matchString("/")&&(w=!0),!c.matchString(">"))return null;if(i=f.e.toLowerCase(),!w&&!b.test(f.e)){for(("script"===i||"style"===i)&&(c.inside=i),x=[];(y=c.read(j))&&y.t!==a.CLOSING&&y.t!==a.CLOSING_TAG;)x.push(y);x.length&&(f.f=x)}return c.inside=null,c.sanitizeElements&&-1!==c.sanitizeElements.indexOf(i)?q:f}var j,k=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,l=/^[\s\n\/>]/,m=/^on/,n=/^on-([a-zA-Z$_][a-zA-Z$_0-9\-]+)$/,o=/^(?:change|reset|teardown|update)$/,p={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},q={exclude:!0};return j=[c,d,i,e,f],i}(K,eO,eX,eY,e_,fa,fb,fc),fe=function(){var a=/^[ \t\f\r\n]+/,b=/[ \t\f\r\n]+$/;return function(c,d,e){var f;d&&(f=c[0],"string"==typeof f&&(f=f.replace(a,""),f?c[0]=f:c.shift())),e&&(f=c[c.length-1],"string"==typeof f&&(f=f.replace(b,""),f?c[c.length-1]=f:c.pop()))}}(),ff=function(a){function b(a){return"string"==typeof a}function c(b){return b.t===a.COMMENT||b.t===a.DELIMCHANGE}function d(b){return(b.t===a.SECTION||b.t===a.INVERTED)&&b.f}var e=/^\s*\r?\n/,f=/\r?\n\s*$/;return function(a){var g,h,i,j,k;for(g=1;g<a.length;g+=1)h=a[g],i=a[g-1],j=a[g-2],b(h)&&c(i)&&b(j)&&f.test(j)&&e.test(h)&&(a[g-2]=j.replace(f,"\n"),a[g]=h.replace(e,"")),d(h)&&b(i)&&f.test(i)&&b(h.f[0])&&e.test(h.f[0])&&(a[g-1]=i.replace(f,"\n"),h.f[0]=h.f[0].replace(e,"")),b(h)&&d(i)&&(k=i.f[i.f.length-1],b(k)&&f.test(k)&&e.test(h)&&(i.f[i.f.length-1]=k.replace(f,"\n"),a[g]=h.replace(e,"")));return a}}(K),fg=function(a,b,c,d,e,f,g,h){function i(b,c,d,e,f,j){var k,l,n,o,s,t,u,v,w;for(h(b),k=b.length;k--;)l=b[k],l.exclude?b.splice(k,1):c&&l.t===a.COMMENT&&b.splice(k,1);for(g(b,e,f),k=b.length;k--;)if(l=b[k],l.f&&(s=d||l.t===a.ELEMENT&&p.test(l.e),s||(n=b[k-1],o=b[k+1],(!n||"string"==typeof n&&r.test(n))&&(t=!0),(!o||"string"==typeof o&&q.test(o))&&(u=!0)),i(l.f,c,s,t,u,j),l.l&&(i(l.l,c,d,t,u,j),j&&(v={t:4,r:l.r,n:a.SECTION_UNLESS,f:l.l},b.splice(k+1,0,v),delete l.l))),l.a)for(w in l.a)l.a.hasOwnProperty(w)&&"string"!=typeof l.a[w]&&i(l.a[w],c,d,j);for(k=b.length;k--;)"string"==typeof b[k]&&("string"==typeof b[k+1]&&(b[k]=b[k]+b[k+1],b.splice(k+1,1)),d||(b[k]=b[k].replace(m," ")),""===b[k]&&b.splice(k,1))}var j,k,l,m=/[ \t\f\r\n]+/g,n=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,o=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,p=/^(?:pre|script|style|textarea)$/i,q=/^\s+/,r=/\s+$/;return j=b.extend({init:function(a,b){this.delimiters=b.delimiters||["{{","}}"],this.tripleDelimiters=b.tripleDelimiters||["{{{","}}}"],this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.handlebars=b.handlebars},postProcess:function(a,b){return i(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[c,d,e,f]}),k=function(a,b){var c;return b=b||{},n.test(a)?l(a,b):(c=new j(a,b),c.leftover&&c.error("Unexpected character"),c.result)},l=function(a,b){var c,d,e,f,g,h;for(e={},c="",d=a;g=n.exec(d);){if(f=g[1],c+=d.substr(0,g.index),d=d.substring(g.index+g[0].length),h=o.exec(d),!h||h[1]!==f)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");e[f]=k(d.substr(0,h.index),b),d=d.substring(h.index+h[0].length)}return{main:k(c,b),partials:e}},k}(K,cp,eX,eY,fd,e_,fe,ff),fh=function(){function a(a,b){var d=c.exec(b)[0];return null===a||d.length<a.length?d:a}var b=/^\s*$/,c=/^\s*/;return function(c){var d,e,f,g;return d=c.split("\n"),e=d[0],void 0!==e&&b.test(e)&&d.shift(),f=d[d.length-1],void 0!==f&&b.test(f)&&d.pop(),g=d.reduce(a,null),g&&(c=d.map(function(a){return a.replace(g,"")}).join("\n")),c}}(),fi=function(a,b,c,d,e,f,g){function h(b,c){var d;if(b.partials[c]){if("string"==typeof b.partials[c]){if(!f)throw new Error(a.missingParser);d=f(b.partials[c],b.parseOptions),i(d,c,b.partials)}return b.partials[c]}}function i(a,b,c){var e;if(d(a)){c[b]=a.main;for(e in a.partials)a.partials.hasOwnProperty(e)&&(c[e]=a.partials[e])}else c[b]=a}return function(d,j){var k,l,m;if(l=h(d,j))return l;if(b&&(k=document.getElementById(j),k&&"SCRIPT"===k.tagName)){if(!f)throw new Error(a.missingParser);i(f(g(k.text),d.parseOptions),j,e)}if(l=e[j],!l){if(m='Could not find template for partial "'+j+'"',d.debug)throw new Error(m);return c(m),[]}return l}}(eS,h,$,_,eT,fg,fh),fj=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},fk=function(a,b,c,d){var e,f;return d.push(function(){f=d.Fragment}),e=function(c){var d,e=this.parentFragment=c.parentFragment;if(this.type=a.PARTIAL,this.name=c.template.r,this.index=c.index,!c.template.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");d=b(e.root,c.template.r),this.fragment=new f({template:d,root:e.root,owner:this,pElement:e.pElement})},e.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){return this.fragment.render()},unrender:function(a){this.fragment.unrender(a)},rebind:function(a,b,c,d){return this.fragment.rebind(a,b,c,d)},teardown:function(){this.fragment.teardown()},toString:function(b){var d,e,f,g;return d=this.fragment.toString(b),e=this.parentFragment.items[this.index-1],e&&e.type===a.TEXT?(f=e.template.split("\n").pop(),(g=/^\s+$/.exec(f))?c(d,g[0]):d):d},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)}},e}(K,fi,fj,t),fl=function(){return this.instance.fragment.detach()},fm=function(a){return this.instance.fragment.find(a)},fn=function(a,b){return this.instance.fragment.findAll(a,b)},fo=function(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)},fp=function(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance},fq=function(){return this.parentFragment.findNextNode(this)},fr=function(){return this.rendered?this.instance.fragment.firstNode():null},fs=function(a,b){var c,d,e;return b.push(function(){c=b.Fragment}),d={parse:!0},e=function(a,b,e){this.parentFragment=a.parentFragment,this.component=a,this.key=b,this.fragment=new c({template:e,root:a.root,owner:this}),this.value=this.fragment.getValue(d)},e.prototype={bubble:function(){var b=this;this.dirty||(this.dirty=!0,a.afterModelUpdate(function(){b.update(),b.dirty=!1}))},update:function(){var a=this.fragment.getValue(d);this.component.instance.set(this.key,a),this.value=a},teardown:function(){this.fragment.teardown()}},e}(D,t),ft=function(a,b,c,d,e){function f(f,g,h,i){var j,k,l,m,n,o;return l=f.root,m=f.parentFragment,"string"==typeof h?(k=b(h),k?k.value:h):null===h?!0:1===h.length&&h[0].t===a.INTERPOLATOR&&h[0].r?m.indexRefs&&void 0!==m.indexRefs[o=h[0].r]?(f.indexRefBindings[o]=g,m.indexRefs[o]):(n=c(l,h[0].r,m)||h[0].r,i.push({childKeypath:g,parentKeypath:n}),d(l,n)):(j=new e(f,g,h),f.complexParameters.push(j),j.value)}return function(a,b,c,d){var e,g,h={};a.complexParameters=[];for(e in c)c.hasOwnProperty(e)&&(g=f(a,e,c[e],d),(void 0!==g||void 0===b[e])&&(h[e]=g));return h}}(K,cq,z,Z,fs),fu=function(){function a(a,b){var c,d,e;if(c=a.adapt.length?a.adapt.map(function(b){return"object"==typeof b?b:a.adaptors[b]||b}):[],d=b.length)for(e=0;d>e;e+=1)-1===c.indexOf(b[e])&&c.push(b[e]);return c}return function(b,c,d,e){var f,g,h,i,j;return g=b.parentFragment,i=b.root,h={content:e||[]},j=a(i,c.defaults.adapt,c.adaptors),f=new c({append:!0,data:d,partials:h,magic:i.magic||c.defaults.magic,modifyArrays:i.modifyArrays,_parent:i,_component:b,adapt:j})}}(),fv=function(a,b,c){return function(d,e){e.forEach(function(e){var f,g;a(d,d.root,e.parentKeypath,e.childKeypath),f=b(d.instance,e.childKeypath),g=b(d.root,e.parentKeypath),void 0!==f&&void 0===g&&c(d.root,e.parentKeypath,f)})}}(W,Z,N),fw=function(a){function b(b,d,e,f){if("string"!=typeof f){if(d.debug)throw new Error(c);return void a(c)}b.on(e,function(){var a=Array.prototype.slice.call(arguments);a.unshift(f),d.fire.apply(d,a)})}var c="Components currently only support simple events - you cannot include arguments. Sorry!";return function(a,c){var d;for(d in c)c.hasOwnProperty(d)&&b(a.instance,a.root,d,c[d])}}($),fx=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b._parent},fy=function(a,b,c,d,e,f,g){return function(h){var i,j,k,l,m;if(i=this.parentFragment=h.parentFragment,j=i.root,this.root=j,this.type=a.COMPONENT,this.name=h.template.e,this.index=h.index,this.indexRefBindings={},this.bindings=[],k=j.components[h.template.e],!k)throw new Error('Component "'+h.template.e+'" not found');m=[],l=c(this,k.data||{},h.template.a,m),d(this,k,l,h.template.f),e(this,m),f(this,h.template.v),(h.template.t1||h.template.t2||h.template.o)&&b('The "intro", "outro" and "decorator" directives have no effect on components'),g(this)}}(K,$,ft,fu,fv,fw,fx),fz=function(a){return function(b,c,d,e){var f,g,h=this.instance,i=h._parent;this.bindings.forEach(function(f){var g;f.root===i&&(f.keypath===b&&h.set(f.otherKeypath,c),(g=a(f.keypath,d,e))&&f.rebind(g))}),(f=this.indexRefBindings[b])&&h.set(f,c),(g=this.root._liveComponentQueries["_"+this.name])&&g._makeDirty()}}(cD),fA=function(){var a=this.instance;return a.render(this.parentFragment.getNode()).then(function(){a.initOptions.complete&&a.initOptions.complete.call(a)}),this.rendered=!0,a.detach()},fB=function(){function a(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b._parent)}return function(){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();a(this),this.shouldDestroy=!1,this.instance.fragment.teardown()}}(),fC=function(){return this.instance.fragment+""},fD=function(a){this.shouldDestroy=a,this.instance.unrender()},fE=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=function(a){this.init(a)};return n.prototype={detach:a,find:b,findAll:c,findAllComponents:d,findComponent:e,findNextNode:f,firstNode:g,init:h,rebind:i,render:j,teardown:k,toString:l,unrender:m},n}(fl,fm,fn,fo,fp,fq,fr,fy,fz,fA,fB,fC,fD),fF=function(a,b,c){var d=function(b){this.type=a.COMMENT,this.value=b.template.c};return d.prototype={detach:c,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},teardown:b,toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}},d}(K,ct,cv),fG=function(a,b,c,d,e,f,g,h,i){return function(j){if("string"==typeof j.template)return new b(j);switch(j.template.t){case a.INTERPOLATOR:return new c(j);case a.SECTION:return new d(j);case a.TRIPLE:return new e(j);case a.ELEMENT:return j.parentFragment.root.components[j.template.e]?new h(j):new f(j);case a.PARTIAL:return new g(j);case a.COMMENT:return new i(j);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(K,cw,cK,c_,dl,eR,fk,fE,fF),fH=function(a,b,c){return function(d){var e,f,g,h=this;if(this.owner=d.owner,e=this.parent=this.owner.parentFragment,this.root=d.root,this.pElement=d.pElement,this.context=d.context,this.owner.type===a.SECTION&&(this.index=d.index),e&&(f=e.indexRefs)){this.indexRefs=b(null);for(g in f)this.indexRefs[g]=f[g]}this.priority=e?e.priority+1:1,d.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[d.indexRef]=d.index),"string"==typeof d.template?d.template=[d.template]:d.template||(d.template=[]),this.items=d.template.map(function(a,b){return c({parentFragment:h,pElement:d.pElement,template:a,index:b})}),this.inited=!0}}(K,bS,fG),fI=function(a){return function(b,c,d,e){a(this,"context",d,e),this.indexRefs&&void 0!==this.indexRefs[b]&&this.indexRefs[b]!==c&&(this.indexRefs[b]=c),this.items.forEach(function(a){a.rebind&&a.rebind(b,c,d,e)})}}(eK),fJ=function(){var a;return 1===this.items.length?this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())}),a)},fK=function(){this.items.forEach(function(a){return a.teardown()})},fL=function(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""},fM=function(a){this.items.forEach(function(b){return b.unrender(a)})},fN=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=function(a){this.init(a)};return r.prototype={bubble:a,detach:b,find:c,findAll:d,findAllComponents:e,findComponent:f,findNextNode:g,firstNode:h,getNode:i,getValue:j,init:k,rebind:l,render:m,teardown:n,toString:o,unrender:p},q.Fragment=r,r}(bJ,bK,bL,bM,bN,bO,bP,bQ,bR,cr,fH,fI,fJ,fK,fL,fM,t),fO=["data","computed","adaptors","components","decorators","easing","events","interpolators","partials","transitions"],fP=function(){function a(a){var c="var __ractive=this;return("+a.replace(b,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(c)}var b=/\$\{([^\}]+)\}/g;return function(b){return"function"==typeof b?{get:b}:"string"==typeof b?{get:a(b)}:("object"==typeof b&&"string"==typeof b.get&&(b={get:a(b.get),set:b.set}),b)}}(),fQ=function(a,b,c){var d=function(a,c){this.root=a.ractive,this.keypath=c,this.priority=0,this.computation=a,b(this)};return d.prototype={setValue:function(b){a(b,this.value)||(this.value=b,this.computation.bubble())},teardown:function(){c(this)}},d}(n,U,V),fR=function(a,b,c,d){function e(a,b,c){var e,f,g;for(e=b.length;e--;)f=b[e],c[f.keypath]||(b.splice(e,1),b[f.keypath]=null,f.teardown());for(e=c.length;e--;)g=c[e],b[g]||(f=new d(a,g),b.push(b[g]=f))}var f=function(a,b,c){this.ractive=a,this.key=b,this.getter=c.get,this.setter=c.set,this.watchers=[],this.update()};return f.prototype={set:function(a){if(this.setting)return void (this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only in the current version");this.setter.call(this.ractive,a)},compute:function(){var b,c,d;b=this.ractive,c=b._captured,c||(b._captured=[]);try{this.value=this.getter.call(b)}catch(f){b.debug&&a('Failed to compute "'+this.key+'": '+f.message||f),d=!0}return e(this,this.watchers,b._captured),b._captured=c,d?!1:!0},update:function(){this.compute()&&(this.setting=!0,c(this.ractive,this.key,this.value),this.setting=!1),this.dirty=!1},bubble:function(){this.watchers.length<=1?this.update():this.dirty||(b.modelUpdate(this),this.dirty=!0)}},f}($,D,N,fQ),fS=function(a,b){return function(c,d){var e,f;for(e in d)f=a(d[e]),c._computations[e]=new b(c,e,f)}}(fP,fR),fT=function(a,b,c){return function(d){return{fromId:function(a){var c;if(!b)throw new Error("Cannot retieve template #"+a+"as Ractive is not running in the client.");if("#"===a.charAt(0)&&(a=a.substring(1)),!(c=document.getElementById(a)))throw new Error("Could not find template element with id #"+a);return c.innerHTML},parse:function(b,e){if(!c)throw new Error(a.missingParser);return c(b,e||d)},isParsed:function(a){return"string"!=typeof a}}}}(eS,h,fg),fU=function(a,b,c,d){return function(e,f,g){var h,i,j=e.template;h=new d(e.parseOptions),h.isParsed(j)?i=j:("#"===j.charAt(0)&&(j=h.fromId(j)),i=h.parse(j)),c(i)&&(b(e.partials,i.partials),i=i.main),i&&1===i.length&&"string"==typeof i[0]&&(i=i[0]),e.template=i,a(e.partials,g.partials)}}(dW,eA,_,fT),fV=function(a,b,c,d,e,f,g,h){function i(a,d){var e;return{"default":{getArg:function(){},extend:function(a,d){return c(b(a),d)},initialValue:function(b){return a[b]}},template:{getArg:function(){return e||(e=new h(a.parseOptions)),e},extend:function(a,b){return b},initialValue:function(a){return d[a]}}}}function j(b,c,h,j){function k(a){return!j.updatesOnly&&b[a]||j.updatesOnly&&r.indexOf(a)>-1}function l(){return m("data"),b.data||(b.data={}),q.filter(function(a){return"data"!==a}).filter(m)}function m(a){var d=j.newValues[a]||h[a],e=b.constructor[a]||c[a],f="data"===a?d:b.data,g=s[a]||s["default"],i=g.initialValue(a);return b[a]="function"==typeof d?d(f,h,g.getArg()):e?"function"==typeof e?e(f,h,g.getArg())||h[a]:g.extend(e,d):d?d:void 0,n(b[a],i)}function n(a,b){return a||b?o(a)&&o(b)?!1:p(a)&&p(b)?!1:a!==b:!1}function o(a){return e(a)&&!Object.keys(a).length}function p(a){return d(a)&&!a.length}var q,r,s=i(b,h);return j=j||{},j.newValues=j.newValues||{},q=j.registries?j.registries.filter(function(b){return a.indexOf(b)>-1}):a,r=l(),k("computed")&&f(b,b.computed),k("template")&&g(b,c,h),r}return a=a.concat(["template"]),j}(fO,bS,dW,F,_,fS,fU,fT),fW=function(a,b,c,d,e,f){var g=["template","partials","components","decorators","events"].join();return function(h,i){var j,k,l,m,n,o,p=this;if("function"!=typeof h||i?h=h||{}:(i=h,h={}),"object"!=typeof h)throw new Error("The reset method takes either no arguments, or an object containing new data");for((l=this._wrapped[""])&&l.reset?l.reset(h)===!1&&(this.data=h):this.data=h,this.initOptions.data=this.data,m=f(this,this.constructor.defaults,this.initOptions,{updatesOnly:!0}),o=m.length;o--;)if(g.indexOf(m[o]>-1)){n=!0;break}return j=new a(function(a){k=a}),n?(c(p,""),d(p,""),this.unrender(),this.fragment.template!==this.template&&(this.fragment.teardown(),this.fragment=new e({template:this.template,root:this,owner:this})),this.render(this.el,this.anchor).then(k)):(b.start(this,k),c(this,""),d(this,""),b.end()),this.fire("reset",h),i&&j.then(i),j}}(o,D,L,B,fN,fV),fX=function(a,b){return function(c){var d,e,f={updatesOnly:!0,registries:["template","partials"]};c&&(f.newValues={template:c}),e=a(this,this.constructor.defaults,this.initOptions,f),e.length&&(d=this.transitionsEnabled,this.transitionsEnabled=!1,this.unrender(),this.fragment.teardown(),this.fragment=new b({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=d)}}(fV,fN),fY=function(a,b,c,d,e){return function(f,g,h){var i,j,k;if(j=new d(function(a){k=a}),a.start(this,k),b(f)){i=f,h=g;for(f in i)i.hasOwnProperty(f)&&(g=i[f],f=c(f),e(this,f,g))}else f=c(f),e(this,f,g);return a.end(),h&&j.then(h.bind(this)),j}}(D,_,p,o,N),fZ=function(a){return function(b,c){return a(this,b,void 0===c?-1:-c)}}(l),f$=function(a,b){return function(c){var d,e,f;this.fire("teardown"),this.fragment.teardown();for(d in this._cache)b(this,d);for(;f=this._unresolvedImplicitDependencies.pop();)f.teardown();return e=this.rendered?this.unrender():a.resolve(),c&&e.then(c.bind(this)),e}}(o,L),f_=function(){return this.fragment.toString(!0)},ga=function(a,b){var c;if("string"==typeof a)return c=this.get(a),this.set(a,!c,b);if(this.debug)throw new Error("Bad arguments")},gb=function(a,b,c,d,e){return function(){var f,g,h,i,j,k=this;if(!this.rendered)throw new Error("ractive.unrender() was called on a Ractive instance that was not rendered");if(f=new b(function(a){g=a}),d.start(this,g),h=!this.component||this.component.shouldDestroy,this.constructor.css)if(h)f.then(function(){return e.remove(k.constructor)});else{i=this.component.parentFragment;do i.owner.type===a.ELEMENT&&i.owner.willDetach&&(j=i.owner);while(!j&&(i=i.parent));if(!j)throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!");j.cssDetachQueue.push(this.constructor)}for(;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(h),this.rendered=!1,c(this.el.__ractive_instances__,this),d.end(),f}}(K,o,u,D,v),gc=function(a,b,c,d){return function(e,f){var g,h;return"function"==typeof e?(f=e,e=""):e=e||"",g=new b(function(a){h=a}),a.start(this,h),c(this,e),d(this,e),a.end(),this.fire("update",e),f&&g.then(f.bind(this)),g}}(D,o,L,B),gd=function(a,b,c){function d(a,e,f,g,h){var i,j,k,l,m,n;if(i=a._twowayBindings[e])for(k=i.length;k--;)l=i[k],(!l.radioName||l.element.node.checked)&&(l.checkboxName?l.changed()&&g[e]!==!0&&(g[e]=!0,g.push(e)):(m=l.attribute.value,n=l.getValue(),b(m,n)||c(m,n)||(f[e]=n)));if(h&&(j=a._depsMap[e]))for(k=j.length;k--;)d(a,j[k],f,g,h)}return function(b,c){var e,f,g;if("string"!=typeof b&&(b="",c=!0),d(this,b,e={},f=[],c),g=f.length)for(;g--;)b=f[g],e[b]=a(this,b);return this.set(e)}}(w,ec,n),ge=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){return{add:a,animate:b,detach:c,find:d,findAll:e,findAllComponents:f,findComponent:g,fire:h,get:i,insert:j,merge:k,observe:l,off:m,on:n,render:o,renderHTML:p,reset:q,resetTemplate:r,set:s,subtract:t,teardown:u,toHTML:v,toggle:w,unrender:x,update:y,updateModel:z}}(m,bd,be,bf,bp,bq,br,bs,bu,bw,bz,bE,bF,bG,bH,bI,fW,fX,fY,fZ,f$,f_,ga,gb,gc,gd),gf={},gg={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},gh=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b,c;return b=16*Math.random()|0,c="x"==a?b:3&b|8,c.toString(16)})},gi=function(){function a(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function b(a){return a.str}var c=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,d=/\/\*.*?\*\//g,e=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(f,g){var h,i;return i=function(a){var c,d,f,h,i,j,k,l,m=[];for(c=[];d=e.exec(a);)c.push({str:d[0],base:d[1],modifiers:d[2]});for(h='[data-rvcguid="'+g+'"]',i=c.map(b),l=c.length;l--;)k=i.slice(),f=c[l],k[l]=f.base+h+f.modifiers||"",j=i.slice(),j[l]=h+" "+j[l],m.push(k.join(" "),j.join(" "));return m.join(", ")},h=f.replace(d,"").replace(c,function(b,c){var d,e;return d=c.split(",").map(a),e=d.map(i).join(", ")+" ",b.replace(c,e)})}}(),gj=function(a,b,c,d){return function(e,f){a.forEach(function(a){f[a]&&(e[a]=b(f[a]))}),c(e,"defaults",{value:b(f.defaults)}),f.css&&c(e,"css",{value:f.defaults.noCssTransform?f.css:d(f.css,e._guid)})}}(fO,bS,i,gi),gk=function(a,b){return/_super/.test(a)?function(){var c,d=this._super;return this._super=b,c=a.apply(this,arguments),this._super=d,c}:a},gl=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},gm=function(a,b,c,d,e,f){var g={};return b.concat(a.keys).forEach(function(a){g[a]=!0}),function(h,i){var j,k;b.forEach(function(a){var b=i[a];b&&(h[a]?e(h[a],b):h[a]=b)}),a.keys.forEach(function(a){var b=i[a];void 0!==b&&(h.defaults[a]="function"==typeof b&&"function"==typeof h[a]?d(b,h[a]):i[a])});for(j in i)!g[j]&&i.hasOwnProperty(j)&&(k=i[j],h.prototype[j]="function"==typeof k&&"function"==typeof h.prototype[j]?d(k,h.prototype[j]):k);i.css&&c(h,"css",{value:h.defaults.noCssTransform?i.css:f(i.css,h._guid)})}}(d,fO,i,gk,gl,gi),gn=function(a,b){return function(c,d){a(c.defaults.template)&&(c.partials||(c.partials={}),b(c.partials,c.defaults.template.partials),d.partials&&b(c.partials,d.partials),c.defaults.template=c.defaults.template.main)}}(_,gl),go=function(a,b,c){return function(d){var e;if("string"==typeof d.defaults.template){if(!c)throw new Error(a.missingParser);if("#"===d.defaults.template.charAt(0)&&b){if(e=document.getElementById(d.defaults.template.substring(1)),!e||"SCRIPT"!==e.tagName)throw new Error("Could not find template element ("+d.defaults.template+")");d.defaults.template=c(e.innerHTML,d)}else d.defaults.template=c(d.defaults.template,d.defaults)}}}(eS,h,fg),gp=function(a,b){return function(c){var d;if(c.partials)for(d in c.partials)if(c.partials.hasOwnProperty(d)&&"string"==typeof c.partials[d]){if(!b)throw new Error(a.missingParser);c.partials[d]=b(c.partials[d],c)}}}(eS,fg),gq=function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b,c,d){n(c),n(d),a.keys.forEach(function(a){void 0===d[a]&&(d[a]=c[a])}),q.forEach(function(a){b[a]=d[a]}),"string"==typeof b.adapt&&(b.adapt=[b.adapt]),o(b,d)}function n(a){f(a.adaptors)&&(b("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`."),a.adapt=a.adaptors,delete a.adaptors),a.eventDefinitions&&(b("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),a.events=a.eventDefinitions)}function o(a){if(a.magic&&!j)throw new Error("Getters and setters (magic mode) are not supported in this browser")}function p(a,b){d(a,{_guid:{value:g()},_subs:{value:c(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:c(null)},_deps:{value:[]},_depsMap:{value:c(null)},_patternObservers:{value:[]},_evaluators:{value:c(null)},_computations:{value:c(null)},_twowayBindings:{value:c(null)},_checkboxNameBindings:{value:c(null)},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:c(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}}),a.parseOptions={preserveWhitespace:b.preserveWhitespace,sanitize:b.sanitize,stripComments:b.stripComments,delimiters:b.delimiters,tripleDelimiters:b.tripleDelimiters,handlebars:b.handlebars},b._parent&&b._component&&(d(a,{_parent:{value:b._parent},component:{value:b._component}}),b._component.instance=a)}var q=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(a,b){var c,d,f=a.constructor.defaults;a.initOptions=b=b||{},m(a,f,b),p(a,b),k(a,f,b),a.fragment=new l({template:a.template,root:a,owner:a});for(c in a._checkboxNameBindings)void 0===h(a,c)&&i(a,c,a._checkboxNameBindings[c].reduce(function(a,b){return b.isChecked&&a.push(b.element.getAttribute("value")),a},[]));(d=e(b.el))&&(a.transitionsEnabled=b.noIntro?!1:b.transitionsEnabled,d&&!b.append&&(d.__ractive_instances__&&d.__ractive_instances__.splice(0).forEach(function(a){return a.teardown()}),d.innerHTML=""),a.render(d,b.append).then(function(){b.complete&&b.complete.call(a)}),a.transitionsEnabled=b.transitionsEnabled)}}(d,$,bS,j,bv,F,gh,Z,N,R,fV,fN),gr=function(a,b,c){return function(d,e,f){a.keys.forEach(function(a){var c=f[a],d=e.defaults[a];"function"==typeof c&&"function"==typeof d&&(f[a]=b(c,d))}),d.beforeInit&&d.beforeInit(f),c(d,f)}}(d,gk,gq),gs=function(a,b,c,d,e,f,g,h,i,j,k){var l;return k.push(function(){l=k.Ractive}),function m(k){var n,o,p,q=this;if(k.prototype instanceof l&&(k=d({},k,k.prototype,k.defaults)),n=function(a){j(this,n,a||{})},n.prototype=a(q.prototype),n.prototype.constructor=n,n.extend=m,b(n,"_guid",{value:c()}),e(n,q),f(n,k),n.adaptors&&(p=n.defaults.adapt.length))for(;p--;)o=n.defaults.adapt[p],"string"==typeof o&&(n.defaults.adapt[p]=n.adaptors[o]||o);return k.template&&(h(n),g(n,k),i(n)),n}}(bS,i,gh,dW,gj,gm,gn,go,gp,gr,t),gt=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=function(a){m(this,a)};for(o.prototype=d,c(o,{partials:{value:e},adaptors:{value:f},easing:{value:h},transitions:{value:{}},events:{value:{}},components:{value:g},decorators:{value:{}},interpolators:{value:i},defaults:{value:a.defaults},svg:{value:b},VERSION:{value:"0.4.0"}}),o.prototype.constructor=o,o.Promise=j,o.extend=k,o.parse=l,n.Ractive=o,n.Ractive=o;n.length;)n.pop()();var p="function";if(typeof Date.now!==p||typeof String.prototype.trim!==p||typeof Object.keys!==p||typeof Array.prototype.indexOf!==p||typeof Array.prototype.forEach!==p||typeof Array.prototype.map!==p||typeof Array.prototype.filter!==p||"undefined"!=typeof window&&typeof window.addEventListener!==p)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return o}(d,e,j,ge,eT,H,gf,gg,ba,o,gs,fg,gq,t);"undefined"!=typeof module&&module.exports?module.exports=gt:"function"==typeof define&&define.amd&&define(function(){return gt}),a.Ractive=gt,gt.noConflict=function(){return a.Ractive=b,gt}}("undefined"!=typeof window?window:this),!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function e(a){j(),n.push(a)}function g(a){for(var b=n.length-1;b>=0;--b)n[b]===a&&n.splice(b,1)}function h(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in n)if(b(n,g))try{n[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function i(a,b,e,f,g){var i=null,j=!1;if(c(g))if(p)d.computeStackTrace.augmentStackTraceWithInitialElement(p,b,e,a),i=p,p=null,o=null;else{var m={url:b,line:e,column:f};m.func=d.computeStackTrace.guessFunctionName(m.url,m.line),m.context=d.computeStackTrace.gatherContext(m.url,m.line),i={mode:"onerror",message:a,url:document.location.href,stack:[m],useragent:navigator.userAgent}}else k(g,!1),j=!0;return j||h(i,"from window.onerror"),l?l.apply(this,arguments):!1}function j(){m!==!0&&(l=a.onerror,a.onerror=i,m=!0)}function k(b,c){var e=f.call(arguments,1);if(p){if(o===b)return;var g=p;p=null,o=null,h.apply(null,[g,null].concat(e))}var i=d.computeStackTrace(b);if(p=i,o=b,a.setTimeout(function(){o===b&&(p=null,o=null,h.apply(null,[i,null].concat(e)))},i.incomplete?2e3:0),c!==!1)throw b}var l,m,n=[],o=null,p=null;return k.subscribe=e,k.unsubscribe=g,k}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if(!b(w,a)){var c="";-1!==a.indexOf(document.domain)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,c,d=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?):.*?):(\d+)(?::(\d+))?\)?\s*$/i,e=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?).*?):(\d+)(?::(\d+))?\s*$/i,f=a.stack.split("\n"),j=[],k=/^(.*) is undefined$/.exec(a.message),l=0,n=f.length;n>l;++l){if(b=e.exec(f[l]))c={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else{if(!(b=d.exec(f[l])))continue;c={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!c.func&&c.line&&(c.func=h(c.url,c.line)),c.line&&(c.context=i(c.url,c.line)),j.push(c)}return j[0]&&j[0].line&&!j[0].column&&k&&(j[0].column=m(k[1],j[0].url,j[0].line)),j.length?{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent}:null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o+""))&&(e.func=c[1]),f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var p=/ '([^']+)' /.exec(a.message||a.description);p&&(e.column=m(p[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var q={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(q,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),q}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t}(),d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=7),a.TraceKit=d}(window),function(a,b){function c(a,b){var c,d;b=b||{},a="raven"+a.substr(0,1).toUpperCase()+a.substr(1),document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=document.createEventObject(),c.eventType=a);for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);if(document.createEvent)document.dispatchEvent(c);else try{document.fireEvent("on"+c.eventType.toLowerCase(),c)}catch(e){}}function d(a){this.name="RavenConfigError",this.message=a}function e(a){var b=G.exec(a),c={},e=7;try{for(;e--;)c[F[e]]=b[e]||""}catch(f){throw new d("Invalid DSN: "+a)}if(c.pass)throw new d("Do not specify your private key in the DSN!");return c}function f(a){return"undefined"==typeof a}function g(a){return"function"==typeof a}function h(a){return"string"==typeof a}function i(a){for(var b in a)return!1;return!0}function j(a,b){var c,d;if(f(a.length))for(c in a)a.hasOwnProperty(c)&&b.call(null,c,a[c]);else if(d=a.length)for(c=0;d>c;c++)b.call(null,c,a[c])}function k(){if(H)return H;var a=["sentry_version=4","sentry_client=raven-js/"+E.VERSION];return y&&a.push("sentry_key="+y),H="?"+a.join("&")}function l(a,b){var d=[];a.stack&&a.stack.length&&j(a.stack,function(a,b){var c=m(b);c&&d.push(c)}),c("handle",{stackInfo:a,options:b}),o(a.name,a.message,a.url,a.lineno,d,b)}function m(a){if(a.url){var b,c={filename:a.url,lineno:a.line,colno:a.column,"function":a.func||"?"},d=n(a);if(d){var e=["pre_context","context_line","post_context"];for(b=3;b--;)c[e[b]]=d[b]}return c.in_app=!(!C.includePaths.test(c.filename)||/(Raven|TraceKit)\./.test(c["function"])||/raven\.(min\.)js$/.test(c.filename)),c}}function n(a){if(a.context&&C.fetchContext){for(var b=a.context,c=~~(b.length/2),d=b.length,e=!1;d--;)if(b[d].length>300){e=!0;break}if(e){if(f(a.column))return;return[[],b[c].substr(a.column,50),[]]}return[b.slice(0,c),b[c],b.slice(c+1)]}}function o(a,b,c,d,e,f){var g,h;b&&(C.ignoreErrors.test(b)||(e&&e.length?(c=e[0].filename||c,e.reverse(),g={frames:e}):c&&(g={frames:[{filename:c,lineno:d}]}),C.ignoreUrls&&C.ignoreUrls.test(c)||(!C.whitelistUrls||C.whitelistUrls.test(c))&&(h=d?b+" at "+d:b,r(p({exception:{type:a,value:b},stacktrace:g,culprit:c,message:h},f)))))}function p(a,b){return b?(j(b,function(b,c){a[b]=c}),a):a}function q(){var a={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(a.headers.Referer=document.referrer),a}function r(a){t()&&(a=p({project:z,logger:C.logger,site:C.site,platform:"javascript",request:q()},a),a.tags=p(C.tags,a.tags),a.extra=p(C.extra,a.extra),i(a.tags)&&delete a.tags,i(a.extra)&&delete a.extra,x&&(a.user=x),g(C.dataCallback)&&(a=C.dataCallback(a)),(!g(C.shouldSendCallback)||C.shouldSendCallback(a))&&s(a))}function s(a){var b=new Image,d=w+k()+"&sentry_data="+encodeURIComponent(JSON.stringify(a));b.onload=function(){c("success",{data:a,src:d})},b.onerror=b.onabort=function(){c("failure",{data:a,src:d})},b.src=d}function t(){return B?w?!0:(a.console&&console.error&&console.error("Error: Raven has not been configured."),!1):!1}function u(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],h(b)?c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")}"use strict";var v,w,x,y,z,A=a.Raven,B=!!a.JSON&&!!a.JSON.stringify,C={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},extra:{}},D=TraceKit.noConflict();D.remoteFetching=!1;var E={VERSION:"1.1.8",TraceKit:D,afterLoad:function(){var b=a.RavenConfig;b&&this.config(b.dsn,b.config).install()},noConflict:function(){return a.Raven=A,E},config:function(a,b){var c=e(a),d=c.path.lastIndexOf("/"),f=c.path.substr(1,d);return b&&j(b,function(a,b){C[a]=b}),C.ignoreErrors.push("Script error."),C.ignoreErrors.push("Script error"),C.ignoreErrors=u(C.ignoreErrors),C.ignoreUrls=C.ignoreUrls.length?u(C.ignoreUrls):!1,C.whitelistUrls=C.whitelistUrls.length?u(C.whitelistUrls):!1,C.includePaths=u(C.includePaths),y=c.user,z=~~c.path.substr(d+1),w="//"+c.host+(c.port?":"+c.port:"")+"/"+f+"api/"+z+"/store/",c.protocol&&(w=c.protocol+":"+w),C.fetchContext&&(D.remoteFetching=!0),C.linesOfContext&&(D.linesOfContext=C.linesOfContext),D.collectWindowErrors=!!C.collectWindowErrors,E},install:function(){return t()&&D.report.subscribe(l),E},context:function(a,c,d){return g(a)&&(d=c||[],c=a,a=b),E.wrap(a,c).apply(this,d)},wrap:function(a,c){function d(){for(var b=[],d=arguments.length;d--;)b[d]=E.wrap(a,arguments[d]);try{return c.apply(this,b)}catch(e){throw E.captureException(e,a),e}}if(f(c)&&!g(a))return a;if(g(a)&&(c=a,a=b),!g(c))return c;if(c.__raven__)return c;for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d.__raven__=!0,d},uninstall:function(){return D.report.unsubscribe(l),E},captureException:function(a,b){if(h(a))return E.captureMessage(a,b);v=a;try{D.report(a,b)}catch(c){if(a!==c)throw c}return E},captureMessage:function(a,b){return r(p({message:a},b)),E},setUser:function(a){return x=a,E},lastException:function(){return v}},F="source protocol user pass host port path".split(" "),G=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;d.prototype=new Error,d.prototype.constructor=d;var H;E.afterLoad(),a.Raven=E,"function"==typeof define&&define.amd&&define("raven",[],function(){return E})}(window),function(a,b){"use strict";var c=function(c){var d=a[c];a[c]=function(){var a=[].slice.call(arguments),c=a[0];return"function"==typeof c&&(a[0]=b.wrap(c)),d.apply?d.apply(this,a):d(a[0],a[1])}};c("setTimeout"),c("setInterval")}(this,Raven),function(a){function b(b){if(typeof b.data!="string")return;var c=b.handler,d=b.data.toLowerCase().split(" "),e=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];b.handler=function(b){if(this!==b.target&&(/textarea|select/i.test(b.target.nodeName)||e.indexOf(b.target.type)>-1))return;var f=b.type!=="keypress"&&a.hotkeys.specialKeys[b.which],g=String.fromCharCode(b.which).toLowerCase(),h,i="",j={};b.altKey&&f!=="alt"&&(i+="alt+"),b.ctrlKey&&f!=="ctrl"&&(i+="ctrl+"),b.metaKey&&!b.ctrlKey&&f!=="meta"&&(i+="meta+"),b.shiftKey&&f!=="shift"&&(i+="shift+"),f?j[i+f]=!0:(j[i+g]=!0,j[i+a.hotkeys.shiftNums[g]]=!0,i==="shift+"&&(j[a.hotkeys.shiftNums[g]]=!0));for(var k=0,l=d.length;k<l;k++)if(j[d[k]])return c.apply(this,arguments)}}a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:b}})}(jQuery),function(a,b){function m(b,c,d,e){var h={data:e||e===0||e===!1?e:c?c.data:{},_wrap:c?c._wrap:null,tmpl:null,parent:c||null,nodes:[],calls:u,nest:v,wrap:w,html:x,update:y};return b&&a.extend(h,b,{nodes:[],parent:c}),d&&(h.tmpl=d,h._ctnt=h._ctnt||h.tmpl(a,h),h.key=++j,(l.length?g:f)[j]=h),h}function n(b,c,e){var f,g=e?a.map(e,function(a){return typeof a=="string"?b.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+d+'="'+b.key+'" $2'):a:n(a,b,a._ctnt)}):b;return c?g:(g=g.join(""),g.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(b,c,d,e){f=a(d).get(),t(f),c&&(f=o(c).concat(f)),e&&(f=f.concat(o(e)))}),f?f:o(g))}function o(b){var c=document.createElement("div");return c.innerHTML=b,a.makeArray(c.childNodes)}function p(b){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(b,c,d,e,f,g,h){var i=a.tmpl.tag[d],j,k,l;if(!i)throw"Unknown template tag: "+d;return j=i._default||[],g&&!/\w$/.test(f)&&(f+=g,g=""),f?(f=r(f),h=h?","+r(h)+")":g?")":"",k=g?f.indexOf(".")>-1?f+r(g):"("+f+").call($item"+h:f,l=g?k:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):l=k=j.$1||"null",e=r(e),"');"+i[c?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(l).split("$1").join(k).split("$2").join(e||j.$2||"")+"__.push('"})+"');}return __;")}function q(b,c){b._wrap=n(b,!0,a.isArray(c)?c:[e.test(c)?c:a(c).html()]).join("")}function r(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function s(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}function t(b){function p(b){function p(a){a+=c,n=i[a]=i[a]||m(n,f[n.parent.key+c]||n.parent)}var e,h=b,l,n,o;if(o=b.getAttribute(d)){while(h.parentNode&&(h=h.parentNode).nodeType===1&&!(e=h.getAttribute(d)));e!==o&&(h=h.parentNode?h.nodeType===11?0:h.getAttribute(d)||0:0,(n=f[o])||(n=g[o],n=m(n,f[h]||g[h]),n.key=++j,f[j]=n),k&&p(o)),b.removeAttribute(d)}else k&&(n=a.data(b,"tmplItem"))&&(p(n.key),f[n.key]=n,h=a.data(b.parentNode,"tmplItem"),h=h?h.key:0);if(n){l=n;while(l&&l.key!=h)l.nodes.push(b),l=l.parent;delete n._ctnt,delete n._wrap,a.data(b,"tmplItem",n)}}var c="_"+k,e,h,i={},l,n,o;for(l=0,n=b.length;l<n;l++){if((e=b[l]).nodeType!==1)continue;h=e.getElementsByTagName("*");for(o=h.length-1;o>=0;o--)p(h[o]);p(e)}}function u(a,b,c,d){if(!a)return l.pop();l.push({_:a,tmpl:b,item:this,data:c,options:d})}function v(b,c,d){return a.tmpl(a.template(b),c,d,this)}function w(b,c){var d=b.options||{};return d.wrapped=c,a.tmpl(a.template(b.tmpl),b.data,d,b.item)}function x(b,c){var d=this._wrap;return a.map(a(a.isArray(d)?d.join(""):d).filter(b||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||s(a)})}function y(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]),a(b).remove()}var c=a.fn.domManip,d="_tmplitem",e=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,f={},g={},h,i={key:0,data:{}},j=0,k=0,l=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){a.fn[b]=function(d){var e=[],g=a(d),i,j,l,m,n=this.length===1&&this[0].parentNode;h=f||{};if(n&&n.nodeType===11&&n.childNodes.length===1&&g.length===1)g[c](this[0]),e=this;else{for(j=0,l=g.length;j<l;j++)k=j,i=(j>0?this.clone(!0):this).get(),a(g[j])[c](i),e=e.concat(i);k=0,e=this.pushStack(e,b,g.selector)}return m=h,h=null,a.tmpl.complete(m),e}}),a.fn.extend({tmpl:function(b,c,d){return a.tmpl(this[0],b,c,d)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(b,d,e,g){if(b[0]&&a.isArray(b[0])){var i=a.makeArray(arguments),j=b[0],l=j.length,m=0,n;while(m<l&&!(n=a.data(j[m++],"tmplItem")));n&&k&&(i[2]=function(b){a.tmpl.afterManip(this,b,e)}),c.apply(this,i)}else c.apply(this,arguments);return k=0,h||a.tmpl.complete(f),this}}),a.extend({tmpl:function(b,c,d,e){var h,j=!e;if(j)e=i,b=a.template[b]||a.template(null,b),g={};else if(!b)return b=e.tmpl,f[e.key]=e,e.nodes=[],e.wrapped&&q(e,e.wrapped),a(n(e,null,e.tmpl(a,e)));return b?(typeof c=="function"&&(c=c.call(e||{})),d&&d.wrapped&&q(d,d.wrapped),h=a.isArray(c)?a.map(c,function(a){return a?m(d,e,b,a):null}):[m(d,e,b,c)],j?a(n(e,null,h)):h):[]},tmplItem:function(b){var c;b instanceof a&&(b=b[0]);while(b&&b.nodeType===1&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode));return c||i},template:function(b,c){return c?(typeof c=="string"?c=p(c):c instanceof a&&(c=c[0]||{}),c.nodeType&&(c=a.data(c,"tmpl")||a.data(c,"tmpl",p(c.innerHTML))),typeof b=="string"?a.template[b]=c:c):b?typeof b!="string"?a.template(null,b):a.template[b]||a.template(null,e.test(b)?b:a(b)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(a){f={}},afterManip:function(c,d,e){var f=d.nodeType===11?a.makeArray(d.childNodes):d.nodeType===1?[d]:[];e.call(c,d),t(f),k++}})}(jQuery),function(){(function(a){return typeof define=="function"&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(a){"use strict";var b,c,d,e,f,g;return g="caret",b=function(){function b(a){this.$inputor=a,this.domInputor=this.$inputor[0]}return b.prototype.setPos=function(a){return this.domInputor},b.prototype.getIEPosition=function(){return a.noop()},b.prototype.getPosition=function(){return a.noop()},b.prototype.getOldIEPos=function(){var a,b;return b=document.selection.createRange(),a=document.body.createTextRange(),a.moveToElementText(this.domInputor),a.setEndPoint("EndToEnd",b),a.text.length},b.prototype.getPos=function(){var a,b,c;if(c=this.range())return a=c.cloneRange(),a.selectNodeContents(this.domInputor),a.setEnd(c.endContainer,c.endOffset),b=(a+"").length,a.detach(),b;if(document.selection)return this.getOldIEPos()},b.prototype.getOldIEOffset=function(){var a,b;return a=document.selection.createRange().duplicate(),a.moveStart("character",-1),b=a.getBoundingClientRect(),{height:b.bottom-b.top,left:b.left,top:b.top}},b.prototype.getOffset=function(a){var b,c,d,f;c=null;if(window.getSelection&&(d=this.range())){if(d.endOffset-1<0)return null;b=d.cloneRange(),b.setStart(d.endContainer,d.endOffset-1),b.setEnd(d.endContainer,d.endOffset),f=b.getBoundingClientRect(),c={height:f.height,left:f.left+f.width,top:f.top},b.detach(),c}else document.selection&&this.getOldIEOffset();return e.adjustOffset(c,this.$inputor)},b.prototype.range=function(){var a;if(!window.getSelection)return;return a=window.getSelection(),a.rangeCount>0?a.getRangeAt(0):null},b}(),c=function(){function a(a){this.$inputor=a,this.domInputor=this.$inputor[0]}return a.prototype.getIEPos=function(){var a,b,c,d,e,f,g;return b=this.domInputor,f=document.selection.createRange(),e=0,f&&f.parentElement()===b&&(d=b.value.replace(/\r\n/g,"\n"),c=d.length,g=b.createTextRange(),g.moveToBookmark(f.getBookmark()),a=b.createTextRange(),a.collapse(!1),g.compareEndPoints("StartToEnd",a)>-1?e=c:e=-g.moveStart("character",-c)),e},a.prototype.getPos=function(){return document.selection?this.getIEPos():this.domInputor.selectionStart},a.prototype.setPos=function(a){var b,c;return b=this.domInputor,document.selection?(c=b.createTextRange(),c.move("character",a),c.select()):b.setSelectionRange&&b.setSelectionRange(a,a),b},a.prototype.getIEOffset=function(a){var b,c,d,e,f;return d=this.domInputor.createTextRange(),a?d.move("character",a):(c=document.selection.createRange(),d.moveToBookmark(c.getBookmark())),e=d.boundingLeft,f=d.boundingTop,b=d.boundingHeight,{left:e,top:f,height:b}},a.prototype.getOffset=function(a){var b,c,d;return b=this.$inputor,document.selection?e.adjustOffset(this.getIEOffset(a),b):(c=b.offset(),d=this.getPosition(a),c={left:c.left+d.left,top:c.top+d.top,height:d.height})},a.prototype.getPosition=function(a){var b,c,e,f,g,h;return b=this.$inputor,e=function(a){return a.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/`/g,"&#96").replace(/"/g,"&quot").replace(/\r\n|\r|\n/g,"<br />")},a===void 0&&(a=this.getPos()),h=b.val().slice(0,a),f="<span>"+e(h)+"</span>",f+="<span id='caret'>|</span>",g=new d(b),c=g.create(f).rect()},a.prototype.getIEPosition=function(a){var b,c,d,e,f;return d=this.getIEOffset(a),c=this.$inputor.offset(),e=d.left-c.left,f=d.top-c.top,b=d.height,{left:e,top:f,height:b}},a}(),d=function(){function b(a){this.$inputor=a}return b.prototype.css_attr=["overflowY","height","width","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","fontFamily","borderStyle","borderWidth","wordWrap","fontSize","lineHeight","overflowX","text-align"],b.prototype.mirrorCss=function(){var b,c=this;return b={position:"absolute",left:-9999,top:0,zIndex:-2e4,"white-space":"pre-wrap"},a.each(this.css_attr,function(a,d){return b[d]=c.$inputor.css(d)}),b},b.prototype.create=function(b){return this.$mirror=a("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(b),this.$inputor.after(this.$mirror),this},b.prototype.rect=function(){var a,b,c;return a=this.$mirror.find("#caret"),b=a.position(),c={left:b.left,top:b.top,height:a.height()},this.$mirror.remove(),c},b}(),e={adjustOffset:function(b,c){if(!b)return;return b.top+=a(window).scrollTop()+c.scrollTop(),b.left+=+a(window).scrollLeft()+c.scrollLeft(),b},contentEditable:function(a){return!!a[0].contentEditable&&a[0].contentEditable==="true"}},f={pos:function(a){return a?this.setPos(a):this.getPos()},position:function(a){return document.selection?this.getIEPosition(a):this.getPosition(a)},offset:function(a){return this.getOffset(a)}},a.fn.caret=function(d){var g;return g=e.contentEditable(this)?new b(this):new c(this),f[d]?f[d].apply(g,Array.prototype.slice.call(arguments,1)):a.error("Method "+d+" does not exist on jQuery.caret")},a.fn.caret.EditableCaret=b,a.fn.caret.InputCaret=c,a.fn.caret.Utils=e,a.fn.caret.apis=f})}.call(this),function(){var a=[].slice;(function(a){return typeof define=="function"&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(b){var c,d,e,f,g,h,i,j,k;return e=function(){function a(a){this.current_flag=null,this.controllers={},this.$inputor=b(a),this.listen()}return a.prototype.controller=function(a){return this.controllers[a||this.current_flag]},a.prototype.set_context_for=function(a){return this.current_flag=a,this},a.prototype.reg=function(a,b){var c,d;return c=(d=this.controllers)[a]||(d[a]=new g(this,a)),b.alias&&(this.controllers[b.alias]=c),c.init(b),this},a.prototype.listen=function(){var a=this;return this.$inputor.on("keyup.atwho",function(b){return a.on_keyup(b)}).on("keydown.atwho",function(b){return a.on_keydown(b)}).on("scroll.atwho",function(b){var c;return(c=a.controller())!=null?c.view.hide():void 0}).on("blur.atwho",function(b){var c;if(c=a.controller())return c.view.hide(c.get_opt("display_timeout"))})},a.prototype.dispatch=function(){var a=this;return b.map(this.controllers,function(b){if(b.look_up())return a.set_context_for(b.at)})},a.prototype.on_keyup=function(a){var c;switch(a.keyCode){case i.ESC:a.preventDefault(),(c=this.controller())!=null&&c.view.hide();break;case i.DOWN:case i.UP:b.noop();break;default:this.dispatch()}},a.prototype.on_keydown=function(a){var c,d;c=(d=this.controller())!=null?d.view:void 0;if(!c||!c.visible())return;switch(a.keyCode){case i.ESC:a.preventDefault(),c.hide();break;case i.UP:a.preventDefault(),c.prev();break;case i.DOWN:a.preventDefault(),c.next();break;case i.TAB:case i.ENTER:if(!c.visible())return;a.preventDefault(),c.choose();break;default:b.noop()}},a}(),g=function(){function f(a,e){this.app=a,this.at=e,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||d(),this.setting=null,this.query=null,this.pos=0,this.cur_rect=null,this.range=null,c.append(this.$el=b("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new j(this),this.view=new k(this)}var d,e;return e=0,d=function(){return e+=1},f.prototype.init=function(a){return this.setting=b.extend({},this.setting||b.fn.atwho["default"],a),this.view.init(),this.model.reload(this.setting.data)},f.prototype.call_default=function(){var c,d;d=arguments[0],c=2<=arguments.length?a.call(arguments,1):[];try{return h[d].apply(this,c)}catch(e){return b.error(""+e+" Or maybe At.js doesn't have function "+d)}},f.prototype.trigger=function(a,b){var c,d;return b.push(this),c=this.get_opt("alias"),d=c?""+a+"-"+c+".atwho":""+a+".atwho",this.$inputor.trigger(d,b)},f.prototype.callbacks=function(a){return this.get_opt("callbacks")[a]||h[a]},f.prototype.get_opt=function(a,b){try{return this.setting[a]}catch(c){return null}},f.prototype.content=function(){return this.$inputor.is("textarea, input")?this.$inputor.val():this.$inputor.text()},f.prototype.catch_query=function(){var a,b,c,d,e,f;return b=this.content(),a=this.$inputor.caret("pos"),f=b.slice(0,a),d=this.callbacks("matcher").call(this,this.at,f,this.get_opt("start_with_space")),typeof d=="string"&&d.length<=this.get_opt("max_len",20)?(e=a-d.length,c=e+d.length,this.pos=e,d={text:d.toLowerCase(),head_pos:e,end_pos:c},this.trigger("matched",[this.at,d.text])):this.view.hide(),this.query=d},f.prototype.rect=function(){var a,b;if(!(a=this.$inputor.caret("offset",this.pos-1)))return;return this.$inputor.attr("contentEditable")==="true"&&(a=this.cur_rect||(this.cur_rect=a)||a),b=document.selection?0:2,{left:a.left,top:a.top,bottom:a.top+a.height+b}},f.prototype.reset_rect=function(){if(this.$inputor.attr("contentEditable")==="true")return this.cur_rect=null},f.prototype.mark_range=function(){return this.range=this.get_range()||this.get_ie_range()},f.prototype.clear_range=function(){return this.range=null},f.prototype.get_range=function(){return this.range||(window.getSelection?window.getSelection().getRangeAt(0):void 0)},f.prototype.get_ie_range=function(){return this.range||(document.selection?document.selection.createRange():void 0)},f.prototype.insert_content_for=function(a){var c,d,e;return d=a.data("value"),e=this.get_opt("insert_tpl"),this.$inputor.is("textarea, input")||!e?d:(c=b.extend({},a.data("item-data"),{"atwho-data-value":d,"atwho-at":this.at}),this.callbacks("tpl_eval").call(this,e,c))},f.prototype.insert=function(a,c){var d,e,f,g,h,i,j,k,l,m,n;d=this.$inputor,d.attr("contentEditable")==="true"&&(f="atwho-view-flag atwho-view-flag-"+(this.get_opt("alias")||this.at),g=""+a+"<span contenteditable='false'>&nbsp;<span>",h="<span contenteditable='false' class='"+f+"'>"+g+"</span>",e=b(h).data("atwho-data-item",c.data("item-data")),document.selection&&(e=b("<span contenteditable='true'></span>").html(e)));if(d.is("textarea, input"))a=""+a,l=d.val(),m=l.slice(0,Math.max(this.query.head_pos-this.at.length,0)),n=""+m+a+" "+l.slice(this.query.end_pos||0),d.val(n),d.caret("pos",m.length+a.length+1);else if(j=this.get_range())i=j.startOffset-(this.query.end_pos-this.query.head_pos)-this.at.length,j.setStart(j.endContainer,Math.max(i,0)),j.setEnd(j.endContainer,j.endOffset),j.deleteContents(),j.insertNode(e[0]),j.collapse(!1),k=window.getSelection(),k.removeAllRanges(),k.addRange(j);else if(j=this.get_ie_range())j.moveStart("character",this.query.end_pos-this.query.head_pos-this.at.length),j.pasteHTML(e[0]),j.collapse(!1),j.select();return d.focus(),d.change()},f.prototype.render_view=function(a){var b;return b=this.get_opt("search_key"),a=this.callbacks("sorter").call(this,this.query.text,a.slice(0,1001),b),this.view.render(a.slice(0,this.get_opt("limit")))},f.prototype.look_up=function(){var a,c;if(!(a=this.catch_query()))return;return c=function(a){return a&&a.length>0?this.render_view(a):this.view.hide()},this.model.query(a.text,b.proxy(c,this)),a},f}(),j=function(){function c(a){this.context=a,this.at=this.context.at}var a;return a={},c.prototype.saved=function(){return this.fetch()>0},c.prototype.query=function(a,b){var c,d,e;c=this.fetch(),d=this.context.get_opt("search_key"),b(c=this.context.callbacks("filter").call(this.context,a,c,d));if(!(c&&c.length>0))return(e=this.context.callbacks("remote_filter"))!=null?e.call(this.context,a,b):void 0},c.prototype.fetch=function(){return a[this.at]||[]},c.prototype.save=function(b){return a[this.at]=this.context.callbacks("before_save").call(this.context,b||[])},c.prototype.load=function(a){if(!this.saved()&&!!a)return this._load(a)},c.prototype.reload=function(a){return this._load(a)},c.prototype._load=function(a){var c=this;return typeof a=="string"?b.ajax(a,{dataType:"json"}).done(function(a){return c.save(a)}):this.save(a)},c}(),k=function(){function a(a){this.context=a,this.$el=b("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeout_id=null,this.context.$el.append(this.$el),this.bind_event()}return a.prototype.init=function(){var a;return a=this.context.get_opt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+a})},a.prototype.bind_event=function(){var a,c=this;return a=this.$el.find("ul"),a.on("mouseenter.atwho-view","li",function(c){return a.find(".cur").removeClass("cur"),b(c.currentTarget).addClass("cur")}).on("click",function(a){return c.choose(),a.preventDefault()}),this.$el.on("mouseenter.atwho-view","ul",function(a){return c.context.mark_range()}).on("mouseleave.atwho-view","ul",function(a){return c.context.clear_range()})},a.prototype.visible=function(){return this.$el.is(":visible")},a.prototype.choose=function(){var a,b;return a=this.$el.find(".cur"),b=this.context.insert_content_for(a),this.context.insert(this.context.callbacks("before_insert").call(this.context,b,a),a),this.context.trigger("inserted",[a]),this.hide()},a.prototype.reposition=function(a){var c;return a.bottom+this.$el.height()-b(window).scrollTop()>b(window).height()&&(a.bottom=a.top-this.$el.height()),c={left:a.left,top:a.bottom},this.$el.offset(c),this.context.trigger("reposition",[c])},a.prototype.next=function(){var a,b;return a=this.$el.find(".cur").removeClass("cur"),b=a.next(),b.length||(b=this.$el.find("li:first")),b.addClass("cur")},a.prototype.prev=function(){var a,b;return a=this.$el.find(".cur").removeClass("cur"),b=a.prev(),b.length||(b=this.$el.find("li:last")),b.addClass("cur")},a.prototype.show=function(){var a;this.visible()||this.$el.show();if(a=this.context.rect())return this.reposition(a)},a.prototype.hide=function(a){var b,c=this;return isNaN(a&&this.visible())?(this.context.reset_rect(),this.$el.hide()):(b=function(){return c.hide()},clearTimeout(this.timeout_id),this.timeout_id=setTimeout(b,a))},a.prototype.render=function(a){var c,d,e,f,g,h,i;if(!b.isArray(a||a.length<=0)){this.hide();return}this.$el.find("ul").empty(),d=this.$el.find("ul"),g=this.context.get_opt("tpl");for(h=0,i=a.length;h<i;h++)e=a[h],e=b.extend({},e,{"atwho-at":this.context.at}),f=this.context.callbacks("tpl_eval").call(this.context,g,e),c=b(this.context.callbacks("highlighter").call(this.context,f,this.context.query.text)),c.data("item-data",e),d.append(c);return this.show(),d.find("li:first").addClass("cur")},a}(),i={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13},h={before_save:function(a){var c,d,e,f;if(!b.isArray(a))return a;f=[];for(d=0,e=a.length;d<e;d++)c=a[d],b.isPlainObject(c)?f.push(c):f.push({name:c});return f},matcher:function(a,b,c){var d,e;return a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),c&&(a="(?:^|\\s)"+a),e=new RegExp(a+"([A-Za-z0-9_+-]*)$|"+a+"([^\\x00-\\xff]*)$","gi"),d=e.exec(b),d?d[2]||d[1]:null},filter:function(a,b,c){var d,e,f,g;g=[];for(e=0,f=b.length;e<f;e++)d=b[e],~d[c].toLowerCase().indexOf(a)&&g.push(d);return g},remote_filter:null,sorter:function(a,b,c){var d,e,f,g;if(!a)return b;g=[];for(e=0,f=b.length;e<f;e++)d=b[e],d.atwho_order=d[c].toLowerCase().indexOf(a),d.atwho_order>-1&&g.push(d);return g.sort(function(a,b){return a.atwho_order-b.atwho_order})},tpl_eval:function(a,b){try{return a.replace(/\$\{([^\}]*)\}/g,function(a,c,d){return b[c]})}catch(c){return""}},highlighter:function(a,b){var c;return b?(c=new RegExp(">\\s*(\\w*)("+b.replace("+","\\+")+")(\\w*)\\s*<","ig"),a.replace(c,function(a,b,c,d){return"> "+b+"<strong>"+c+"</strong>"+d+" <"})):a},before_insert:function(a,b){return a}},d={load:function(a,b){var c;if(c=this.controller(a))return c.model.load(b)},getInsertedItemsWithIDs:function(a){var c,d,e;return(c=this.controller(a))?(a&&(a="-"+(c.get_opt("alias")||c.at)),d=[],e=b.map(this.$inputor.find("span.atwho-view-flag"+(a||"")),function(a){var c;c=b(a).data("atwho-data-item");if(d.indexOf(c.id)>-1)return;return c.id&&(d.push=c.id),c}),[d,e]):[null,null]},getInsertedItems:function(a){return d.getInsertedItemsWithIDs.apply(this,[a])[1]},getInsertedIDs:function(a){return d.getInsertedItemsWithIDs.apply(this,[a])[0]},run:function(){return this.dispatch()}},f={init:function(a){var c,d;return d=(c=b(this)).data("atwho"),d||c.data("atwho",d=new e(this)),d.reg(a.at,a),this}},c=b("<div id='atwho-container'></div>"),b.fn.atwho=function(a){var e,g;return g=arguments,b("body").append(c),e=null,this.filter("textarea, input, [contenteditable=true]").each(function(){var c;if(typeof a=="object"||!a)return f.init.apply(this,g);if(!d[a])return b.error("Method "+a+" does not exist on jQuery.caret");if(c=b(this).data("atwho"))return e=d[a].apply(c,Array.prototype.slice.call(g,1))}),e||this},b.fn.atwho["default"]={at:void 0,alias:void 0,data:null,tpl:"<li data-value='${atwho-at}moqups'>moqups</li>",insert_tpl:"<span>${atwho-data-value}</span>",callbacks:h,search_key:"name",start_with_space:!0,limit:5,max_len:20,display_timeout:300}})}.call(this),function(){var a=typeof exports!="undefined"?exports:this.AppSeeds={};a.version="0.3",a.StateManager={rootState:"root",_currentState:null,_currentActions:{},_allStates:{},_parentStates:{},_reservedMethods:["enter","exit"],onStateChange:function(a){},create:function(a){var b=function(){};b.prototype=this;var c=new b;return c.rootState="root",c._currentActions={},c._parentStates={},c._allStates={},c._allStates[c.rootState]={},c._parentStates[c.rootState]=null,c._currentState=c.rootState,a=a||{},typeof a=="string"?c.add(a):(a.init&&(c._onInit=a.init),a.statechart&&c.add(a.statechart),this._isFunc(a.onStateChange)&&(c.onStateChange=a.onStateChange)),c},init:function(){return this._isFunc(this._onInit)&&this._onInit.call(this),this},_toRoot:function(a){var b=[];while(a)b.push(a),a=this._parentStates[a];return b},_lca:function(a,b){var c=this._toRoot(a),d=this._toRoot(b);for(var e=0;e<c.length;e++){var f=d.indexOf(c[e]);if(f!==-1){c=c.slice(0,e),d=d.slice(0,f).reverse();break}}return{exits:c,entries:d}},_isFunc:function(a){return typeof a=="function"},_regenerateCurrentActions:function(){this._currentActions={};var a=this._toRoot(this._currentState);for(var b=0;b<a.length;b++){var c=this._allStates[a[b]];for(var d in c)c.hasOwnProperty(d)&&this._isFunc(c[d])&&this._reservedMethods.indexOf(d)===-1&&(this._currentActions[d]||(this._currentActions[d]=[]),this._currentActions[d].push(c[d]))}},_getStatePairs:function(a){var b=a.split("->"),c,d;switch(b.length){case 0:d=[];break;case 1:c=this.rootState,d=b[0].split(/\s+/);break;case 2:c=b[0].trim(),d=b[1].split(/\s+/);break;default:console.warn("String "+a+" is an invalid state pair and has been dropped."),d=[]}var e=[];for(var f=0;f<d.length;f++)d[f]&&e.push([c,d[f]]);return e},goTo:function(a){var b=this._allStates[a];if(b===undefined){console.warn("State "+a+" not defined");return}if(this._currentState!==a){var c=this._lca(this._currentState,a),d,e,f;for(d=0;d<c.exits.length;d++)f=this._allStates[c.exits[d]],this._isFunc(f.exit)&&f.exit.call(this,this._currentState)!==!1;for(d=0;d<c.entries.length;d++)f=this._allStates[c.entries[d]],typeof f.enter=="function"&&f.enter.call(this,this._currentState)!==!1;this._currentState=a,this._regenerateCurrentActions(),this.onStateChange(a),f=this._allStates[a],typeof f.stay=="function"&&f.stay.call(this,this._currentState)}return this},add:function(a){var b,c,d;if(typeof a=="string"){var e=this._getStatePairs(a);for(b=0;b<e.length;b++){c=e[b][0],d=e[b][1];if(!this._allStates[c]){console.warn("State "+c+" is not included in the tree. State not added.");return}if(typeof d=="object")for(var f in d)this.add(c,f,d[f]);else{if(this._allStates[d]){console.warn("State "+d+" is already defined. State not added.");return}this._allStates[d]={},this._parentStates[d]=c}}}else for(b=0;b<a.length;b++)this.add(a[b]);return this},act:function(){var a=(this._currentActions[arguments[0]]||[]).map(function(a){return a});for(var b=0;b<a.length;b++)if(a[b].apply(this,Array.prototype.slice.call(arguments,1))===!1)break;return this},whenIn:function(a,b){var c;if(typeof a=="object")for(c in a)this.whenIn(c,a[c]);else{var d=a.split(/\s+/);for(c=0;c<d.length;c++){var e=d[c];if(e){if(!this._allStates[e]){console.warn("State "+e+" doesn't exist. Actions not added.");return}for(c in b)b.hasOwnProperty(c)&&(this._allStates[e][c]=b[c])}}}return this._regenerateCurrentActions(),this},locate:function(){return this._currentState}},a.PubSub={create:function(){var a=function(){};a.prototype=this;var b=new a;return b._pubsubEvents={},b},pub:function(a){var b=this._parseEventNamespace(a),c,d,e,f,g,h;for(var i=0;i<b.length;i++){h=b[i],c=this._pubsubEvents[h]||[],e=Array.prototype.slice.call(arguments,1);for(d=0;d<c.length;d++)f=c[d],g=f[0].apply(f[1]||this,e),f[2]&&g!==!1&&this.unsub(h,f[0])}return this},_parseEventNamespace:function(a){var b=[],c="",d;for(var e=0;e<a.length;e++)(d=a.charAt(e))===":"&&b.push(c),c+=d;return b.push(c),b},sub:function(a,b,c,d){var e=a.split(/\s+/),f,g,h;for(h=0;h<e.length;h++)f=e[h],g=this._pubsubEvents[f],g?g.push([b,c,d]):this._pubsubEvents[f]=[[b,c,d]];return this},unsub:function(a,b){var c=a.split(/\s+/),d,e,f,g=function(a){return b?a[0]!==b:!1};for(f=0;f<c.length;f++)d=c[f],this._pubsubEvents[d]=(this._pubsubEvents[d]||[]).filter(g);return this},once:function(a,b,c){return this.sub(a,b,c,!0)},schedule:function(){return a.Scheduler.create(this.pub,arguments,this)}},a.Scheduler={create:function(a,b,c){var d=function(){};d.prototype=this;var e=new d;return e.callback=a,e.args=b||[],e.thisArg=c||this,e.timeout=null,e.interval=null,e._timerId=null,e},now:function(){return this.callback.apply(this.thisArg,this.args),this},reset:function(){return this.stop(),this.timeout?this.delay(this.timeout):this.interval&&this.repeat(this.interval),this},delay:function(a){var b=this;return this.timeout=a,this.interval=null,this._timerId=window.setTimeout(function(){b.now()},a),this},repeat:function(a){var b=this;return this.interval=a,this.timeout=null,this._timerId=window.setInterval(function(){b.now()},a),this},stop:function(){return this.timeout?window.clearTimeout(this._timerId):this.interval&&window.clearInterval(this._timerId),this}}}(this),typeof MODULE=="undefined"&&(MODULE={});var FDBK={USER_DATA:{},AUTHORIZED_SERVICES:[],SYNC_GOOGLE_DRIVE:!1,SEND_INVOICE:!1,LOG_LEVEL_NONE:0,LOG_LEVEL_MINIMAL:1,LOG_LEVEL_ALL:2,defaultProjects:{},SERVER_TIME:new Date,START_IN_RECOVERY_MODE:!1,STREAMING_OFFLINE:!1,CACHED_PROJECT:{},CACHED_IMAGES:[],SAMPLE_IMAGES:[],inviteCode:null,isBeta:!0,resetToken:null,library:MODULE,PROJECT_DATA:null,BASE_URL:"",ASSET_IMAGE_BASE_URL:"",IMAGE_BASE_URL:"",STENCIL_BASE_URL:"",CSS_BASE_URL:"",NEW_URL:"",WEB_SOCKET_URL:"/revisions/",PREVIEW_URL:"viewer.html",config:function(a){var b=this.CONFIG[this.ENV][a];b===undefined&&(b=this.CONFIG[this.ENV_DEFAULT][a]);if(b!==undefined)return typeof b=="function"&&(b=b()),b;console.info("Undefined config: "+a)},ENV:"dev",ENV_DEFAULT:"dev",CONFIG:{dev:{"projectManagement.duplicateMockupMethod":["dom-based","model-based"][1],"stencilTemplates.domProperties":["templateName","locked"],"stencilTemplates.useCompiledStencils":!1,"stencilTemplates.useJSONPStencils":!1,"stencilTemplates.useSpriteStencilIcons":!0,"stencilEditor.minTextareaWidth":150,"stencilEditor.minTextareaHeight":80,"stencilEditor.stencilTooSmallThreshold":10,"stencilTemplates.cornerRadiusValue":5,"stencilSidebar.stencilInitBehavior":["edit","inspect","select"][1],"projectManagement.autoSave":!0,"projectManagement.recovery.enabled":!0,"projectManagement.recovery.saveInterval":3e4,"projectManagement.recovery.limit":30,"projectManagement.autoSaveInterval":3e4,"projectManager.warnOnBeforeUnload":!1,"projectManagement.font.list":[{name:"Sans",value:"font-sans",description:"Modernism was our thing too!"},{name:"Handwritten",value:"font-handwritten",description:"Did you just call me Comic Sans?"},{name:"Serif",value:"font-serif",description:"Real fonts grow serifs."},{name:"M0N0",value:"font-mono",description:"Designing a command-line interface, eh?"}],"projectManagement.font.default":"font-sans","projectManagement.font.enabled":!0,"projectManagement.font.legacy":"font-handwritten","viewer.history.method":["pushState","hash","none"][0],"viewer.fallback.enabled":!1,"viewer.render.method":["on-demand","all-the-things"][0],"viewer.prefetchImages":!0,"stencils.limit":300,"export.includePromo":!0,"export.checkStatusInterval":3e3,"analytics.trackErrors":!1,"comments.stencilLinks.enabled":!1,"comments.allVsCurrent.enabled":!0,"team.suggestions":!1,systemAvatars:[{name:"Lilly",ref:"bat"},{name:"Mosh Marteen",ref:"bear"},{name:"Zoé",ref:"bird"},{name:"Brosko",ref:"frog"},{name:"Kapra",ref:"goat"},{name:"Spurky",ref:"mask"},{name:"Shobo",ref:"mouse"},{name:"Marty",ref:"rabbit"},{name:"Korny",ref:"rhino"},{name:"Tillika",ref:"mumbat"},{name:"Zorki",ref:"squirrel"},{name:"Fulgerika",ref:"tiger"},{name:"Wolfy",ref:"wolf"},{name:"Oky",ref:"ochios"}]},prod:{"projectManagement.duplicateMockupMethod":["dom-based","model-based"][0],"stencilTemplates.useCompiledStencils":!0,"stencilTemplates.useJSONPStencils":!0,"projectManager.warnOnBeforeUnload":!0,"projectManagement.autoSave":!0,"analytics.trackErrors":!0},print:{"projectManagement.duplicateMockupMethod":["dom-based","model-based"][0],"stencilTemplates.useCompiledStencils":!0,"stencilTemplates.useJSONPStencils":!1}},action:function(a){return this.library[a]},sendAction:function(a,b){var c=this.library[a];typeof c=="function"&&c.apply(this.library,b)},_loadedModules:[],_reservedMethods:["initModule"],mixinModule:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this._reservedMethods.indexOf(c)===-1&&(this[c]&&console.error("Module conflict at method "+c+"when trying to load module "+a),this[c]=b[c]);this._loadedModules.push(a),typeof b.initModule=="function"&&b.initModule.apply(this)},bindToInstance:function(a,b){for(var c=0;c<b.length;c++)a[b[c]]=a[b[c]].bind(a)}};FDBK.mixinModule("pubsub",$.extend({initModule:function(){delete this.create}},AppSeeds.PubSub.create())),FDBK.mixinModule("notifications",{notes:{status:"default",STATUS_DEFAULT:"default",STATUS_GRANTED:"granted",STATUS_DENIED:"denied",STATUS_UNAVAILABLE:"unavailable",request:function(a){if(!Notification){this.status==this.STATUS_UNAVAILABLE;return}Notification.requestPermission(function(b){FDBK.notes.status=b,a&&a()})},show:function(a){if(this.status===this.STATUS_GRANTED)var b=new Notification(a.title,a);else this.status===this.UNAVAILABLE||this.status===this.STATUS_DENIED?console.info("Notifications are disabled"):this.request(function(){FDBK.notes.show(a)})}},initModule:function(){}}),FDBK.mixinModule("utils",{hasCookies:function(){return $.cookie("dummyCookie","true"),$.cookie("dummyCookie")},showCookiesAlert:function(){FDBK.openConfirmDialog({heading:FDBK.loc("_Cookies disabled"),message:FDBK.loc("_Cookies disabled message"),buttons:[{text:FDBK.loc("_OK"),classes:"close-modal"}]})},viewURL:function(a){var b=FDBK.BASE_URL+FDBK.library.currentProject.ownerUserName+"/"+FDBK.library.currentProject.uniqueId;return a&&(b+="/p:"+a),encodeURI(b)},inPreviewMode:function(){return window.location.pathname.indexOf(FDBK.PREVIEW_URL)!=-1},hasFocusedInput:function(){return document.activeElement.nodeName==="INPUT"||document.activeElement.nodeName==="TEXTAREA"||document.activeElement.nodeName==="SELECT"},urlParameter:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(window.location.search);return c?decodeURIComponent(c[1]):""},_authToken:function(){return $.cookie("moqups_ntoken")},isAccountOwner:function(){return FDBK.USER_DATA&&(!FDBK.USER_DATA.context||FDBK.USER_DATA.context.userName===FDBK.USER_DATA.userName)}}),FDBK.mixinModule("navigation",{navigateByKey:function(a,b){if(!b||!b.length)return null;var c=null;$.each(b,function(a,b){$(b).hasClass("selected")&&(c=a)}),b.removeClass("selected"),a.direction=="asc"?(c=c===null?b.length-1:c-a.steps,c<0&&(c=b.length-1)):(c=c===null?0:c+a.steps,c>b.length-1&&(c=0));var d=$(b[c]).addClass("selected");return d.hasClass("disabled")&&(d=FDBK.navigateByKey(a,b)),d},scrollToSelectedItem:function(a,b){var c=a.getBoundingClientRect(),d=b.getBoundingClientRect();b.scrollTop+=c.top-d.top},itemIsVisible:function(a,b){var c=a.getBoundingClientRect(),d=b.getBoundingClientRect(),e=c.top>=d.top&&c.bottom<=d.bottom;return e}}),FDBK.mixinModule("permissions",{initModule:function(){function b(){if(FDBK.library.currentProject&&!FDBK.library.currentProject.isPremiumProject()){var b=FDBK.library.currentProject.countStencils(),c=(b/FDBK.config("stencils.limit")*100).toFixed(0);a.show().find("i").css("width",(c>100?100:c)+"%").end().prop("title","Stencils: "+b+"/"+FDBK.config("stencils.limit"))}}var a=$("#stencil-counter");FDBK.sub("fair-use-limit",function(){FDBK.openModal("#fair-use-dialog")}),FDBK.sub("add-stencil remove-stencil open-project mockup-changed",function(){b()}),FDBK.sub("close-project",function(){$("#stencil-counter").hide()}),FDBK.sub("plan-updated",function(){FDBK.library.currentProject&&!FDBK.library.currentProject.isPremiumProject()?b():$("#stencil-counter").hide()}),$(document).on("click","#stencil-counter",function(){FDBK.openModal("#fair-use-info-dialog"),$("#dialog-stencil-counter").html(FDBK.library.currentProject.countStencils())})},hasPremiumPlan:function(){return FDBK.USER_DATA.plan&&FDBK.USER_DATA.plan!=="moqups-free"&&FDBK.USER_DATA.planStatus!=="expired"},allowProjectEdit:function(){return FDBK.library.currentProject&&!FDBK.library.currentProject.readOnly},allowSelection:function(){return FDBK.allowProjectEdit()},allowNewStencils:function(a){if(!FDBK.allowProjectEdit())return!1;var b=FDBK.library.currentProject.countStencils(),c=!FDBK.library.currentProject.isPremiumProject(),d=c&&b>=FDBK.config("stencils.limit");return d&&!a&&FDBK.pub("fair-use-limit"),!d},allowProjectSettings:function(){return FDBK.allowProjectEdit()},allowSaveProject:function(){return FDBK.allowProjectEdit()},allowEditPages:function(){return FDBK.allowProjectEdit()},allowRevisions:function(){return FDBK.hasPremiumPlan()||FDBK.library.currentProject&&FDBK.library.currentProject.isPremiumProject()},allowExport:function(){return FDBK.hasPremiumPlan()||FDBK.library.currentProject&&FDBK.library.currentProject.isPremiumProject()},allowMasters:function(){return FDBK.hasPremiumPlan()||FDBK.library.currentProject&&FDBK.library.currentProject.isPremiumProject()},allowEditMasters:function(){return FDBK.library.isUserLoggedIn()&&FDBK.allowProjectEdit()&&FDBK.allowMasters()},allowShareProject:function(){return FDBK.library.currentProject},allowPrivacy:function(){return FDBK.library.isUserLoggedIn()&&FDBK.hasPremiumPlan()},allowCollaboration:function(){return FDBK.library.isUserLoggedIn()&&FDBK.hasPremiumPlan()},allowReceipt:function(){var a=FDBK.USER_DATA.billingInfo,b=a.firstName&&a.lastName&&a.streetAddress&&a.countryCode,c=a.accountType==="personal"&&b,d=a.accountType==="company"&&b&&a.company;return c||d},showActiveProjectsAlert:function(a){FDBK.openConfirmDialog({heading:FDBK.loc("_Quota exceeded"),message:FDBK.hasPremiumPlan()?FDBK.loc("needsMoreActiveProjectsPremium"):FDBK.loc("needsMoreActiveProjectsFree"),buttons:[{text:FDBK.loc("_Upgrade plan"),classes:"green right",onClick:function(){FDBK.showPricingPlans("projects-limit")}},{text:FDBK.loc("_Not Yet"),classes:"close-modal"}]}),a&&FDBK.showServerError({message:FDBK.loc("_WARNING: your project cannot be saved."),style:"error"})},showCommentsAlert:function(){FDBK.openConfirmDialog({heading:FDBK.loc("_Upgrade plan"),message:FDBK.loc("upgradeComments"),buttons:[{text:FDBK.loc("_Upgrade plan"),classes:"green right",onClick:function(){FDBK.showPricingPlans("comments")}},{text:FDBK.loc("_Not Yet"),classes:"close-modal"}]})},showExportAlert:function(){FDBK.openConfirmDialog({heading:FDBK.loc("_Upgrade plan"),message:FDBK.loc("Upgrade now to enable PDF/PNG export and other seriously awesome features."),buttons:[{text:FDBK.loc("_Upgrade plan"),classes:"green right",onClick:function(){FDBK.showPricingPlans("export")}},{text:FDBK.loc("_Not Yet"),classes:"close-modal"}]})},showPublishAlert:function(){FDBK.openConfirmDialog({heading:FDBK.loc("_Upgrade plan"),message:FDBK.loc("Upgrade now to enable PDF/PNG publishing and other seriously awesome features."),buttons:[{text:FDBK.loc("_Upgrade plan"),classes:"green right",onClick:function(){FDBK.showPricingPlans("publish")}},{text:FDBK.loc("_Not Yet"),classes:"close-modal"}]})},showRevisionsAlert:function(){FDBK.openConfirmDialog({heading:FDBK.loc("_Upgrade plan"),message:FDBK.loc("upgradeRevisions"),buttons:[{text:FDBK.loc("_Upgrade plan"),classes:"green right",onClick:function(){FDBK.showPricingPlans("revisions")}},{text:FDBK.loc("_Not Yet"),classes:"close-modal"}]})},showUploadLimitAlert:function(){FDBK.openConfirmDialog({heading:FDBK.loc("_Upload quota exceeded"),message:FDBK.loc("needsMoreUploadQuota"),buttons:[{text:FDBK.loc("_Upgrade plan"),classes:"green right",onClick:function(){FDBK.showPricingPlans("upload-limit")}},{text:FDBK.loc("_Not Yet"),classes:"close-modal"}],width:"500px"})}}),FDBK.mixinModule("localization",{_currentLanguage:"en",_currentDictionary:null,_languages:{},initModule:function(){FDBK.sub("dom-ready language-set",FDBK.i18n)},i18n:function(a){if(!jQuery)return;var b=$(a||$("body"));b.find("[data-i18n]").each(function(){var a=$(this).data("i18n");$(this).html(FDBK.loc(a))}),b.find("[data-i18n-placeholder]").each(function(){var a=$(this).data("i18n-placeholder");$(this).prop("placeholder",FDBK.loc(a))}),b.find("[data-i18n-value]").each(function(){var a=$(this).data("i18n-value");$(this).val(FDBK.loc(a))}),b.find("[data-i18n-title]").each(function(){var a=$(this).data("i18n-title");$(this).prop("title",FDBK.loc(a))})},loadLanguage:function(a,b){this._languages[a]=b},setLanguage:function(a){this._currentLanguage=a,this._currentDictionary=this._languages[a],FDBK.pub("language-set",a)},loc:function(a){return this._currentDictionary[a]||a},pluralize:function(a,b){var c=this.loc(a);return typeof c=="string"?a:typeof c=="function"?c(b):b===0?c[0]:b===1?b+" "+c[1]:b+" "+c[2]}}),FDBK.mixinModule("API",{API:{CALL_LOGIN:{url:"jlogin",type:"POST"},CALL_SIGN_UP:{url:"a/user/signup",type:"POST"},CALL_SIGN_UP_BETA:{url:"a/user/signup/beta",type:"POST"},CALL_CHECK_EMAIL:{url:"a/email/availability",type:"GET"},CALL_CHECK_USER:{url:"a/user/availability",type:"GET"},CALL_RECOVER_PASSWORD:{url:"a/user/recover",type:"GET"},CALL_CHANGE_PASSWORD:{url:"a/user/chngpwd",type:"POST"},CALL_RESET_PASSWORD:{url:"a/user/chngpwd/reset",type:"POST"},CALL_GET_CURRENT_USER:{url:"a/user/current",type:"GET"},CALL_UPDATE_CURRENT_USER:{url:"a/user/update",type:"POST"},CALL_GET_PROJECT_CONTENT_STREAM:{BASE_URL:function(){return FDBK.WEB_SOCKET_URL},url:"a/projects/",type:"GET",requiresLogin:!0},CALL_GET_PROJECT_CONTENT_STREAM_VIEW:{BASE_URL:function(){return FDBK.WEB_SOCKET_URL},url:"a/projects/",type:"GET",requiresLogin:!1},CALL_SAVE_PROJECT_SYNC_ERROR:{BASE_URL:function(){return FDBK.WEB_SOCKET_URL},url:"a/projects/",type:"POST",requiresLogin:!1},CALL_CREATE_PROJECT_REVISION:{BASE_URL:function(){return FDBK.WEB_SOCKET_URL},url:"a/projects/",type:"POST",requiresLogin:!0},CALL_CLONE_PROJECT_CONTENT_STREAM:{BASE_URL:function(){return FDBK.WEB_SOCKET_URL},url:"a/projects/",type:"POST",requiresLogin:!0},CALL_CREATE_PROJECT:{url:"a/prj/create",type:"POST",requiresLogin:!0},CALL_TOUCH_PROJECT:{url:"a/prj/touch",type:"POST",requiresLogin:!0},CALL_UPDATE_PROJECT_METADATA:{url:"a/prj/updateMetadata",type:"POST",requiresLogin:!0},CALL_UPDATE_PROJECT_CONTENT:{url:"a/prj/updateContent",type:"POST",requiresLogin:!0},CALL_GET_PROJECT:{url:"a/prj/get",type:"GET",requiresLogin:!0},CALL_SHARE_PROJECT:{url:"a/prj/share",type:"POST",requiresLogin:!0},CALL_DELETE_PROJECT:{url:"a/prj/del",type:"GET",requiresLogin:!0},CALL_LEAVE_PROJECT:{url:"a/prj/leavecollab",type:"POST",requiresLogin:!0},CALL_DUPLICATE_PROJECT:{url:"a/prj/clone",type:"POST",requiresLogin:!0},CALL_ARCHIVE_PROJECT:{url:"a/prj/archive",type:"GET",requiresLogin:!0},CALL_UNARCHIVE_PROJECT:{url:"a/prj/unarchive",type:"GET",requiresLogin:!0},CALL_GET_ALL_PROJECTS:{url:"a/prj/projects",type:"GET",requiresLogin:!0},CALL_GET_ARCHIVED_PROJECTS:{url:"a/prj/projects/archived",type:"GET",requiresLogin:!0},CALL_GET_ALL_IMAGES:{url:"a/images",type:"GET",requiresLogin:!0},CALL_DELETE_IMAGE:{url:"a/image/del",type:"GET",requiresLogin:!0},CALL_UPLOAD:{url:"upload",type:"POST",requiresLogin:!0},CALL_UPLOAD_AVATAR:{url:"upload/avatar",type:"POST",requiresLogin:!0},CALL_SET_AVATAR:{url:"a/user/setavatar",type:"POST",requiresLogin:!0},CALL_EXPORT_GOOGLE_DRIVE:{url:"a/googledrive/export/",type:"POST",requiresLogin:!0},CALL_EXPORT_DROPBOX:{url:"a/dropbox/export/",type:"POST",requiresLogin:!0},CALL_EXPORT_LOCAL:{url:"a/export/link/",type:"POST",requiresLogin:!0},CALL_GET_EXPORT_STATUS:{url:"a/export/status",type:"GET",requiresLogin:!0},CALL_GET_EXPORT:{url:"a/export/get",type:"GET",requiresLogin:!0},CALL_GET_SERVICES:{url:"a/services",type:"GET",requiresLogin:!0},CALL_REVOKE_GOOGLE_DRIVE:{url:"a/googledrive/revoke",type:"GET",requiresLogin:!0},CALL_REVOKE_DROPBOX:{url:"a/dropbox/revoke/",type:"GET",requiresLogin:!0},CALL_SET_DRIVE_SYNC:{url:"a/usr/setsettings/autosyncdrive",type:"POST",requiresLogin:!0},CALL_AUTHORIZE_SERVICE:{url:"a/{serviceName}/authorizationUrl",type:"GET",requiresLogin:!0},CALL_PUBLISH_PNG:{url:"a/{projectUniqueId}/publish/png",type:"POST",requiresLogin:!0},CALL_PUBLISH_PNG2X:{url:"a/{projectUniqueId}/publish/png2x",type:"POST",requiresLogin:!0},CALL_PUBLISH_PDF:{url:"a/{projectUniqueId}/publish/pdf",type:"POST",requiresLogin:!0},CALL_PUBLISH_STATUS:{url:"a/publish/{publishUniqueId}/status",type:"GET",requiresLogin:!0},CALL_PUBLISH_LIST:{url:"a/{projectUniqueId}/publish/list",type:"POST",requiresLogin:!0},CALL_PUBLISH_DELETE:{url:"a/publish/{publishId}",type:"DELETE",requiresLogin:!0},CALL_GET_ALL_USER_SETTINGS:{url:"a/usr/getsettings",type:"GET",requiresLogin:!0},CALL_SET_ALL_USER_SETTINGS:{url:"a/usr/setsettings",type:"POST",requiresLogin:!0},CALL_SET_SEND_INVOICE:{url:"a/usr/setsettings/sendinvoice",type:"POST",requiresLogin:!0},CALL_ADD_COLLABORATORS:{url:"a/prj/addcollab",type:"POST",requiresLogin:!0},CALL_REMOVE_COLLABORATOR:{url:"a/prj/delcollab",type:"POST",requiresLogin:!0},CALL_GET_COLLABORATORS:{url:"a/prj/getcollab",type:"GET",requiresLogin:!0},CALL_UPDATE_COLLABORATOR:{url:"a/prj/addcollab",type:"POST",requiresLogin:!0},CALL_SET_PROJECT_PRIVACY:{url:"a/prj/privacy",type:"POST",requiresLogin:!0},CALL_GET_TOKEN_INFO:{url:"a/tokeninfo",type:"GET",requiresLogin:!1},CALL_ACTIVATE_USER:{url:"a/user/activate",type:"POST",requiresLogin:!1},CALL_ADD_COMMENT:{url:"a/prj/comments/post",type:"POST",requiresLogin:!1},CALL_GET_COMMENTS:{url:"a/prj/comments/get",type:"GET",requiresLogin:!1},CALL_DELETE_COMMENTS:{url:"a/prj/comments/del",type:"GET",requiresLogin:!1},CALL_GET_PLANS:{url:"a/subscr/plans",type:"GET",requiresLogin:!1},CALL_GET_PAYMENT_HISTORY:{url:"a/subscr/payhistory",type:"GET",requiresLogin:!0},CALL_GET_CC_INFO:{url:"a/subscr/cardinfo",type:"GET",requiresLogin:!0},CALL_VERIFY_DISCOUNT_CODE:{url:"a/subscr/voucher/verify",type:"GET",requiresLogin:!0},CALL_BANK_TRANSFER:{url:"a/subscr/bankorder",type:"POST",requiresLogin:!0},CALL_UPDATE_BILLING:{url:"a/user/updatebilling",type:"POST",requiresLogin:!0},CALL_GET_PAYMENT_URL:{url:"a/subscr/url",type:"POST",requiresLogin:!0},CALL_GET_DOWNGRADE_INFO:{url:"a/subscr/downgradeinfo",type:"GET",requiresLogin:!0},CALL_UPGRADE_REMINDER:{url:"a/upgradereminder",type:"POST",requiresLogin:!0},CALL_SET_NOTIFICATION:{url:"a/notifications",type:"POST",requiresLogin:!1},CALL_CONTEXT_SWITCH:{url:"a/user/switch",requiresLogin:!0,type:"POST"},CALL_TEAM_ADD:{url:"a/team/add",requiresLogin:!0,type:"POST"},CALL_TEAM_LIST:{url:"a/team/list",requiresLogin:!0,type:"GET"},CALL_TEAM_SUGGESTIONS:{url:"a/user/suggestions",requiresLogin:!0,type:"GET"},CALL_TEAM_UPDATE:{url:"a/team/update",requiresLogin:!0,type:"POST"},CALL_TEAM_LEAVE:{url:"a/team/leave",requiresLogin:!0,type:"GET"},CALL_TEAM_REMOVE:{url:"a/team/remove",requiresLogin:!0,type:"POST"},CALL_TEAM_RENAME:{url:"a/team/rename",requiresLogin:!0,type:"POST"},xhr:function(a,b){var c=a.url;return b=b||{},b.restParams&&(c=c.replace(/\{(\w*)}/g,function(a,c){return b.restParams.hasOwnProperty(c)?b.restParams[c]:""})),$.ajax({url:(a.BASE_URL&&a.BASE_URL()||FDBK.BASE_URL||"/")+c+(b.urlParams||[]).join("/"),type:b.type||a.type,contentType:b.contentType||a.contentType||"application/json",dataType:b.dataType||a.dataType||"json",data:b.data,cache:!1,beforeSend:function(){if(a.requiresLogin){if(!FDBK.hasCookies())return FDBK.showCookiesAlert(),!1;if(!FDBK.library.isUserLoggedIn())return FDBK.library.askForSession(),!1}return!0},success:function(){var a=arguments[2].getResponseHeader("Date"),c=arguments[2].getResponseHeader("x-version");c&&FDBK.CSS_BASE_URL.indexOf(c)<0&&FDBK.pub("update-available"),FDBK.SERVER_TIME=a&&moment(a).isValid()?new Date(a):new Date,b.success&&typeof b.success=="function"&&b.success.apply(this,arguments)},error:function(){a.requiresLogin&&FDBK.library.checkSession(),b.error&&typeof b.error=="function"&&b.error.apply(this,arguments)},traditional:b.traditional})}}}),FDBK.loadLanguage("en",{"edit.cut":"Cut","edit.copystyle":"Copy Style","edit.copy":"Copy","edit.paste":"Paste","edit.pastestyle":"Paste Style","edit.duplicate":"Duplicate","edit.delete":"Delete","edit.edit":"Edit","edit.forward":"Bring Forward","edit.front":"Bring to Front","edit.backward":"Send Backward","edit.back":"Send to Back","_Dismiss this message":"Dismiss this message","_Install Moqups in Google Web Store":"Install Moqups in Google Web Store","_Getting started":"Getting started","_Share & Preview":"Share & Preview","_Project link":"Project link","_View project":"View project",_Actions:"Actions","_Sharing & Privacy":"Sharing & Privacy",_Preview:"Preview","_Export...":"Export...","_Publish...":"Publish...",_Settings:"Settings","_Create hotspots":"Create hotspots","_Add link":"Add link","_Sending Request...":"Sending Request...","_Recent colors":"Recent colors",_Apply:"Apply",_Clear:"No Icon","_Search icons":"Search icons","_Get over 1500 icons like these!":"Get over 1500 icons like these!","_Loading Image":"Loading image. Please wait.","_Upload Images":"Upload images",_Uploading:"Uploading...","_Upload done!":"Upload done!","_Untitled Page":"Untitled Page","_Untitled Master":"Untitled Master","_Untitled Project":"Untitled Project","_Quick Introduction to Moqups":"Quick Introduction to Moqups","_No Description":"No description.","_Drag to Rearrange":"Drag to rearrange","_Rename Page":"Rename","_Last Page":"I'm sorry, Dave.<br/>I'm afraid I can't delete the only page in this project.","_Delete Image":"Are you sure you want to delete this picture?","_Delete Project":"Are you sure you want to delete this project?","_Delete Page":"Are you sure you want to delete the selected page?","_Delete master":"Are you sure you want to delete this master page?","_Leave Project":"Are you sure you want to leave? You will no longer be able to collaborate on this project.","_Number of Pages":["no pages","page","pages"],"_Search images":"Search images","_Search stencils":"Search stencils","_Search pages":"Search pages","_Fallback image not available":"Image not available","_You need to log in to perform this action.":"You need to log in to perform this action.","_You need an account to perform this action.":"You need an account to perform this action.","_Invalid username or password":"Invalid username or password","_Oops. Something went wrong. Please try again.":"Oops. Something went wrong. Please try again.","_Open project":"Open project",projectNameBlank:"Project name cannot be an empty string.",imageUploadErrorTitle:"File could not be uploaded:",imageNameBlank:"File name cannot be an empty string.",imageExtensionNotValid:"Only JPG, PNG and GIF files are currently supported.",imageNameTooLong:"File name is too long.",imageCorrupted:"File is corrupted or invalid.",error:"Oops. Something went wrong. Please try again.",emailBlank:"Email is required.",emailNotUnique:"This email is already in use. Try another?",emailNotValid:"Invalid email address.",usernameNotUnique:"Someone already has this username. Try another?",usernameBlank:"Username is required.",usernameNotValid:"Username may only contain letters, numbers, dashes, underscores and dots.",passwordLength:"Password must be at least 5 characters long.",passwordBlank:"Password is required.",oldPasswordNoMatch:"Old password is incorrect. Please try again.",inviteCodeBlank:"Invite code is required.",inviteCodeUsed:"Invite code has already been used.",inviteCodeNotValid:"Invite code is not valid.","_This invite code is invalid or has already been used.":"This invite code is invalid or has already been used.","_Registration disabled":"Registration disabled","_Beta only.":"While in beta, registration is only available by invitation. Please be patient until you receive an invitation or we get out of beta. Thank you.",emailNotRegistered:"The email you typed is not associated with an account.",resetTokenNotValid:"Reset token is not valid, please ask for a new token.",resetTokenExpired:"Reset token has expired, please ask for a new token.","_Password changed":"Password changed","_Password successfully changed":"Your password was successfully changed. You can log in with your new password.","_Password cannot be empty.":"Password cannot be empty.","_Log in":"Log in","_Passwords do not match.":"Passwords do not match.","_Your data was successfully saved.":"Your data was successfully saved.","_Loading project, please wait...":"Loading project, please wait...","_Please enter a name for your new project":"Please enter a name for your new project","_Create new project":"Create new project","_You have unsaved changes in current project.":"You have unsaved changes in your project.","_Your session has been lost. Please login again to avoid data loss.":"Your session has been lost. Please login again to avoid data loss.","_Save changes":"Save changes",_Ignore:"Ignore",_Cancel:"Cancel","_Delete image":"Delete image","_Selected image will be deleted.":"Selected image will be deleted.",_Delete:"Delete",_Remove:"Remove","_Delete page":"Delete page","_Selected page will be deleted.":"This page has things on it.<br/>Are you sure you want to delete it?","_Selected master will be deleted and removed from the pages that used it":"The master page will be deleted and removed from any pages that use it",_OK:"OK",_Close:"Close","_Export Project":"Export Project","_Please wait, your export is in progress...":"Please wait, your export is in progress...","_Export in the background":"Export in the background","_Export in progress...":"Export in progress...","_Export finished!":"Export finished!","_Export failed":"Export failed","_There is an export in progress. Please try again after it's finished.":"There is an export in progress. Please try again after it's finished.","_The project was exported to your Google Drive account.":"The project was exported to your Google Drive account.","_The project was exported to your Dropbox account.":"The project was exported to your Dropbox account.","_There was an error creating your project. Please contact us if the problem persists.":"There was an error creating your project. Please contact us if the problem persists.","_Published item was successfully deleted.":"Published item was successfully deleted.","_Recover project heading":"Recover project","_Recover project in progress":"Please wait while your project is being restored...","_Recover project confirmation":"We're going to try to recover your project.<br/>Your current project will be overwritten.","_Recover project failure":"Project recovery failed. Please contact customer support to troubleshoot this issue.","_Recover project not found":"Couldn't find any project to recover.","_Recover project not supported":"Your browser doesn't seem to support local storage. Sorry about that.","_Remove all projects":"This will remove all the projects saved in local storage.","_Cookies disabled message":"It looks like cookies are disabled in your browser. Moqups needs cookies to work. Please enable them and try again.","_Cookies disabled":"Cookies are disabled","_There was an error synchronizing changes for your project. To avoid any issues please reload your project.":"There was an error synchronizing changes for your project. To avoid any issues please reload your project.","_Reload Project":"Reload Project","_You don't have access to this project":"You don't have access to this project","_Local storage remove projects confirmation":"Are you sure you want to remove all projects from local storage?","_Project not found.":"Project not found, please contact us if the problem persists.","_Project is archived.":"Project is archived, you have to restore it before you can open it.","_Project is visible to anyone who knows the link":"Project is visible to anyone who knows the link","_Project is visible to you and collaborators":"Project is visible to you and collaborators","_Please contact us if the problem persists.":"Please contact us if the problem persists.","_URL link":"URL: ","_Page link":"Page: ",_Warning:"Warning","_Unsaved changes":"Unsaved changes","_Last saved":"Last saved",_NewerVersionLocallyMessage:"Moqups was previously unable to synchronize with the server. This might be due to network errors.<br/>Which version do you want to keep?","_Remote version":"Remote version","_Local version":"Local version","_There is a problem with your session. Please reload the page":"There is a problem with your session. Please reload the page.","_There was an error exporting your project. Please try again.":"There was an error exporting your project. Please try again.","_Keep local version":"Keep local version","_Keep remote version":"Keep remote version",_View:"View",_Copy:"Copy","_Duplicating Project...":"Duplicating Project...","_There was an error duplicating your project":"There was an error duplicating your project.","_Create new revision":"Create new revision","_Rename revision":"Rename revision","_Create new project from revision":"Create new project from revision","_Please describe the changes you have made in this revision:":"Describe the changes you've made in this revision:","_Create Revision":"Create Revision","_Create Project":"Create Project","_Delete Revision":"Delete Revision","_Enter new project name: ":"Enter new project name: ","_Revision saved succesfully":"Revision saved succesfully","_There was an error saving your revision":"There was an error saving your revision. Please try again","_Restore project":"Restore project","_Revised on ":"Revised on ","_Are you sure you want to delete this revision?":"Are you sure you want to delete this revision?","_Are you sure you want to restore the current project to an older revision ?":"Are you sure you want to restore the current project to an older revision ?","_You are now working offline. Your changes will be synchronized once the connection is established.":"You are now working offline. Your changes will be synchronized once the connection is established.","_There was an error while deleting the comment. Please try again.":"There was an error while deleting the comment. Please try again.","_There was an error posting your comment. Please try again.":"There was an error posting your comment. Please try again.","_Are you sure you want to delete this comment ?":"Are you sure you want to delete this comment?","_You're not authorized to comment on this project":"You're not authorized to comment on this project","_Are you sure you want to make this project public?":"Are you sure you want to make this project public?","_Are you sure you want to remove this collaborator?":"Are you sure you want to remove this collaborator?","_Project was shared with new collaborators":function(a){return"Project was shared with "+a+(a===1?" new collaborator.":" new collaborators.")},_Master:"Master",_pages:["","page","pages"],"_Sending order...":"Sending order...","_Order could not be processed.":"Order could not be processed.","_Card number is required.":"Card number is required.","_Card expiration date is required.":"Card expiration date is required.","_Name on card is required.":"Name on card is required.","_Processing...":"Processing. Please wait...","_Discount code was successfully applied.":"Discount code was successfully applied.","_Invalid discount code.":"Invalid discount code.","_Discount code could not be processed.":"Discount code could not be processed.","_Upgrade plan":"Upgrade your plan","_Not Yet":"Maybe later","_Quota exceeded":"Quota exceeded",needsMoreActiveProjectsPremium:"You have reached the maximum number of active projects for the current plan. Please consider upgrading your plan or archive some of the <a href='#' class='open-projects'>active projects</a>.",needsMoreActiveProjectsFree:"You have reached the maximum number of active projects for the current plan. Please consider upgrading your plan or delete some of the <a href='#' class='open-projects'>active projects</a>.","_WARNING: your project cannot be saved.":"WARNING: your project cannot be saved.","_Upload quota exceeded":"You've excedeed the disk quota for current plan",needsMoreUploadQuota:"Please upgrade your plan in order to store more files.",upgradeRevisions:"Go premium to activate project revisions and other seriously awesome features.",upgradeComments:"Go premium to activate project comments and other seriously awesome features.",creditCardRequired:"Please select your preferred payment method.",notOwnerPaymentMessage:"Payment upgrades, downgrades and history are only available to team owners.<br/>Please contact your team owner for more information.",subscriptionNotPastDue:"There was a problem processing your card. Please contact us if the issue persists.",subscriptionNotExpired:"There was a problem processing your card. Please contact us if the issue persists.",firstNameBlank:"First name is required.",lastNameBlank:"Last name is required.",companyBlank:"Company name is required.",vatIdBlank:"VAT ID is required for EU countries.",vatIdNotValid:"Your VAT ID appears to be invalid. Please try again or contact us if the issue persists.",streetAddressBlank:"Address is required.",countryBlank:"Country name is required.",billingAddressSuccess:"Billing address was successfully updated. All upcoming receipts will reflect this information.","_No comments for this page.":"No comments for this page yet.",_commentsCount:function(a){return a===1?a+" Comment":(a||"")+" Comments"},"_You are no longer part of this team.":"You are no longer part of this team.","_Change Team":"Change Team","_Your profile was successfully updated.":"Your profile was successfully updated.","_Are you sure you want to leave this team?":"Are you sure you want to leave this team?","_Are you sure you want to remove this member from the team?":"Are you sure you want to remove this member from the team?","_Convert normal page to master page":"Normal page &rarr; master page","_Page has master page":"This page has a master and we need to handle it first.<br/><br/>You can either merge the master in before converting the page, or simply remove it.","_Convert master page to normal page":"Master page &rarr; normal page","_Master in use":"This master is in use. By converting, it will be removed from all pages using it.","_Apply master page to all pages":"Apply master page to all pages","_All normal pages will receive this as master.":"All normal pages will receive this page as master.","_Remove master page from all pages":"Remove master page from all pages","_This master will be removed from any page currently using it.":"This master will be removed from any page currently using it.","_Remove master":"Remove master","_Apply master":"Apply master","_Convert to normal page":"Convert to normal page","_Merge master into the current page":"Merge master into page","_The content of the master page will be copied into the current page.":"The content of the master page will be copied into the current page.","_Merge master":"Merge master","_Merge master first":"Merge master first","_Master usage":function(a){return"Used in "+a+(a===1?" page":" pages")}}),FDBK.loadLanguage("fr",{"_Loading Image":"Loading l'image. Le please wait.","_Upload Images":"Upload des images",_Uploading:"Uploading...","_Upload done!":"Upload done!","_Untitled Page":"Le untitled page","_Untitled Project":"Le untitled","_No Description":"Pas de description.","_Drag to Rearrange":"Drag pour rearranger","_Rename Page":"Renamer","_Last Page":"Ne peut pas deleter le only page","_Delete Image":"Veux-tu deleter cette image?","_Delete Project":"Veux-tu deleter cette project?","_Delete Page":"Tu est sure que tu veux deleter cette page?","_Number of Pages":["pas des pages","page","pages"],"_URL link":"URL: ","_Mockup link":"Page: "}),FDBK.setLanguage("en"),FDBK.macShortcuts={copy:{name:"&#8984;C",keys:"cmd+c"},copystyle:{name:"&#x2325;C",keys:"alt+c"},paste:{name:"&#8984;V",keys:"cmd+v"},pastestyle:{name:"&#x2325;V",keys:"alt+v"},cut:{name:"&#8984;X",keys:"cmd+x"},duplicate:{name:"&#8984;D",keys:"cmd+d"},duplicateAlt:{name:"&#x2325;-Drag",keys:"alt+drag"},"delete":{name:"&#9003;",keys:"backspace"},edit:{name:"&#8617;",keys:"return"},forward:{name:"&#8984;&#8593;",keys:"cmd+up"},front:{name:"&#8984;&#8679;&#8593;",keys:"cmd+shift+up"},backward:{name:"&#8984;&#8595;",keys:"cmd+down"},back:{name:"&#8984;&#8679;&#8595;",keys:"cmd+shift+down"},save:{name:"&#8984;S",keys:"cmd+s"},saveAs:{name:"&#8984;&#8679;S",keys:"cmd+shift+s"},open:{name:"&#8984;O",keys:"cmd+o"},history:{name:"&#8997;&#8984;H",keys:"cmd+alt+h"},revisions:{name:"&#8997;&#8984;R",keys:"cmd+alt+r"},preview:{name:"&#8984;&#8679;P",keys:"cmd+shift+p"},email:{name:"&#8997;&#8984;E",keys:"cmd+alt+e"},"export":{name:"&#8997;&#8984;X",keys:"cmd+alt+x"},undo:{name:"&#8984;Z",keys:"cmd+z"},redo:{name:"&#8984;&#8679;Z",keys:"cmd+shift+z"},group:{name:"&#8984;G",keys:"cmd+g"},lock:{name:"&#8984;L",keys:"cmd+l"},esc:{name:"&#9099;",keys:"esc"},apply:{name:"&#8984;&#8617;",keys:"cmd+return"},selectAll:{name:"&#8984;A",keys:"cmd+a"},multiple:{name:"&#8984;-Click",keys:"cmd+click"},toggleSel:{name:"&#8679;-Click",keys:"shift+click"},search:{name:"&#8984;F",keys:"cmd+f"},pan:{name:"Space-Drag",keys:"space+drag"},up:{name:"&#8593;",keys:"up"},down:{name:"&#8595;",keys:"down"},left:{name:"&#8592;",keys:"left"},right:{name:"&#8594;",keys:"right"},keyShortcuts:{name:"&#8984;?",keys:"cmd+/"},hotspot:{name:"&#8984;K",keys:"cmd+k"},"sel-hotspot":{name:"&#8984;&#8679;K",keys:"cmd+shift+k"},linking:{name:"&#x2325;K",keys:"alt+k"}},FDBK.winShortcuts={copy:{name:"Ctrl+C",keys:"ctrl+c"},copystyle:{name:"Alt+C",keys:"alt+c"},paste:{name:"Ctrl+V",keys:"ctrl+v"},pastestyle:{name:"Alt+V",keys:"alt+v"},cut:{name:"Ctrl+X",keys:"ctrl+x"},duplicate:{name:"Ctrl+D",keys:"ctrl+d"},duplicateAlt:{name:"Alt+Drag",keys:"alt+drag"},"delete":{name:"Backspace",keys:"del backspace"},edit:{name:"Enter",keys:"return"},forward:{name:"Ctrl+&#8593;",keys:"ctrl+up"},front:{name:"Ctrl+Shift+&#8593;",keys:"ctrl+shift+up"},backward:{name:"Ctrl+&#8595;",keys:"ctrl+down"},back:{name:"Ctrl+Shift+&#8595;",keys:"ctrl+shift+down"},save:{name:"Ctrl+S",keys:"ctrl+s"},saveAs:{name:"Ctrl+Shift+S",keys:"cmd+shift+s"},open:{name:"Ctrl+O",keys:"ctrl+o"},history:{name:"Ctrl+Alt+H",keys:"ctrl+alt+h"},revisions:{name:"Ctrl+Alt+R",keys:"ctrl+alt+r"},preview:{name:"Ctrl+Alt+P",keys:"ctrl+alt+p"},email:{name:"Ctrl+Alt+E",keys:"ctrl+alt+e"},"export":{name:"Ctrl+Alt+X",keys:"ctrl+alt+x"},undo:{name:"Ctrl+Z",keys:"ctrl+z"},redo:{name:"Ctrl+Shift+Z",keys:"ctrl+shift+z"},group:{name:"Ctrl+G",keys:"ctrl+g"},lock:{name:"Ctrl+L",keys:"ctrl+l"},esc:{name:"Esc",keys:"esc"},apply:{name:"Ctrl+Enter",keys:"ctrl+return"},selectAll:{name:"Ctrl+A",keys:"ctrl+a"},multiple:{name:"Ctrl+Click",keys:"ctrl+click"},toggleSel:{name:"Shift+Click",keys:"shift+click"},search:{name:"Ctrl+F",keys:"ctrl+f"},pan:{name:"Space+Drag",keys:"space+drag"},up:{name:"&#8593;",keys:"up"},down:{name:"&#8595;",keys:"down"},left:{name:"&#8592;",keys:"left"},right:{name:"&#8594;",keys:"right"},keyShortcuts:{name:"F1",keys:"F1"},hotspot:{name:"Ctrl+K",keys:"ctrl+k"},"sel-hotspot":{name:"Ctrl+Shift+K",keys:"ctrl+shift+k"},linking:{name:"Alt+K",keys:"alt+k"}},FDBK.mixinModule("regexes",{R_VIEWER_PAGE_PATTERN:/\/p:([^\/]+)\/?/}),FDBK.SVGIcons={arrowDown:{path:"M2 2h6.3l-3.1 4.7-3.1-4.7z",size:10},add:{path:"M20 6.667h-6.667v-6.667h-6.667v6.667h-6.667v6.667h6.667v6.667h6.667v-6.667h6.667z",size:20},remove:{path:"M0 7h20v6.0h-20z",size:20},removex:{path:"M12.242 9.376l3.81 3.81c0.248 0.247 0.248 0.649 0 0.897l-1.344 1.344c-0.248 0.248-0.649 0.248-0.897 0l-3.811-3.81-3.811 3.81c-0.248 0.248-0.649 0.248-0.896 0l-1.345-1.344c-0.248-0.248-0.248-0.649 0-0.897l3.811-3.81-3.811-3.811c-0.248-0.248-0.248-0.649 0-0.897l1.346-1.344c0.248-0.247 0.649-0.247 0.896 0l3.81 3.811 3.811-3.811c0.248-0.248 0.649-0.248 0.897 0l1.344 1.345c0.247 0.247 0.247 0.649 0 0.897l-3.81 3.81z",size:20},duplicate:{path:"M18.895 7.645c0.537 0.537 0.987 1.537 1.085 2.355h-6.23v-6.23c0.818 0.098 1.818 0.548 2.355 1.085l2.79 2.79zM12.5 11.25h7.5v7.188c0 0.859-0.703 1.563-1.563 1.563h-11.875c-0.859 0-1.563-0.703-1.563-1.563v-13.125c0-0.859 0.703-1.563 1.563-1.563h5.938v7.5zM3.75 2.5v13.75h-2.266c-0.816 0-1.484-0.668-1.484-1.484v-13.281c0-0.816 0.668-1.484 1.484-1.484h12.031c0.816 0 1.484 0.668 1.484 1.484v1.016h-11.25z",size:20},heart:{path:"M15 8.111c-2.416 0-4.375 1.974-4.375 4.409 0 1.387 0.637 2.623 1.631 3.432-1.285 0.953-2.256 1.555-2.256 1.555s-8.75-5.407-8.75-9.764c0-2.625 1.614-5.249 4.688-5.249 2.813 0 4.063 2.685 4.063 2.685s1.094-2.685 4.063-2.685 4.635 2.572 4.635 5.249c0 0.599-0.17 1.214-0.448 1.833-0.801-0.898-1.959-1.465-3.25-1.465zM15 8.74c2.071 0 3.75 1.692 3.75 3.779s-1.679 3.78-3.75 3.78c-2.071 0-3.75-1.692-3.75-3.78s1.679-3.779 3.75-3.779zM13.125 13.149h1.25v1.26h1.25v-1.26h1.25v-1.26h-1.25v-1.26h-1.25v1.26h-1.25v1.26z",size:20},twitter:{path:"M20 3.797c-0.736 0.326-1.527 0.547-2.357 0.646 0.847-0.508 1.498-1.312 1.804-2.27-0.793 0.47-1.671 0.812-2.606 0.996-0.748-0.797-1.815-1.296-2.995-1.296-2.266 0-4.103 1.837-4.103 4.103 0 0.322 0.036 0.635 0.106 0.935-3.41-0.171-6.434-1.805-8.457-4.287-0.353 0.606-0.556 1.311-0.556 2.063 0 1.424 0.724 2.68 1.825 3.415-0.673-0.021-1.305-0.206-1.858-0.513-0 0.017-0 0.034-0 0.052 0 1.988 1.414 3.646 3.291 4.023-0.344 0.094-0.707 0.144-1.081 0.144-0.264 0-0.521-0.026-0.772-0.074 0.522 1.63 2.038 2.817 3.833 2.85-1.404 1.101-3.174 1.757-5.096 1.757-0.331 0-0.658-0.019-0.979-0.057 1.816 1.164 3.973 1.844 6.29 1.844 7.547 0 11.675-6.252 11.675-11.675 0-0.178-0.004-0.355-0.012-0.531 0.802-0.579 1.497-1.301 2.048-2.124z",size:20},facebook:{path:"M11.247 20h-3.747v-10h-2.5v-3.446l2.5-0.001-0.004-2.030c0-2.812 0.762-4.522 4.074-4.522h2.757v3.447h-1.723c-1.29 0-1.352 0.482-1.352 1.381l-0.005 1.725h3.099l-0.365 3.446-2.732 0.001-0.003 10z",size:20},gplus:{path:"M10.919 1.25c0 0-3.925 0-5.233 0-2.346 0-4.554 1.777-4.554 3.836 0 2.104 1.599 3.802 3.986 3.802 0.166 0 0.327-0.003 0.485-0.015-0.155 0.297-0.266 0.631-0.266 0.977 0 0.585 0.315 1.059 0.712 1.446-0.301 0-0.591 0.009-0.907 0.009-2.906-0-5.143 1.851-5.143 3.77 0 1.89 2.452 3.073 5.358 3.073 3.313 0 5.143-1.88 5.143-3.77 0-1.516-0.447-2.423-1.83-3.401-0.473-0.335-1.378-1.149-1.378-1.628 0-0.561 0.16-0.837 1.004-1.497 0.865-0.676 1.478-1.627 1.478-2.733 0-1.317-0.586-2.6-1.687-3.023h1.659l1.171-0.847zM9.091 14.052c0.042 0.175 0.064 0.356 0.064 0.54 0 1.527-0.984 2.721-3.808 2.721-2.009 0-3.459-1.272-3.459-2.799 0-1.497 1.799-2.743 3.808-2.721 0.469 0.005 0.906 0.080 1.302 0.209 1.090 0.758 1.873 1.187 2.093 2.051zM5.875 8.355c-1.348-0.040-2.63-1.508-2.862-3.279-0.233-1.771 0.671-3.126 2.019-3.086 1.348 0.041 2.63 1.461 2.862 3.232 0.233 1.771-0.672 3.173-2.019 3.133zM16.25 5v-3.75h-1.25v3.75h-3.75v1.25h3.75v3.75h1.25v-3.75h3.75v-1.25z",size:20},comments:{path:"M21.25 17.601c0 0.889 0.508 1.658 1.25 2.035v0.311c-0.208 0.028-0.419 0.043-0.635 0.043-1.328 0-2.526-0.557-3.373-1.45-0.512 0.136-1.055 0.21-1.617 0.21-3.107 0-5.625-2.239-5.625-5 0-2.761 2.518-5 5.625-5 3.107 0 5.625 2.239 5.625 5 0 1.081-0.386 2.082-1.042 2.9-0.133 0.29-0.208 0.612-0.208 0.951zM4.505 4.32c-1.293 1.051-2.005 2.402-2.005 3.805 0 0.787 0.219 1.55 0.649 2.269 0.444 0.741 1.113 1.418 1.933 1.958 0.593 0.39 0.992 1.015 1.097 1.717 0.035 0.234 0.057 0.47 0.066 0.706 0.146-0.121 0.288-0.251 0.427-0.39 0.472-0.472 1.109-0.732 1.768-0.732 0.105 0 0.21 0.007 0.316 0.020 0.409 0.052 0.827 0.078 1.242 0.079v2.5c-0.53-0-1.050-0.034-1.557-0.098-2.148 2.148-4.712 2.533-7.191 2.59v-0.526c1.339-0.656 2.5-1.85 2.5-3.216 0-0.191-0.015-0.378-0.042-0.56-2.262-1.49-3.708-3.765-3.708-6.315 0-4.487 4.477-8.125 10-8.125 5.439 0 9.863 3.528 9.997 7.92-0.803-0.358-1.677-0.575-2.583-0.636-0.225-1.095-0.887-2.125-1.919-2.964-0.69-0.561-1.502-1.004-2.415-1.317-0.971-0.334-2.007-0.503-3.080-0.503-1.073 0-2.109 0.169-3.080 0.503-0.912 0.314-1.725 0.757-2.415 1.317z",size:24},history:{path:"M11.25 0.625c4.832 0 8.75 3.917 8.75 8.75s-3.918 8.75-8.75 8.75v-1.875c1.836 0 3.563-0.715 4.861-2.014 1.299-1.299 2.014-3.025 2.014-4.861 0-1.836-0.715-3.563-2.014-4.861-1.299-1.299-3.025-2.014-4.861-2.014-1.836 0-3.563 0.715-4.861 2.014-0.999 0.999-1.652 2.251-1.901 3.611h3.637l-4.375 5-4.375-5h3.214c0.607-4.24 4.253-7.5 8.661-7.5zM15 8.125v2.5h-5v-6.25h2.5v3.75z",size:20},share:{path:"M5 11.875c0 0 1.149-3.75 7.5-3.75v3.75l7.5-5-7.5-5v3.75c-5 0-7.5 3.119-7.5 6.25zM13.75 14.375h-11.25v-7.5h2.459c0.197-0.233 0.408-0.456 0.635-0.668 0.859-0.804 1.886-1.419 3.049-1.832h-8.642v12.5h16.25v-5.247l-2.5 1.667v1.080z",size:20},projectStructure:{path:"M13,10V8V7H9V6h3V5V0H6H5v6h3v1H3v1v2H1H0v6h7v-1v-5H4V8h8v2h-2H9v6h7v-1v-5H13z M6,11v1H1v-1H6z M6,2V1h5v1H6z M15,12h-5 v-1h5V12z",size:20},settings:{path:"M17.356 8.028h-2.312c-0.11-0.44-0.33-0.881-0.551-1.211l1.541-1.542c0.33-0.33 0.33-0.991 0-1.321l-0.661-0.661c-0.33-0.33-0.991-0.33-1.321 0l-1.541 1.652c-0.44-0.33-0.881-0.44-1.431-0.551v-2.092c0-0.44-0.33-0.881-0.881-0.881h-0.881c-0.551 0-0.991 0.44-0.991 0.881v1.982c-0.44 0.22-0.991 0.44-1.431 0.661l-1.321-1.321c-0.33-0.33-0.881-0.33-1.321 0l-0.551 0.661c-0.44 0.44-0.44 0.991 0 1.321l1.321 1.321c-0.33 0.551-0.551 0.991-0.661 1.652h-1.762c-0.44 0-0.881 0.33-0.881 0.881v0.881c0 0.551 0.44 0.991 0.881 0.991h1.872c0.22 0.551 0.44 1.101 0.771 1.541l-1.211 1.211c-0.33 0.33-0.33 0.991 0 1.321l0.661 0.661c0.33 0.33 0.991 0.33 1.321 0l1.321-1.431c0.44 0.22 0.991 0.44 1.542 0.44v1.872c0 0.551 0.44 0.881 0.881 0.881h0.881c0.551 0.11 0.991-0.33 0.991-0.771v-2.202c0.44-0.11 0.881-0.33 1.321-0.661l1.431 1.431c0.33 0.33 0.991 0.33 1.321 0l0.661-0.661c0.33-0.33 0.33-0.991 0-1.321l-1.652-1.652c0.22-0.33 0.33-0.661 0.44-1.211h2.202c0.551 0 0.881-0.44 0.881-0.881v-0.881c0-0.551-0.44-0.991-0.881-0.991zM9.758 11.991c-1.211 0-2.312-0.991-2.312-2.312s0.991-2.312 2.312-2.312c1.321 0 2.312 0.991 2.312 2.312 0 1.321-1.101 2.312-2.312 2.312z",size:20},align:{path:"M17.5 12.5h-11.25v2.5h11.25v-2.5zM18.75 11.25v0 5h-13.75v-5h13.75zM1.25 0h2.5v20h-2.5zM5 3.75h8.75v5h-8.75z",size:20},arrange:{path:"M20 6.25l-10-5-10 5 10 5 10-5zM10 2.91l6.681 3.34-6.681 3.34-6.681-3.34 6.681-3.34zM17.997 8.998l2.003 1.002-10 5-10-5 2.003-1.002 7.997 3.998zM17.997 12.748l2.003 1.002-10 5-10-5 2.003-1.002 7.997 3.998z",size:20},group:{path:"M18.264 4.225c0.455 0 0.853-0.398 0.853-0.853v-1.706c0-0.455-0.398-0.853-0.853-0.853h-1.706c-0.455 0-0.853 0.398-0.853 0.853v0.284h-11.376v-0.284c0-0.455-0.398-0.853-0.853-0.853h-1.706c-0.455 0-0.853 0.398-0.853 0.853v1.706c0 0.455 0.398 0.853 0.853 0.853h0.284v11.376h-0.284c-0.455 0-0.853 0.398-0.853 0.853v1.706c0 0.455 0.398 0.853 0.853 0.853h1.706c0.455 0 0.853-0.398 0.853-0.853v-0.284h11.376v0.284c0 0.455 0.398 0.853 0.853 0.853h1.706c0.455 0 0.853-0.398 0.853-0.853v-1.706c0-0.455-0.398-0.853-0.853-0.853h-0.284v-11.376h0.284zM16.842 1.95h1.138v1.138h-1.138v-1.138zM2.053 1.95h1.138v1.138h-1.138v-1.138zM3.19 17.876h-1.138v-1.138h1.138v1.138zM17.979 17.876h-1.138v-1.138h1.138v1.138zM16.842 15.601h-0.284c-0.455 0-0.853 0.398-0.853 0.853v0.284h-11.376v-0.284c0-0.455-0.398-0.853-0.853-0.853h-0.284v-11.376h0.284c0.455 0 0.853-0.398 0.853-0.853v-0.284h11.376v0.284c0 0.455 0.398 0.853 0.853 0.853h0.284v11.376zM4.897 4.566v3.583h5.688v-3.583h-5.688zM9.732 7.296h-4.038v-1.934h4.038v1.934zM14.794 14.691h-5.688v-4.778h5.688v4.778z",size:20},lock:{path:"M15.859 8.203h-1.172v-3.516c0-2.589-2.099-4.688-4.688-4.688s-4.688 2.099-4.688 4.688v3.516h-1.172c-0.645 0-1.172 0.527-1.172 1.172v8.203c0 0.645 0.527 1.172 1.172 1.172h11.719c0.645 0 1.172-0.527 1.172-1.172v-8.203c0-0.645-0.527-1.172-1.172-1.172zM10 15.234c-0.647 0-1.172-0.525-1.172-1.172s0.525-1.172 1.172-1.172 1.172 0.525 1.172 1.172-0.525 1.172-1.172 1.172zM12.344 8.203h-4.688v-3.516c0-1.292 1.051-2.344 2.344-2.344s2.344 1.051 2.344 2.344v3.516z",size:20},unlock:{path:"M15 0h-2.5c-2.068 0-3.75 1.682-3.75 3.75v3.75h-7.813c-0.516 0-0.938 0.422-0.938 0.938v9.375c0 0.516 0.422 0.938 0.938 0.938h10.625c0.516 0 0.938-0.422 0.938-0.938v-9.375c0-0.516-0.422-0.938-0.938-0.938h-0.313v-3.75c0-0.689 0.561-1.25 1.25-1.25h2.5c0.689 0 1.25 0.561 1.25 1.25v3.75h2.5v-3.75c0-2.068-1.682-3.75-3.75-3.75zM7.5 16.25h-2.5l0.544-2.719c-0.328-0.225-0.544-0.603-0.544-1.031 0-0.69 0.56-1.25 1.25-1.25 0.69 0 1.25 0.56 1.25 1.25 0 0.428-0.215 0.806-0.544 1.031l0.544 2.719z",size:20},hotspot:{path:"M14.579 9.007c-0.526 0-1.053 0.526-1.053 1.053v-0.947c0-0.632-0.421-1.158-1.053-1.158-0.421 0-0.842 0.316-0.947 0.632v-0.526c0-0.632-0.526-1.158-1.053-1.158-0.421 0-0.842 0.316-0.947 0.632v-2.211c0-0.526-0.421-1.053-1.053-1.053-0.526 0-1.053 0.526-1.053 1.053v7.368l-1.474-1.789c-0.316-0.421-1.053-0.526-1.474-0.211s-0.526 1.053-0.211 1.474l1.789 2.211c0.316 0.421 1.158 2.947 1.684 2.947h6.842c0.526 0 1.053-2.632 1.053-3.158v-4.211c0-0.421-0.421-0.947-1.053-0.947zM8.684 2.164c0.316 0 0.526-0.211 0.526-0.526v-1.053c0-0.316-0.211-0.526-0.526-0.526s-0.526 0.211-0.526 0.526v1.053c0 0.316 0.211 0.526 0.526 0.526zM6.158 4.796c0-0.316-0.316-0.526-0.526-0.526h-2.105c-0.316 0-0.526 0.211-0.526 0.526s0.211 0.526 0.526 0.526h2.105c0.211 0 0.526-0.211 0.526-0.526zM11.316 4.796c0 0.316 0.211 0.526 0.526 0.526h2.105c0.316 0 0.526-0.211 0.526-0.526s-0.211-0.526-0.526-0.526h-2.105c-0.316 0-0.526 0.211-0.526 0.526zM11.316 2.901l1.684-1.263c0.211-0.211 0.211-0.526 0.105-0.737-0.211-0.211-0.526-0.316-0.737-0.105l-1.684 1.263c-0.211 0.211-0.316 0.526-0.105 0.737s0.526 0.316 0.737 0.105zM6.158 2.901c0.211 0.211 0.526 0.105 0.737-0.105s0.105-0.526-0.105-0.737l-1.684-1.263c-0.211-0.211-0.632-0.105-0.737 0.105-0.211 0.211-0.105 0.526 0.105 0.737l1.684 1.263z",size:20},undo:{path:"M10 1.25c-2.761 0-5.261 1.12-7.071 2.929l-2.929-2.929v7.5h7.5l-2.803-2.803c1.357-1.357 3.232-2.197 5.303-2.197 4.142 0 7.5 3.358 7.5 7.5 0 2.24-0.982 4.251-2.539 5.625l1.654 1.875c2.076-1.832 3.386-4.513 3.386-7.5 0-5.523-4.477-10-10-10z",size:20},redo:{path:"M0 11.25c0 2.987 1.31 5.668 3.386 7.5l1.654-1.875c-1.557-1.374-2.539-3.385-2.539-5.625 0-4.142 3.358-7.5 7.5-7.5 2.071 0 3.946 0.84 5.303 2.197l-2.803 2.803h7.5v-7.5l-2.929 2.929c-1.81-1.81-4.309-2.929-7.071-2.929-5.523 0-10 4.477-10 10z",size:20},cloudUpload:{path:"M16.729 8.293c0 0 0.346-4.662-3.925-5.194-3.661-0.374-4.775 3.028-4.775 3.028s-1.102-1.060-2.598-0.194c-1.339 0.827-1.102 2.34-1.102 2.34s-2.973 0.578-2.973 3.609c0.066 3.027 3.228 3.058 3.228 3.058h4.987v-3.2h-1.6l2.666-2.666 2.666 2.666h-1.6v3.2h4.515c0 0 2.944 0.003 3.357-2.877 0.197-3.149-2.845-3.77-2.845-3.77z",size:20},cloudDownload:{path:"M17.402 7.032c-0.063-2.514-2.118-4.532-4.646-4.532-1.48 0-2.798 0.693-3.649 1.772-0.477-0.617-1.224-1.015-2.065-1.015-1.442 0-2.61 1.169-2.61 2.612 0 0.126 0.009 0.249 0.027 0.37-0.219-0.040-0.445-0.061-0.675-0.061-2.090-0-3.784 1.695-3.784 3.786 0 2.091 1.694 3.786 3.784 3.786h1.948l4.268 4.268 4.268-4.268 2.334-0c1.878-0.004 3.399-1.528 3.399-3.407 0-1.603-1.107-2.947-2.598-3.31zM10 16.25l-3.75-3.75h2.5v-3.75h2.5v3.75h2.5l-3.75 3.75z",size:20},dropbox:{path:"M4.487 7.176l5.513 3.404-3.817 3.181-5.469-3.56zM15.491 13.371v1.205l-5.469 3.27v0.011l-0.011-0.011-0.011 0.011v-0.011l-5.458-3.27v-1.205l1.641 1.071 3.817-3.17v-0.022l0.011 0.011 0.011-0.011v0.022l3.828 3.17zM6.183 0.603l3.817 3.181-5.513 3.393-3.772-3.013zM15.513 7.176l3.772 3.025-5.458 3.56-3.828-3.181zM13.828 0.603l5.458 3.56-3.772 3.013-5.513-3.393z",size:20},googledrive:{path:"M9.036 12.121l-3.125 5.414h10.339l3.125-5.414zM18.489 10.586l-5.364-9.293h-6.25l5.364 9.293zM5.987 2.832l-5.362 9.289 3.125 5.414 5.362-9.289z",size:20},newTab:{path:"M13.75 10.417l2.5-2.5v10h-15v-15h10l-2.5 2.5h-5v10h10zM18.75 0.417v6.875l-2.554-2.554-6.929 6.929h-1.768v-1.768l6.929-6.929-2.554-2.554z",size:20},user:{path:"M12.165 13.725c-0.432-0.069-0.442-1.256-0.442-1.256s1.269-1.256 1.545-2.945c0.744 0 1.203-1.796 0.459-2.428 0.031-0.665 0.956-5.221-3.728-5.221-4.684 0-3.759 4.556-3.728 5.221-0.744 0.632-0.285 2.428 0.459 2.428 0.277 1.689 1.545 2.945 1.545 2.945s-0.010 1.187-0.442 1.256c-1.391 0.221-6.585 2.512-6.585 5.025h17.5c0-2.512-5.194-4.803-6.585-5.025z",size:20},password:{path:"M12.546 3.135c-2.344 0-4.243 1.9-4.243 4.243 0 0.266 0.025 0.525 0.071 0.777l-5.163 5.163v2.546c0 0.469 0.38 0.849 0.849 0.849h0.849v-0.849h1.697v-1.697h1.697v-1.697h1.697l1.101-1.101c0.451 0.163 0.937 0.252 1.445 0.252 2.344 0 4.243-1.9 4.243-4.243s-1.9-4.243-4.243-4.243zM13.817 7.38c-0.703 0-1.273-0.57-1.273-1.273s0.57-1.273 1.273-1.273 1.273 0.57 1.273 1.273-0.57 1.273-1.273 1.273z",size:20},email:{path:"M10.009 11.678l-2.388-1.961-5.198 6.137h15.178l-5.199-6.198-2.393 2.022zM18.168 4.146h-16.315l8.158 6.861 8.157-6.861zM12.76 9.347l5.45 6.501v-11.116l-5.45 4.615zM1.791 4.732v11.116l5.45-6.501-5.45-4.615z",size:20},edit:{path:"M16.875 0c1.726 0 3.125 1.399 3.125 3.125 0 0.704-0.233 1.353-0.625 1.875l-1.25 1.25-4.375-4.375 1.25-1.25c0.522-0.392 1.171-0.625 1.875-0.625zM1.25 14.375l-1.25 5.625 5.625-1.25 11.563-11.563-4.375-4.375-11.563 11.563zM13.976 7.101l-8.75 8.75-1.077-1.077 8.75-8.75 1.077 1.077z",size:20},next:{path:"M10.015 2.9v3.828l-7.017-0.001v5.552h7.017v3.821l7.583-6.601z",size:20},prev:{path:"M9.985 16.1v-3.828l7.017 0.001v-5.552h-7.017v-3.821l-7.583 6.601z",size:20},close:{path:"M18.75 14.624l-5.254-5.249 5.254-5.249-3.501-3.501-5.249 5.251-5.251-5.251-3.499 3.501 5.249 5.249-5.249 5.249 3.499 3.501 5.251-5.251 5.249 5.251z",size:20},link:{path:"M6.25 13.75c0.344 0.344 0.923 0.327 1.288-0.038l6.174-6.174c0.365-0.365 0.382-0.944 0.038-1.288s-0.923-0.327-1.288 0.038l-6.174 6.174c-0.365 0.365-0.382 0.944-0.038 1.288zM9.314 13.186c0.089 0.177 0.137 0.374 0.137 0.58 0 0.344-0.132 0.665-0.371 0.904l-3.191 3.191c-0.239 0.239-0.56 0.371-0.904 0.371s-0.665-0.132-0.904-0.371l-1.941-1.941c-0.239-0.239-0.371-0.56-0.371-0.904s0.132-0.665 0.371-0.904l3.191-3.191c0.239-0.239 0.56-0.371 0.904-0.371 0.206 0 0.403 0.047 0.58 0.137l1.276-1.276c-0.544-0.418-1.2-0.628-1.856-0.628-0.781 0-1.562 0.296-2.154 0.889l-3.191 3.191c-1.185 1.185-1.185 3.124 0 4.309l1.941 1.941c0.592 0.592 1.373 0.889 2.154 0.889 0.781 0 1.562-0.296 2.154-0.889l3.191-3.191c1.090-1.090 1.177-2.818 0.261-4.011l-1.276 1.276zM19.111 2.83l-1.941-1.941c-0.592-0.593-1.373-0.889-2.154-0.889-0.781 0-1.562 0.296-2.154 0.889l-3.191 3.191c-1.090 1.090-1.177 2.818-0.261 4.011l1.276-1.276c-0.089-0.177-0.136-0.374-0.136-0.58 0-0.344 0.132-0.665 0.371-0.904l3.191-3.191c0.239-0.239 0.56-0.371 0.904-0.371s0.665 0.132 0.904 0.371l1.941 1.941c0.239 0.239 0.371 0.56 0.371 0.904s-0.132 0.665-0.371 0.904l-3.191 3.191c-0.239 0.239-0.56 0.371-0.904 0.371-0.206 0-0.403-0.047-0.58-0.137l-1.276 1.276c0.544 0.418 1.2 0.628 1.856 0.628 0.781 0 1.562-0.296 2.154-0.889l3.191-3.191c1.185-1.185 1.185-3.124 0-4.309z",size:20},reply:{path:"M5.12 0c-2.221 4.024-2.596 10.162 6.13 9.957v-4.957l7.5 7.5-7.5 7.5v-4.851c-10.448 0.272-11.613-9.223-6.13-15.149z",size:20},search:{path:"M11.803 0c-4.59 0-8.197 3.607-8.197 8.197 0 1.639 0.492 3.279 1.311 4.59l-4.918 4.918 2.295 2.295 4.918-4.918c1.311 0.82 2.951 1.311 4.59 1.311 4.59 0 8.197-3.607 8.197-8.197s-3.77-8.197-8.197-8.197zM11.803 13.115c-2.787 0-4.918-2.131-4.918-4.918s2.131-4.918 4.918-4.918c2.787 0 4.918 2.131 4.918 4.918s-2.295 4.918-4.918 4.918z",size:20},clearSearch:{path:"M7,0C3.134,0,0,3.134,0,7s3.134,7,7,7c3.866,0,7-3.134,7-7S10.866,0,7,0z M11.372,9.722l-1.65,1.65L7,8.65l-2.722,2.722 l-1.65-1.65L5.35,7L2.628,4.278l1.65-1.65L7,5.35l2.722-2.722l1.65,1.65L8.65,7L11.372,9.722z",size:14},pdf:{path:"M16.446 11.513c-0.267-0.263-0.858-0.402-1.757-0.414-0.609-0.007-1.342 0.047-2.113 0.155-0.345-0.199-0.701-0.416-0.98-0.677-0.751-0.701-1.378-1.675-1.769-2.746 0.025-0.1 0.047-0.188 0.067-0.278 0 0 0.423-2.404 0.311-3.216-0.015-0.111-0.025-0.144-0.055-0.23l-0.037-0.094c-0.115-0.265-0.341-0.547-0.695-0.531l-0.213-0.007c-0.395 0-0.716 0.202-0.801 0.503-0.257 0.946 0.008 2.361 0.488 4.194l-0.123 0.299c-0.344 0.837-0.774 1.681-1.154 2.425l-0.049 0.097c-0.4 0.782-0.762 1.446-1.091 2.008l-0.339 0.179c-0.025 0.013-0.606 0.321-0.743 0.403-1.157 0.691-1.924 1.475-2.051 2.098-0.040 0.199-0.010 0.453 0.196 0.571l0.328 0.165c0.142 0.071 0.293 0.107 0.446 0.107 0.824 0 1.781-1.027 3.1-3.327 1.522-0.495 3.255-0.907 4.774-1.135 1.157 0.652 2.581 1.104 3.479 1.104 0.16 0 0.297-0.015 0.409-0.045 0.172-0.046 0.318-0.144 0.406-0.277 0.174-0.262 0.21-0.624 0.162-0.994-0.014-0.11-0.102-0.246-0.197-0.338zM4.134 15.899c0.15-0.411 0.745-1.224 1.625-1.944 0.055-0.045 0.192-0.173 0.316-0.291-0.92 1.467-1.536 2.052-1.941 2.236zM9.344 3.9c0.265 0 0.416 0.668 0.428 1.294s-0.134 1.066-0.316 1.391c-0.15-0.481-0.223-1.24-0.223-1.736 0 0-0.011-0.948 0.111-0.948zM7.79 12.451c0.185-0.33 0.377-0.679 0.573-1.048 0.478-0.905 0.78-1.612 1.005-2.194 0.447 0.814 1.005 1.506 1.66 2.061 0.082 0.069 0.168 0.139 0.259 0.208-1.332 0.264-2.484 0.584-3.497 0.974zM16.19 12.376c-0.081 0.051-0.314 0.080-0.463 0.080-0.483 0-1.080-0.221-1.917-0.579 0.322-0.024 0.616-0.036 0.881-0.036 0.484 0 0.627-0.002 1.101 0.119s0.479 0.366 0.398 0.417zM17.645 3.895l-2.79-2.79c-0.608-0.608-1.808-1.105-2.667-1.105h-9.375c-0.859 0-1.563 0.703-1.563 1.563v16.875c0 0.859 0.703 1.563 1.563 1.563h14.375c0.859 0 1.563-0.703 1.563-1.563v-11.875c0-0.859-0.497-2.060-1.105-2.667zM16.761 4.779c0.061 0.061 0.122 0.136 0.181 0.221h-3.193v-3.192c0.085 0.059 0.16 0.12 0.221 0.181l2.79 2.79zM17.5 18.438c0 0.169-0.143 0.313-0.313 0.313h-14.375c-0.169 0-0.313-0.143-0.313-0.313v-16.875c0-0.169 0.143-0.313 0.313-0.313h9.375c0.094 0 0.2 0.012 0.313 0.033v4.967h4.967c0.021 0.112 0.033 0.218 0.033 0.313v11.875z",size:20},image:{path:"M15,3.3l-2.4-2.4C12.1,0.4,11.1,0,10.4,0h-8C1.7,0,1.1,0.6,1.1,1.3v14.3c0,0.7,0.6,1.3,1.3,1.3h12.2c0.7,0,1.3-0.6,1.3-1.3 V5.6C15.9,4.8,15.5,3.8,15,3.3L15,3.3z M14.2,4.1c0.1,0.1,0.1,0.1,0.2,0.2h-2.7V1.5c0.1,0.1,0.1,0.1,0.2,0.2L14.2,4.1L14.2,4.1z M14.9,15.7c0,0.1-0.1,0.3-0.3,0.3H2.4c-0.1,0-0.3-0.1-0.3-0.3V1.3c0-0.1,0.1-0.3,0.3-0.3h8c0.1,0,0.2,0,0.3,0v4.2h4.2 c0,0.1,0,0.2,0,0.3V15.7z M6,8.6C6,9,5.9,9.4,5.6,9.6s-0.6,0.4-1.1,0.4c-0.4,0-0.8-0.1-1.1-0.4C3.2,9.4,3,9,3,8.6 c0-0.4,0.1-0.8,0.4-1.1c0.3-0.3,0.6-0.4,1.1-0.4c0.4,0,0.8,0.1,1.1,0.4C5.9,7.8,6,8.2,6,8.6z M14,11.6v3.5H3v-1.5l2.5-2.5l1.2,1.2 l4-4L14,11.6z",size:17},moqups:{path:"M293.602,18.294c-1.969-4.85-4.055-10.657-4.541-18.294c-0.076,0.025-12.139,2.275-12.139,2.275 c-4.215,12.313-11.75,22.876-20.518,29.131c0.039-0.114,0.393-0.984,0.736-1.853c0.92-2.324,1.408-4.752,1.824-7.15 s0.623-4.633,0.623-6.706c0-4.618-1.053-8.274-3.16-10.969c-2.105-2.694-5.119-4.042-9.035-4.042c-2.85,0-5.521,0.682-8.014,2.043 c-2.49,1.363-4.598,2.932-6.318,4.708c0.059-0.474,0.059-1.066,0-1.776c-0.061-0.711-0.148-1.422-0.268-2.132 c-0.119-0.711-0.254-1.377-0.402-1.999c-0.148-0.621-0.311-1.079-0.488-1.376l-11.039,4.352c0.475,1.363,0.758,2.946,0.846,4.752 c0.09,1.807-0.135,3.983-0.668,6.528l-3.629,17.044c-0.371,0.5-0.775,1.012-1.256,1.552c-0.711,0.803-1.51,1.529-2.398,2.182 c-0.887,0.652-1.807,1.202-2.752,1.646c-0.949,0.445-1.896,0.667-2.844,0.667c-0.709,0-1.346-0.342-1.953-0.979 c-0.891-0.931-1.197-4.047-0.666-6.877c0,0,0,0,0-0.001l6.533-30.78l-11.99,2.404l-6.307,29.645 c-0.475,0.714-1.066,1.47-1.775,2.271c-0.711,0.803-1.51,1.529-2.398,2.182s-1.807,1.202-2.754,1.646 c-0.947,0.445-1.896,0.667-2.842,0.667c-0.711,0-1.363-0.326-1.955-0.979s-0.887-1.483-0.887-2.493c0-0.652,0.072-1.542,0.221-2.671 c0.148-1.127,0.369-2.284,0.666-3.472l6.219-29.289l-12.258,2.221l-6.129,29.133c-0.2,0.936-0.358,1.781-0.483,2.556 c-0.094,0.108-0.171,0.211-0.269,0.321c-0.711,0.803-1.51,1.529-2.398,2.182s-1.808,1.202-2.754,1.646 c-0.948,0.445-1.896,0.667-2.843,0.667c-0.71,0-1.362-0.326-1.954-0.979c-0.593-0.652-0.888-1.483-0.888-2.493 c0-0.652,0.073-1.542,0.222-2.671c0.147-1.127,0.313-2.368,0.61-3.556l3.056-14.55c0.472-2.012,0.959-4.011,1.463-5.995 c0.502-1.983,0.99-3.655,1.465-5.019c-1.716-1.184-4.049-2.027-6.997-2.531c-2.947-0.502-6.103-0.755-9.463-0.755 c-4.247,0-7.858,0.652-10.837,1.954c-2.978,1.304-5.586,3.08-7.825,5.329c-1.556,1.802-3.383,3.429-5.333,4.868 c-2.219,1.49-4.723,2.771-7.356,3.768c0.004-0.094,0.01-0.188,0.01-0.283c0-5.032-1.451-8.882-4.352-11.547 c-2.902-2.664-6.959-3.997-12.169-3.997c-3.908,0-7.476,0.83-10.702,2.487c-3.229,1.658-5.981,3.908-8.261,6.75 c-2.28,2.843-4.057,6.159-5.329,9.948c-1.274,3.79-1.91,7.816-1.91,12.079c0,1.015,0.078,1.96,0.188,2.878 c-0.675,0.705-1.375,1.345-2.113,1.89c-1.688,1.25-3.3,1.875-4.84,1.875c-1.066,0-1.82-0.178-2.266-0.535 c-0.443-0.357-0.666-1.043-0.666-2.053c0-0.951,0.178-2.262,0.533-3.928l2.867-13.541h-0.002l0.477-2.237 c0.236-1.124,0.414-2.176,0.533-3.153c0.118-0.977,0.178-1.909,0.178-2.798c0-3.375-0.889-5.787-2.665-7.238 c-1.776-1.45-3.936-2.177-6.476-2.177c-2.476,0-4.907,0.504-7.294,1.51c-2.387,1.008-4.818,2.754-7.293,5.241 c-0.236-2.368-1.106-4.086-2.609-5.152c-1.503-1.065-3.404-1.599-5.702-1.599c-5.097,0-9.849,2.186-14.262,6.529 c-0.433-1.603-1.273-2.953-2.539-4.043c-1.924-1.657-4.663-2.486-8.216-2.486c-2.665,0-5.092,0.563-7.283,1.688 c-1,0.514-1.943,1.075-2.846,1.675L0,14.669c0.173-0.208,0.332-0.41,0.521-0.624c0.711-0.803,1.51-1.529,2.398-2.182 c0.888-0.652,1.807-1.202,2.753-1.646C6.621,9.771,7.569,9.55,8.516,9.55c0.71,0,1.362,0.326,1.954,0.979 c0.593,0.652,0.888,1.483,0.888,2.493c0,0.652-0.073,1.542-0.222,2.671c-0.026,0.197-0.066,0.4-0.097,0.599l-6.576,30.83H16.01 l6.307-29.811c1.599-2.201,3.211-3.896,4.84-5.087c1.628-1.189,3.212-1.785,4.752-1.785c1.007,0,1.732,0.179,2.177,0.536 c0.443,0.357,0.666,1.012,0.666,1.963c0,1.249-0.208,2.737-0.622,4.462l-6.306,29.722h11.103l6.306-29.811 c1.361-2.081,2.887-3.748,4.574-4.997s3.301-1.875,4.841-1.875c1.065,0,1.82,0.179,2.265,0.536s0.666,1.042,0.666,2.052 c0,0.952-0.178,2.263-0.532,3.928l-1.359,6.504h0.003l-1.986,9.274c-0.236,1.125-0.414,2.176-0.532,3.154 c-0.118,0.977-0.178,1.908-0.179,2.797c0,3.375,0.889,5.787,2.666,7.238c1.775,1.451,3.936,2.178,6.475,2.178 c2.477,0,4.908-0.504,7.295-1.51c2.324-0.981,5.067-2.658,7.495-5.04c0.413,0.543,1.404,1.647,1.843,2.082 c2.783,2.754,6.779,4.13,11.991,4.13c4.499,0,8.422-0.903,11.769-2.709c3.345-1.805,6.113-4.203,8.305-7.194 c2.189-2.989,3.819-6.38,4.885-10.17c0.397-1.413,0.708-2.844,0.953-4.29c1.978-0.48,3.861-1.057,5.571-1.71 c-1.074,3.661-1.622,7.405-1.622,11.238c0,5.329,1.104,9.163,3.316,11.502c2.21,2.34,5.527,3.508,9.951,3.508 c1.768,0,3.744-0.475,5.926-1.421s4.009-2.101,5.483-3.464c-0.295,0.711-0.619,1.703-0.974,2.976 c-0.354,1.272-0.618,2.354-0.795,3.242l-3.626,17.23l12.028-3.02l3.323-15.826c0.633,0.063,1.287,0.104,1.982,0.104 c2.665,0,5.092-0.563,7.283-1.688c1.936-0.993,3.676-2.158,5.242-3.478c0.48,1.093,1.188,2.047,2.128,2.856 c1.924,1.657,4.664,2.486,8.217,2.486c2.664,0,5.092-0.563,7.283-1.688c1.43-0.734,4.109-2.747,6.279-4.486 c0.467,1.369,1.252,2.544,2.375,3.51c1.924,1.657,4.662,2.486,8.215,2.486c2.666,0,5.092-0.563,7.283-1.688 c1.251-0.642,2.414-1.358,3.511-2.136l-4.843,22.744l12.082-3.02l9.857-45.964c1.738-2.682,3.521-4.558,5.35-5.631 c1.826-1.071,3.49-1.608,4.99-1.608c1.557,0,2.65,0.447,3.281,1.341c0.629,0.894,0.943,2.265,0.943,4.11 c0,1.252-0.119,2.742-0.359,4.471c-0.24,1.728-0.584,3.484-1.033,5.271c-0.449,1.788-1.004,3.531-1.664,5.229 c-0.66,1.698-1.41,3.172-2.248,4.424c-0.719,1.073-1.648,1.996-2.787,2.771c-0.547,0.372-1.189,0.649-1.916,0.843 c-0.055,0.013-0.105,0.029-0.16,0.042c-0.746,0.182-1.578,0.276-2.508,0.276c-0.611,0-1.23-0.07-1.855-0.181l-1.877,8.694 c1.623,0.272,3.002,0.368,4.717,0.368c1.277,0,2.516-0.115,3.719-0.331c2.805-0.383,5.68-1.152,7.721-1.802 c16.178-5.144,28.84-17.783,34.496-29.522c5.424,13.536,1.719,17.893,0.914,19.094c-0.719,1.073-1.922,1.989-3.234,2.677 c-1.223,0.64-2.82,0.995-4.738,0.995c-0.641,0-1.289-0.074-1.943-0.194l-1.398,6.479c-0.119,0.635-0.256,1.28-0.42,1.946 l-0.059,0.271c1.664,0.284,3.057,0.381,4.805,0.381c3.027,0,6.074-0.415,8.688-1.628c2.611-1.213,5.277-2.743,7.129-5.021 C295.668,35.344,296.471,25.355,293.602,18.294z M101.517,31.04c-0.988,2.376-2.229,4.35-3.725,5.924 c-1.496,1.573-3.2,2.36-5.114,2.36c-1.734,0-3.111-0.504-4.127-1.514c-1.018-1.01-1.525-2.612-1.525-4.811 c0-1.723,0.238-3.935,0.717-6.637c0.475-2.678,1.2-5.268,2.173-7.77c1.861,4.43,7.358,6.199,13.527,6.347 C102.956,27.07,102.319,29.106,101.517,31.04z M104.415,18.502c-1.015-0.047-2.015-0.135-2.976-0.311 c-4.216-0.77-6.155-2.532-6.743-4.246c-0.473-1.788,0.282-3.482,1.483-3.992c0.01-0.005,0.014-0.008,0.023-0.012 c0.856-0.423,1.773-0.639,2.756-0.639c1.794,0,3.17,0.461,4.127,1.381c0.958,0.922,1.437,2.718,1.437,5.39 C104.522,16.854,104.479,17.67,104.415,18.502z M146.949,32.332c-1.315,2.213-2.75,3.885-4.305,5.02 c-1.555,1.136-3.048,1.703-4.482,1.703c-1.315,0-2.468-0.492-3.453-1.478c-0.986-0.985-1.539-2.824-1.658-5.514 c-0.06-1.255,0.016-2.793,0.225-4.616c0.208-1.822,0.582-3.704,1.12-5.647c0.538-1.941,1.256-3.778,2.152-5.512 c0.896-1.732,2.003-3.137,3.318-4.212c0.716-0.597,1.658-1.15,2.824-1.659c1.166-0.508,2.257-0.762,3.272-0.762 c1.374,0,2.495,0.03,3.362,0.091c0.866,0.06,1.689,0.238,2.467,0.537L146.949,32.332z",size:296},inspector:{path:"M9.883 0.286c-4.826 0.065-8.687 4.030-8.622 8.857 0.065 4.824 4.030 8.686 8.856 8.621 4.826-0.065 8.687-4.030 8.622-8.857-0.064-4.825-4.030-8.686-8.856-8.621zM10.852 3.199c0.888 0 1.15 0.515 1.15 1.105 0 0.736-0.59 1.417-1.596 1.417-0.842 0-1.242-0.424-1.218-1.123 0-0.59 0.494-1.399 1.663-1.399zM8.574 14.488c-0.607 0-1.052-0.369-0.627-1.989l0.696-2.873c0.121-0.461 0.141-0.645 0-0.645-0.181 0-0.97 0.318-1.436 0.632l-0.303-0.497c1.477-1.233 3.176-1.957 3.904-1.957 0.607 0 0.708 0.718 0.405 1.823l-0.798 3.021c-0.141 0.534-0.080 0.718 0.061 0.718 0.181 0 0.779-0.22 1.366-0.682l0.343 0.461c-1.435 1.435-3.002 1.988-3.61 1.988z",size:20}},FDBK.generateSVGIcons=function(a){if(a&&a[0]instanceof SVGElement)return;a=a||$("body"),$.each(a.find(".mq-svg-icon"),function(a,b){var c="http://www.w3.org/2000/svg",d=$(b).empty().css("min-width","1px").data("icon").split("-"),e=d[0],f=d[1]||20,g=d[2]||"#333",h=document.createElementNS(c,"svg"),i=document.createElementNS(c,"path");h.setAttribute("width",f),h.setAttribute("height",f),h.setAttribute("viewBox","0 0 "+FDBK.SVGIcons[e].size+" "+FDBK.SVGIcons[e].size),h.setAttribute("fill",g),i.setAttribute("d",FDBK.SVGIcons[e].path),h.appendChild(i),b.appendChild(h)})};var BASE_64={fromUTF8:function(a){return window.btoa(unescape(encodeURIComponent(a)))},toUTF8:function(a){return decodeURIComponent(escape(window.atob(a)))}};jQuery&&jQuery.fn?jQuery.fn.outerHTML=function(){if($(this).attr("outerHTML"))return $(this).attr("outerHTML");var a=$(this).wrap("<div></div>").parent().html();return $(this).unwrap(),a}:console.info("Fix me: jquery not loaded yet :("),jQuery&&jQuery.tmpl&&jQuery.fn.tmpl&&(jQuery.loc_tmpl=function(){var a=jQuery.tmpl.apply(this,arguments);return FDBK.i18n(a),FDBK.generateSVGIcons(a),a},jQuery.fn.loc_tmpl=function(){var a=jQuery.fn.tmpl.apply(this,arguments);return FDBK.i18n(a),FDBK.generateSVGIcons(a),a}),FDBK.trackEvent=function(a,b,c,d){d===undefined&&(d=null);try{_gaq.push(["_trackEvent",a,b,c,d,!0])}catch(e){console.log("_gaq not defined")}},FDBK.config("analytics.trackErrors")&&(window.onerror=function(a,b,c){var d="["+b+" ("+c+")] "+a;FDBK.trackEvent("Application","Exception",d)}),FDBK.mixinModule("eventTracking",{isProductionEnv:!1,initModule:function(){FDBK.sub("dom-ready",function(){if(!FDBK.isProductionEnv)return;FDBK.sub("opened-pricing-plans",function(a){FDBK.library.isUserLoggedIn()?FDBK.trackEvent("Pricing Plans","USER",a):FDBK.trackEvent("Pricing Plans","VISITOR",a),FDBK.trackEvent("PPC-CM","Pricing Plans Dialog",a)}),FDBK.sub("action-requires-account",function(){FDBK.trackEvent("Account","Required",null)}),FDBK.sub("opened-signup-dialog",function(){FDBK.trackEvent("Account","Signup dialog",null)}),FDBK.sub("account-created",function(){var a=FDBK.nextPlan?"through-pricing":"other";FDBK.trackEvent("Account","New account created",a)}),FDBK.sub("signup-error",function(a){FDBK.trackEvent("Account","Signup error",a)}),FDBK.sub("upgrade-reminder-sent",function(a){FDBK.trackEvent("Account","Upgrade reminder sent",a)}),FDBK.sub("fair-use-limit",function(){FDBK.trackEvent("Account","Stencils limit exceeded",FDBK.USER_DATA.uniqueId)}),FDBK.sub("plan-selected",function(a){FDBK.trackEvent("Payment","New plan selected",a),FDBK.trackEvent("PPC-CM","Payment Options Dialog",a)}),FDBK.sub("new-payment-initiated",function(){FDBK.trackEvent("Payment","Payment initiated",null)}),FDBK.sub("new-payment-successful",function(a){var b=0,c=FDBK.getCurrentPlan();c&&c.plan&&c.plan.price&&(b=c.plan.price),!b&&FDBK.nextPlan&&FDBK.nextPlan.plan.price&&(b=FDBK.nextPlan.plan.price),FDBK.trackEvent("Payment","Payment successful",a),FDBK.trackEvent("PPC-CM","Payment Successful Dialog",a,b),$("#dynamic-tracking").html($("#tmpl-conversion-tracking-images").loc_tmpl({price:b}))}),FDBK.sub("new-payment-error",function(a){FDBK.trackEvent("Payment","Payment error",null)}),FDBK.sub("added-billing-address",function(a){var b=a?"payment-flow":"account-settings";FDBK.trackEvent("Payment","Added billing address",b)}),FDBK.sub("user-upgraded-plan",function(a){FDBK.trackEvent("Payment","Plan upgraded",a)}),FDBK.sub("user-downgraded-plan",function(a){FDBK.trackEvent("Payment","Plan downgraded",a)}),FDBK.sub("viewer-promo-closed",function(){FDBK.trackEvent("Viewer","Promo closed",null)}),FDBK.sub("viewer-promo-clicked",function(){FDBK.trackEvent("Viewer","Promo clicked",null)}),FDBK.sub("chrome-install",function(a){FDBK.trackEvent("Chrome install",a,null)})})}}),$("html").addClass("preload-stuff"),$(function(){FDBK.isProductionEnv=FDBK.BASE_URL==="https://moqups.com/",FDBK.pub("dom-ready")})